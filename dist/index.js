!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var s in r)("object"==typeof exports?exports:e)[s]=r[s]}}(this,(()=>(()=>{var e={281:()=>{},343:(e,t)=>{"use strict";t.I=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",s={};for(let e=0;e<32;e++){const t=r.charAt(e);s[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function n(e){let t=1;for(let r=0;r<e.length;++r){const s=e.charCodeAt(r);if(s<33||s>126)return"Invalid prefix ("+e+")";t=i(t)^s>>5}t=i(t);for(let r=0;r<e.length;++r){const s=e.charCodeAt(r);t=i(t)^31&s}return t}function a(e,t,r,s){let i=0,n=0;const a=(1<<r)-1,o=[];for(let s=0;s<e.length;++s)for(i=i<<t|e[s],n+=t;n>=r;)n-=r,o.push(i>>n&a);if(s)n>0&&o.push(i<<r-n&a);else{if(n>=t)return"Excess padding";if(i<<r-n&a)return"Non-zero padding"}return o}function o(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function d(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function u(e){let t;function a(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const a=e.toLowerCase(),o=e.toUpperCase();if(e!==a&&e!==o)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const d=e.slice(0,c),u=e.slice(c+1);if(u.length<6)return"Data too short";let h=n(d);if("string"==typeof h)return h;const l=[];for(let e=0;e<u.length;++e){const t=u.charAt(e),r=s[t];if(void 0===r)return"Unknown character "+t;h=i(h)^r,e+6>=u.length||l.push(r)}return h!==t?"Invalid checksum for "+e:{prefix:d,words:l}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=a(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=a(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,s,a){if(a=a||90,e.length+7+s.length>a)throw new TypeError("Exceeds length limit");let o=n(e=e.toLowerCase());if("string"==typeof o)throw new Error(o);let c=e+"1";for(let e=0;e<s.length;++e){const t=s[e];if(t>>5)throw new Error("Non 5-bit word");o=i(o)^t,c+=r.charAt(t)}for(let e=0;e<6;++e)o=i(o);o^=t;for(let e=0;e<6;++e)c+=r.charAt(o>>5*(5-e)&31);return c},toWords:o,fromWordsUnsafe:c,fromWords:d}}t.I=u("bech32"),u("bech32m")},763:(e,t,r)=>{const s=r(983);e.exports=s("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},947:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},s=function(){throw new Error("no PRNG")},i=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var a=t(),o=t([1]),c=t([56129,1]),d=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(e,t,r,s){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=s>>24&255,e[t+5]=s>>16&255,e[t+6]=s>>8&255,e[t+7]=255&s}function m(e,t,r,s,i){var n,a=0;for(n=0;n<i;n++)a|=e[t+n]^r[s+n];return(1&a-1>>>8)-1}function b(e,t,r,s){return m(e,t,r,s,16)}function g(e,t,r,s){return m(e,t,r,s,32)}function y(e,t,r,s){!function(e,t,r,s){for(var i,n=255&s[0]|(255&s[1])<<8|(255&s[2])<<16|(255&s[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,d=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&s[4]|(255&s[5])<<8|(255&s[6])<<16|(255&s[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,_=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&s[8]|(255&s[9])<<8|(255&s[10])<<16|(255&s[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,f=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,T=255&s[12]|(255&s[13])<<8|(255&s[14])<<16|(255&s[15])<<24,E=n,v=a,x=o,O=c,w=d,B=u,I=h,C=l,P=p,S=_,A=m,j=b,k=g,U=y,Y=f,D=T,N=0;N<20;N+=2)E^=(i=(k^=(i=(P^=(i=(w^=(i=E+k|0)<<7|i>>>25)+E|0)<<9|i>>>23)+w|0)<<13|i>>>19)+P|0)<<18|i>>>14,B^=(i=(v^=(i=(U^=(i=(S^=(i=B+v|0)<<7|i>>>25)+B|0)<<9|i>>>23)+S|0)<<13|i>>>19)+U|0)<<18|i>>>14,A^=(i=(I^=(i=(x^=(i=(Y^=(i=A+I|0)<<7|i>>>25)+A|0)<<9|i>>>23)+Y|0)<<13|i>>>19)+x|0)<<18|i>>>14,D^=(i=(j^=(i=(C^=(i=(O^=(i=D+j|0)<<7|i>>>25)+D|0)<<9|i>>>23)+O|0)<<13|i>>>19)+C|0)<<18|i>>>14,E^=(i=(O^=(i=(x^=(i=(v^=(i=E+O|0)<<7|i>>>25)+E|0)<<9|i>>>23)+v|0)<<13|i>>>19)+x|0)<<18|i>>>14,B^=(i=(w^=(i=(C^=(i=(I^=(i=B+w|0)<<7|i>>>25)+B|0)<<9|i>>>23)+I|0)<<13|i>>>19)+C|0)<<18|i>>>14,A^=(i=(S^=(i=(P^=(i=(j^=(i=A+S|0)<<7|i>>>25)+A|0)<<9|i>>>23)+j|0)<<13|i>>>19)+P|0)<<18|i>>>14,D^=(i=(Y^=(i=(U^=(i=(k^=(i=D+Y|0)<<7|i>>>25)+D|0)<<9|i>>>23)+k|0)<<13|i>>>19)+U|0)<<18|i>>>14;E=E+n|0,v=v+a|0,x=x+o|0,O=O+c|0,w=w+d|0,B=B+u|0,I=I+h|0,C=C+l|0,P=P+p|0,S=S+_|0,A=A+m|0,j=j+b|0,k=k+g|0,U=U+y|0,Y=Y+f|0,D=D+T|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=O>>>0&255,e[13]=O>>>8&255,e[14]=O>>>16&255,e[15]=O>>>24&255,e[16]=w>>>0&255,e[17]=w>>>8&255,e[18]=w>>>16&255,e[19]=w>>>24&255,e[20]=B>>>0&255,e[21]=B>>>8&255,e[22]=B>>>16&255,e[23]=B>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=S>>>0&255,e[37]=S>>>8&255,e[38]=S>>>16&255,e[39]=S>>>24&255,e[40]=A>>>0&255,e[41]=A>>>8&255,e[42]=A>>>16&255,e[43]=A>>>24&255,e[44]=j>>>0&255,e[45]=j>>>8&255,e[46]=j>>>16&255,e[47]=j>>>24&255,e[48]=k>>>0&255,e[49]=k>>>8&255,e[50]=k>>>16&255,e[51]=k>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=Y>>>0&255,e[57]=Y>>>8&255,e[58]=Y>>>16&255,e[59]=Y>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,r,s)}function f(e,t,r,s){!function(e,t,r,s){for(var i,n=255&s[0]|(255&s[1])<<8|(255&s[2])<<16|(255&s[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,d=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&s[4]|(255&s[5])<<8|(255&s[6])<<16|(255&s[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,_=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&s[8]|(255&s[9])<<8|(255&s[10])<<16|(255&s[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,f=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,T=255&s[12]|(255&s[13])<<8|(255&s[14])<<16|(255&s[15])<<24,E=0;E<20;E+=2)n^=(i=(g^=(i=(p^=(i=(d^=(i=n+g|0)<<7|i>>>25)+n|0)<<9|i>>>23)+d|0)<<13|i>>>19)+p|0)<<18|i>>>14,u^=(i=(a^=(i=(y^=(i=(_^=(i=u+a|0)<<7|i>>>25)+u|0)<<9|i>>>23)+_|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(h^=(i=(o^=(i=(f^=(i=m+h|0)<<7|i>>>25)+m|0)<<9|i>>>23)+f|0)<<13|i>>>19)+o|0)<<18|i>>>14,T^=(i=(b^=(i=(l^=(i=(c^=(i=T+b|0)<<7|i>>>25)+T|0)<<9|i>>>23)+c|0)<<13|i>>>19)+l|0)<<18|i>>>14,n^=(i=(c^=(i=(o^=(i=(a^=(i=n+c|0)<<7|i>>>25)+n|0)<<9|i>>>23)+a|0)<<13|i>>>19)+o|0)<<18|i>>>14,u^=(i=(d^=(i=(l^=(i=(h^=(i=u+d|0)<<7|i>>>25)+u|0)<<9|i>>>23)+h|0)<<13|i>>>19)+l|0)<<18|i>>>14,m^=(i=(_^=(i=(p^=(i=(b^=(i=m+_|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+p|0)<<18|i>>>14,T^=(i=(f^=(i=(y^=(i=(g^=(i=T+f|0)<<7|i>>>25)+T|0)<<9|i>>>23)+g|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=n>>>0&255,e[1]=n>>>8&255,e[2]=n>>>16&255,e[3]=n>>>24&255,e[4]=u>>>0&255,e[5]=u>>>8&255,e[6]=u>>>16&255,e[7]=u>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=_>>>0&255,e[29]=_>>>8&255,e[30]=_>>>16&255,e[31]=_>>>24&255}(e,t,r,s)}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(e,t,r,s,i,n,a){var o,c,d=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)d[c]=0;for(c=0;c<8;c++)d[c]=n[c];for(;i>=64;){for(y(u,d,a,T),c=0;c<64;c++)e[t+c]=r[s+c]^u[c];for(o=1,c=8;c<16;c++)o=o+(255&d[c])|0,d[c]=255&o,o>>>=8;i-=64,t+=64,s+=64}if(i>0)for(y(u,d,a,T),c=0;c<i;c++)e[t+c]=r[s+c]^u[c];return 0}function v(e,t,r,s,i){var n,a,o=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)o[a]=0;for(a=0;a<8;a++)o[a]=s[a];for(;r>=64;){for(y(c,o,i,T),a=0;a<64;a++)e[t+a]=c[a];for(n=1,a=8;a<16;a++)n=n+(255&o[a])|0,o[a]=255&n,n>>>=8;r-=64,t+=64}if(r>0)for(y(c,o,i,T),a=0;a<r;a++)e[t+a]=c[a];return 0}function x(e,t,r,s,i){var n=new Uint8Array(32);f(n,s,i,T);for(var a=new Uint8Array(8),o=0;o<8;o++)a[o]=s[o+16];return v(e,t,r,a,n)}function O(e,t,r,s,i,n,a){var o=new Uint8Array(32);f(o,n,a,T);for(var c=new Uint8Array(8),d=0;d<8;d++)c[d]=n[d+16];return E(e,t,r,s,i,c,o)}var w=function(e){var t,r,s,i,n,a,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),s=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|s<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(s>>>7|i<<9),n=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|n<<12),this.r[5]=n>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(n>>>14|a<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function B(e,t,r,s,i,n){var a=new w(n);return a.update(r,s,i),a.finish(e,t),0}function I(e,t,r,s,i,n){var a=new Uint8Array(16);return B(a,0,r,s,i,n),b(e,t,a,0)}function C(e,t,r,s,i){var n;if(r<32)return-1;for(O(e,0,t,0,r,s,i),B(e,16,e,32,r-32,e),n=0;n<16;n++)e[n]=0;return 0}function P(e,t,r,s,i){var n,a=new Uint8Array(32);if(r<32)return-1;if(x(a,0,32,s,i),0!==I(t,16,t,32,r-32,a))return-1;for(O(e,0,t,0,r,s,i),n=0;n<32;n++)e[n]=0;return 0}function S(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function A(e){var t,r,s=1;for(t=0;t<16;t++)r=e[t]+s+65535,s=Math.floor(r/65536),e[t]=r-65536*s;e[0]+=s-1+37*(s-1)}function j(e,t,r){for(var s,i=~(r-1),n=0;n<16;n++)s=i&(e[n]^t[n]),e[n]^=s,t[n]^=s}function k(e,r){var s,i,n,a=t(),o=t();for(s=0;s<16;s++)o[s]=r[s];for(A(o),A(o),A(o),i=0;i<2;i++){for(a[0]=o[0]-65517,s=1;s<15;s++)a[s]=o[s]-65535-(a[s-1]>>16&1),a[s-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),n=a[15]>>16&1,a[14]&=65535,j(o,a,1-n)}for(s=0;s<16;s++)e[2*s]=255&o[s],e[2*s+1]=o[s]>>8}function U(e,t){var r=new Uint8Array(32),s=new Uint8Array(32);return k(r,e),k(s,t),g(r,0,s,0)}function Y(e){var t=new Uint8Array(32);return k(t,e),1&t[0]}function D(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function N(e,t,r){for(var s=0;s<16;s++)e[s]=t[s]+r[s]}function R(e,t,r){for(var s=0;s<16;s++)e[s]=t[s]-r[s]}function V(e,t,r){var s,i,n=0,a=0,o=0,c=0,d=0,u=0,h=0,l=0,p=0,_=0,m=0,b=0,g=0,y=0,f=0,T=0,E=0,v=0,x=0,O=0,w=0,B=0,I=0,C=0,P=0,S=0,A=0,j=0,k=0,U=0,Y=0,D=r[0],N=r[1],R=r[2],V=r[3],X=r[4],J=r[5],F=r[6],L=r[7],M=r[8],G=r[9],$=r[10],z=r[11],W=r[12],q=r[13],H=r[14],K=r[15];n+=(s=t[0])*D,a+=s*N,o+=s*R,c+=s*V,d+=s*X,u+=s*J,h+=s*F,l+=s*L,p+=s*M,_+=s*G,m+=s*$,b+=s*z,g+=s*W,y+=s*q,f+=s*H,T+=s*K,a+=(s=t[1])*D,o+=s*N,c+=s*R,d+=s*V,u+=s*X,h+=s*J,l+=s*F,p+=s*L,_+=s*M,m+=s*G,b+=s*$,g+=s*z,y+=s*W,f+=s*q,T+=s*H,E+=s*K,o+=(s=t[2])*D,c+=s*N,d+=s*R,u+=s*V,h+=s*X,l+=s*J,p+=s*F,_+=s*L,m+=s*M,b+=s*G,g+=s*$,y+=s*z,f+=s*W,T+=s*q,E+=s*H,v+=s*K,c+=(s=t[3])*D,d+=s*N,u+=s*R,h+=s*V,l+=s*X,p+=s*J,_+=s*F,m+=s*L,b+=s*M,g+=s*G,y+=s*$,f+=s*z,T+=s*W,E+=s*q,v+=s*H,x+=s*K,d+=(s=t[4])*D,u+=s*N,h+=s*R,l+=s*V,p+=s*X,_+=s*J,m+=s*F,b+=s*L,g+=s*M,y+=s*G,f+=s*$,T+=s*z,E+=s*W,v+=s*q,x+=s*H,O+=s*K,u+=(s=t[5])*D,h+=s*N,l+=s*R,p+=s*V,_+=s*X,m+=s*J,b+=s*F,g+=s*L,y+=s*M,f+=s*G,T+=s*$,E+=s*z,v+=s*W,x+=s*q,O+=s*H,w+=s*K,h+=(s=t[6])*D,l+=s*N,p+=s*R,_+=s*V,m+=s*X,b+=s*J,g+=s*F,y+=s*L,f+=s*M,T+=s*G,E+=s*$,v+=s*z,x+=s*W,O+=s*q,w+=s*H,B+=s*K,l+=(s=t[7])*D,p+=s*N,_+=s*R,m+=s*V,b+=s*X,g+=s*J,y+=s*F,f+=s*L,T+=s*M,E+=s*G,v+=s*$,x+=s*z,O+=s*W,w+=s*q,B+=s*H,I+=s*K,p+=(s=t[8])*D,_+=s*N,m+=s*R,b+=s*V,g+=s*X,y+=s*J,f+=s*F,T+=s*L,E+=s*M,v+=s*G,x+=s*$,O+=s*z,w+=s*W,B+=s*q,I+=s*H,C+=s*K,_+=(s=t[9])*D,m+=s*N,b+=s*R,g+=s*V,y+=s*X,f+=s*J,T+=s*F,E+=s*L,v+=s*M,x+=s*G,O+=s*$,w+=s*z,B+=s*W,I+=s*q,C+=s*H,P+=s*K,m+=(s=t[10])*D,b+=s*N,g+=s*R,y+=s*V,f+=s*X,T+=s*J,E+=s*F,v+=s*L,x+=s*M,O+=s*G,w+=s*$,B+=s*z,I+=s*W,C+=s*q,P+=s*H,S+=s*K,b+=(s=t[11])*D,g+=s*N,y+=s*R,f+=s*V,T+=s*X,E+=s*J,v+=s*F,x+=s*L,O+=s*M,w+=s*G,B+=s*$,I+=s*z,C+=s*W,P+=s*q,S+=s*H,A+=s*K,g+=(s=t[12])*D,y+=s*N,f+=s*R,T+=s*V,E+=s*X,v+=s*J,x+=s*F,O+=s*L,w+=s*M,B+=s*G,I+=s*$,C+=s*z,P+=s*W,S+=s*q,A+=s*H,j+=s*K,y+=(s=t[13])*D,f+=s*N,T+=s*R,E+=s*V,v+=s*X,x+=s*J,O+=s*F,w+=s*L,B+=s*M,I+=s*G,C+=s*$,P+=s*z,S+=s*W,A+=s*q,j+=s*H,k+=s*K,f+=(s=t[14])*D,T+=s*N,E+=s*R,v+=s*V,x+=s*X,O+=s*J,w+=s*F,B+=s*L,I+=s*M,C+=s*G,P+=s*$,S+=s*z,A+=s*W,j+=s*q,k+=s*H,U+=s*K,T+=(s=t[15])*D,a+=38*(v+=s*R),o+=38*(x+=s*V),c+=38*(O+=s*X),d+=38*(w+=s*J),u+=38*(B+=s*F),h+=38*(I+=s*L),l+=38*(C+=s*M),p+=38*(P+=s*G),_+=38*(S+=s*$),m+=38*(A+=s*z),b+=38*(j+=s*W),g+=38*(k+=s*q),y+=38*(U+=s*H),f+=38*(Y+=s*K),n=(s=(n+=38*(E+=s*N))+(i=1)+65535)-65536*(i=Math.floor(s/65536)),a=(s=a+i+65535)-65536*(i=Math.floor(s/65536)),o=(s=o+i+65535)-65536*(i=Math.floor(s/65536)),c=(s=c+i+65535)-65536*(i=Math.floor(s/65536)),d=(s=d+i+65535)-65536*(i=Math.floor(s/65536)),u=(s=u+i+65535)-65536*(i=Math.floor(s/65536)),h=(s=h+i+65535)-65536*(i=Math.floor(s/65536)),l=(s=l+i+65535)-65536*(i=Math.floor(s/65536)),p=(s=p+i+65535)-65536*(i=Math.floor(s/65536)),_=(s=_+i+65535)-65536*(i=Math.floor(s/65536)),m=(s=m+i+65535)-65536*(i=Math.floor(s/65536)),b=(s=b+i+65535)-65536*(i=Math.floor(s/65536)),g=(s=g+i+65535)-65536*(i=Math.floor(s/65536)),y=(s=y+i+65535)-65536*(i=Math.floor(s/65536)),f=(s=f+i+65535)-65536*(i=Math.floor(s/65536)),T=(s=T+i+65535)-65536*(i=Math.floor(s/65536)),n=(s=(n+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(s/65536)),a=(s=a+i+65535)-65536*(i=Math.floor(s/65536)),o=(s=o+i+65535)-65536*(i=Math.floor(s/65536)),c=(s=c+i+65535)-65536*(i=Math.floor(s/65536)),d=(s=d+i+65535)-65536*(i=Math.floor(s/65536)),u=(s=u+i+65535)-65536*(i=Math.floor(s/65536)),h=(s=h+i+65535)-65536*(i=Math.floor(s/65536)),l=(s=l+i+65535)-65536*(i=Math.floor(s/65536)),p=(s=p+i+65535)-65536*(i=Math.floor(s/65536)),_=(s=_+i+65535)-65536*(i=Math.floor(s/65536)),m=(s=m+i+65535)-65536*(i=Math.floor(s/65536)),b=(s=b+i+65535)-65536*(i=Math.floor(s/65536)),g=(s=g+i+65535)-65536*(i=Math.floor(s/65536)),y=(s=y+i+65535)-65536*(i=Math.floor(s/65536)),f=(s=f+i+65535)-65536*(i=Math.floor(s/65536)),T=(s=T+i+65535)-65536*(i=Math.floor(s/65536)),n+=i-1+37*(i-1),e[0]=n,e[1]=a,e[2]=o,e[3]=c,e[4]=d,e[5]=u,e[6]=h,e[7]=l,e[8]=p,e[9]=_,e[10]=m,e[11]=b,e[12]=g,e[13]=y,e[14]=f,e[15]=T}function X(e,t){V(e,t,t)}function J(e,r){var s,i=t();for(s=0;s<16;s++)i[s]=r[s];for(s=253;s>=0;s--)X(i,i),2!==s&&4!==s&&V(i,i,r);for(s=0;s<16;s++)e[s]=i[s]}function F(e,r){var s,i=t();for(s=0;s<16;s++)i[s]=r[s];for(s=250;s>=0;s--)X(i,i),1!==s&&V(i,i,r);for(s=0;s<16;s++)e[s]=i[s]}function L(e,r,s){var i,n,a=new Uint8Array(32),o=new Float64Array(80),d=t(),u=t(),h=t(),l=t(),p=t(),_=t();for(n=0;n<31;n++)a[n]=r[n];for(a[31]=127&r[31]|64,a[0]&=248,D(o,s),n=0;n<16;n++)u[n]=o[n],l[n]=d[n]=h[n]=0;for(d[0]=l[0]=1,n=254;n>=0;--n)j(d,u,i=a[n>>>3]>>>(7&n)&1),j(h,l,i),N(p,d,h),R(d,d,h),N(h,u,l),R(u,u,l),X(l,p),X(_,d),V(d,h,d),V(h,u,p),N(p,d,h),R(d,d,h),X(u,d),R(h,l,_),V(d,h,c),N(d,d,l),V(h,h,d),V(d,l,_),V(l,u,o),X(u,p),j(d,u,i),j(h,l,i);for(n=0;n<16;n++)o[n+16]=d[n],o[n+32]=h[n],o[n+48]=u[n],o[n+64]=l[n];var m=o.subarray(32),b=o.subarray(16);return J(m,m),V(b,b,m),k(e,b),0}function M(e,t){return L(e,t,n)}function G(e,t){return s(t,32),M(e,t)}function $(e,t,r){var s=new Uint8Array(32);return L(s,r,t),f(e,i,s,T)}w.prototype.blocks=function(e,t,r){for(var s,i,n,a,o,c,d,u,h,l,p,_,m,b,g,y,f,T,E,v=this.fin?0:2048,x=this.h[0],O=this.h[1],w=this.h[2],B=this.h[3],I=this.h[4],C=this.h[5],P=this.h[6],S=this.h[7],A=this.h[8],j=this.h[9],k=this.r[0],U=this.r[1],Y=this.r[2],D=this.r[3],N=this.r[4],R=this.r[5],V=this.r[6],X=this.r[7],J=this.r[8],F=this.r[9];r>=16;)l=h=0,l+=(x+=8191&(s=255&e[t+0]|(255&e[t+1])<<8))*k,l+=(O+=8191&(s>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),l+=(w+=8191&(i>>>10|(n=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*J),l+=(B+=8191&(n>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*X),h=(l+=(I+=8191&(a>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*V))>>>13,l&=8191,l+=(C+=o>>>1&8191)*(5*R),l+=(P+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*N),l+=(S+=8191&(c>>>11|(d=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),l+=(A+=8191&(d>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*Y),p=h+=(l+=(j+=u>>>5|v)*(5*U))>>>13,p+=x*U,p+=O*k,p+=w*(5*F),p+=B*(5*J),h=(p+=I*(5*X))>>>13,p&=8191,p+=C*(5*V),p+=P*(5*R),p+=S*(5*N),p+=A*(5*D),h+=(p+=j*(5*Y))>>>13,p&=8191,_=h,_+=x*Y,_+=O*U,_+=w*k,_+=B*(5*F),h=(_+=I*(5*J))>>>13,_&=8191,_+=C*(5*X),_+=P*(5*V),_+=S*(5*R),_+=A*(5*N),m=h+=(_+=j*(5*D))>>>13,m+=x*D,m+=O*Y,m+=w*U,m+=B*k,h=(m+=I*(5*F))>>>13,m&=8191,m+=C*(5*J),m+=P*(5*X),m+=S*(5*V),m+=A*(5*R),b=h+=(m+=j*(5*N))>>>13,b+=x*N,b+=O*D,b+=w*Y,b+=B*U,h=(b+=I*k)>>>13,b&=8191,b+=C*(5*F),b+=P*(5*J),b+=S*(5*X),b+=A*(5*V),g=h+=(b+=j*(5*R))>>>13,g+=x*R,g+=O*N,g+=w*D,g+=B*Y,h=(g+=I*U)>>>13,g&=8191,g+=C*k,g+=P*(5*F),g+=S*(5*J),g+=A*(5*X),y=h+=(g+=j*(5*V))>>>13,y+=x*V,y+=O*R,y+=w*N,y+=B*D,h=(y+=I*Y)>>>13,y&=8191,y+=C*U,y+=P*k,y+=S*(5*F),y+=A*(5*J),f=h+=(y+=j*(5*X))>>>13,f+=x*X,f+=O*V,f+=w*R,f+=B*N,h=(f+=I*D)>>>13,f&=8191,f+=C*Y,f+=P*U,f+=S*k,f+=A*(5*F),T=h+=(f+=j*(5*J))>>>13,T+=x*J,T+=O*X,T+=w*V,T+=B*R,h=(T+=I*N)>>>13,T&=8191,T+=C*D,T+=P*Y,T+=S*U,T+=A*k,E=h+=(T+=j*(5*F))>>>13,E+=x*F,E+=O*J,E+=w*X,E+=B*V,h=(E+=I*R)>>>13,E&=8191,E+=C*N,E+=P*D,E+=S*Y,E+=A*U,x=l=8191&(h=(h=((h+=(E+=j*k)>>>13)<<2)+h|0)+(l&=8191)|0),O=p+=h>>>=13,w=_&=8191,B=m&=8191,I=b&=8191,C=g&=8191,P=y&=8191,S=f&=8191,A=T&=8191,j=E&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=O,this.h[2]=w,this.h[3]=B,this.h[4]=I,this.h[5]=C,this.h[6]=P,this.h[7]=S,this.h[8]=A,this.h[9]=j},w.prototype.finish=function(e,t){var r,s,i,n,a=new Uint16Array(10);if(this.leftover){for(n=this.leftover,this.buffer[n++]=1;n<16;n++)this.buffer[n]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,n=2;n<10;n++)this.h[n]+=r,r=this.h[n]>>>13,this.h[n]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,n=1;n<10;n++)a[n]=this.h[n]+r,r=a[n]>>>13,a[n]&=8191;for(a[9]-=8192,s=(1^r)-1,n=0;n<10;n++)a[n]&=s;for(s=~s,n=0;n<10;n++)this.h[n]=this.h[n]&s|a[n];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,n=1;n<8;n++)i=(this.h[n]+this.pad[n]|0)+(i>>>16)|0,this.h[n]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},w.prototype.update=function(e,t,r){var s,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),s=0;s<i;s++)this.buffer[this.leftover+s]=e[t+s];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(s=0;s<r;s++)this.buffer[this.leftover+s]=e[t+s];this.leftover+=r}};var z=C,W=P,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function H(e,t,r,s){for(var i,n,a,o,c,d,u,h,l,p,_,m,b,g,y,f,T,E,v,x,O,w,B,I,C,P,S=new Int32Array(16),A=new Int32Array(16),j=e[0],k=e[1],U=e[2],Y=e[3],D=e[4],N=e[5],R=e[6],V=e[7],X=t[0],J=t[1],F=t[2],L=t[3],M=t[4],G=t[5],$=t[6],z=t[7],W=0;s>=128;){for(v=0;v<16;v++)x=8*v+W,S[v]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],A[v]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(v=0;v<80;v++)if(i=j,n=k,a=U,o=Y,c=D,d=N,u=R,l=X,p=J,_=F,m=L,b=M,g=G,y=$,B=65535&(w=z),I=w>>>16,C=65535&(O=V),P=O>>>16,B+=65535&(w=(M>>>14|D<<18)^(M>>>18|D<<14)^(D>>>9|M<<23)),I+=w>>>16,C+=65535&(O=(D>>>14|M<<18)^(D>>>18|M<<14)^(M>>>9|D<<23)),P+=O>>>16,B+=65535&(w=M&G^~M&$),I+=w>>>16,C+=65535&(O=D&N^~D&R),P+=O>>>16,B+=65535&(w=q[2*v+1]),I+=w>>>16,C+=65535&(O=q[2*v]),P+=O>>>16,O=S[v%16],I+=(w=A[v%16])>>>16,C+=65535&O,P+=O>>>16,C+=(I+=(B+=65535&w)>>>16)>>>16,B=65535&(w=E=65535&B|I<<16),I=w>>>16,C=65535&(O=T=65535&C|(P+=C>>>16)<<16),P=O>>>16,B+=65535&(w=(X>>>28|j<<4)^(j>>>2|X<<30)^(j>>>7|X<<25)),I+=w>>>16,C+=65535&(O=(j>>>28|X<<4)^(X>>>2|j<<30)^(X>>>7|j<<25)),P+=O>>>16,I+=(w=X&J^X&F^J&F)>>>16,C+=65535&(O=j&k^j&U^k&U),P+=O>>>16,h=65535&(C+=(I+=(B+=65535&w)>>>16)>>>16)|(P+=C>>>16)<<16,f=65535&B|I<<16,B=65535&(w=m),I=w>>>16,C=65535&(O=o),P=O>>>16,I+=(w=E)>>>16,C+=65535&(O=T),P+=O>>>16,k=i,U=n,Y=a,D=o=65535&(C+=(I+=(B+=65535&w)>>>16)>>>16)|(P+=C>>>16)<<16,N=c,R=d,V=u,j=h,J=l,F=p,L=_,M=m=65535&B|I<<16,G=b,$=g,z=y,X=f,v%16==15)for(x=0;x<16;x++)O=S[x],B=65535&(w=A[x]),I=w>>>16,C=65535&O,P=O>>>16,O=S[(x+9)%16],B+=65535&(w=A[(x+9)%16]),I+=w>>>16,C+=65535&O,P+=O>>>16,T=S[(x+1)%16],B+=65535&(w=((E=A[(x+1)%16])>>>1|T<<31)^(E>>>8|T<<24)^(E>>>7|T<<25)),I+=w>>>16,C+=65535&(O=(T>>>1|E<<31)^(T>>>8|E<<24)^T>>>7),P+=O>>>16,T=S[(x+14)%16],I+=(w=((E=A[(x+14)%16])>>>19|T<<13)^(T>>>29|E<<3)^(E>>>6|T<<26))>>>16,C+=65535&(O=(T>>>19|E<<13)^(E>>>29|T<<3)^T>>>6),P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,S[x]=65535&C|P<<16,A[x]=65535&B|I<<16;B=65535&(w=X),I=w>>>16,C=65535&(O=j),P=O>>>16,O=e[0],I+=(w=t[0])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[0]=j=65535&C|P<<16,t[0]=X=65535&B|I<<16,B=65535&(w=J),I=w>>>16,C=65535&(O=k),P=O>>>16,O=e[1],I+=(w=t[1])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[1]=k=65535&C|P<<16,t[1]=J=65535&B|I<<16,B=65535&(w=F),I=w>>>16,C=65535&(O=U),P=O>>>16,O=e[2],I+=(w=t[2])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[2]=U=65535&C|P<<16,t[2]=F=65535&B|I<<16,B=65535&(w=L),I=w>>>16,C=65535&(O=Y),P=O>>>16,O=e[3],I+=(w=t[3])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[3]=Y=65535&C|P<<16,t[3]=L=65535&B|I<<16,B=65535&(w=M),I=w>>>16,C=65535&(O=D),P=O>>>16,O=e[4],I+=(w=t[4])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[4]=D=65535&C|P<<16,t[4]=M=65535&B|I<<16,B=65535&(w=G),I=w>>>16,C=65535&(O=N),P=O>>>16,O=e[5],I+=(w=t[5])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[5]=N=65535&C|P<<16,t[5]=G=65535&B|I<<16,B=65535&(w=$),I=w>>>16,C=65535&(O=R),P=O>>>16,O=e[6],I+=(w=t[6])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[6]=R=65535&C|P<<16,t[6]=$=65535&B|I<<16,B=65535&(w=z),I=w>>>16,C=65535&(O=V),P=O>>>16,O=e[7],I+=(w=t[7])>>>16,C+=65535&O,P+=O>>>16,P+=(C+=(I+=(B+=65535&w)>>>16)>>>16)>>>16,e[7]=V=65535&C|P<<16,t[7]=z=65535&B|I<<16,W+=128,s-=128}return s}function K(e,t,r){var s,i=new Int32Array(8),n=new Int32Array(8),a=new Uint8Array(256),o=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,n[0]=4089235720,n[1]=2227873595,n[2]=4271175723,n[3]=1595750129,n[4]=2917565137,n[5]=725511199,n[6]=4215389547,n[7]=327033209,H(i,n,t,r),r%=128,s=0;s<r;s++)a[s]=t[o-r+s];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,_(a,r-8,o/536870912|0,o<<3),H(i,n,a,r),s=0;s<8;s++)_(e,8*s,i[s],n[s]);return 0}function Q(e,r){var s=t(),i=t(),n=t(),a=t(),o=t(),c=t(),d=t(),h=t(),l=t();R(s,e[1],e[0]),R(l,r[1],r[0]),V(s,s,l),N(i,e[0],e[1]),N(l,r[0],r[1]),V(i,i,l),V(n,e[3],r[3]),V(n,n,u),V(a,e[2],r[2]),N(a,a,a),R(o,i,s),R(c,a,n),N(d,a,n),N(h,i,s),V(e[0],o,c),V(e[1],h,d),V(e[2],d,c),V(e[3],o,h)}function Z(e,t,r){var s;for(s=0;s<4;s++)j(e[s],t[s],r)}function ee(e,r){var s=t(),i=t(),n=t();J(n,r[2]),V(s,r[0],n),V(i,r[1],n),k(e,i),e[31]^=Y(s)<<7}function te(e,t,r){var s,i;for(S(e[0],a),S(e[1],o),S(e[2],o),S(e[3],a),i=255;i>=0;--i)Z(e,t,s=r[i/8|0]>>(7&i)&1),Q(t,e),Q(e,e),Z(e,t,s)}function re(e,r){var s=[t(),t(),t(),t()];S(s[0],h),S(s[1],l),S(s[2],o),V(s[3],h,l),te(e,s,r)}function se(e,r,i){var n,a=new Uint8Array(64),o=[t(),t(),t(),t()];for(i||s(r,32),K(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,re(o,a),ee(e,o),n=0;n<32;n++)r[n+32]=e[n];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ne(e,t){var r,s,i,n;for(s=63;s>=32;--s){for(r=0,i=s-32,n=s-12;i<n;++i)t[i]+=r-16*t[s]*ie[i-(s-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[s]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(s=0;s<32;s++)t[s+1]+=t[s]>>8,e[s]=255&t[s]}function ae(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ne(e,r)}function oe(e,r,s,i){var n,a,o=new Uint8Array(64),c=new Uint8Array(64),d=new Uint8Array(64),u=new Float64Array(64),h=[t(),t(),t(),t()];K(o,i,32),o[0]&=248,o[31]&=127,o[31]|=64;var l=s+64;for(n=0;n<s;n++)e[64+n]=r[n];for(n=0;n<32;n++)e[32+n]=o[32+n];for(K(d,e.subarray(32),s+32),ae(d),re(h,d),ee(e,h),n=32;n<64;n++)e[n]=i[n];for(K(c,e,s+64),ae(c),n=0;n<64;n++)u[n]=0;for(n=0;n<32;n++)u[n]=d[n];for(n=0;n<32;n++)for(a=0;a<32;a++)u[n+a]+=c[n]*o[a];return ne(e.subarray(32),u),l}function ce(e,r,s,i){var n,c=new Uint8Array(32),u=new Uint8Array(64),h=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(s<64)return-1;if(function(e,r){var s=t(),i=t(),n=t(),c=t(),u=t(),h=t(),l=t();return S(e[2],o),D(e[1],r),X(n,e[1]),V(c,n,d),R(n,n,e[2]),N(c,e[2],c),X(u,c),X(h,u),V(l,h,u),V(s,l,n),V(s,s,c),F(s,s),V(s,s,n),V(s,s,c),V(s,s,c),V(e[0],s,c),X(i,e[0]),V(i,i,c),U(i,n)&&V(e[0],e[0],p),X(i,e[0]),V(i,i,c),U(i,n)?-1:(Y(e[0])===r[31]>>7&&R(e[0],a,e[0]),V(e[3],e[0],e[1]),0)}(l,i))return-1;for(n=0;n<s;n++)e[n]=r[n];for(n=0;n<32;n++)e[n+32]=i[n];if(K(u,e,s),ae(u),te(h,l,u),re(l,r.subarray(32)),Q(h,l),ee(c,h),s-=64,g(r,0,c,0)){for(n=0;n<s;n++)e[n]=0;return-1}for(n=0;n<s;n++)e[n]=r[n+64];return s}var de,ue=64,he=32,le=64;function pe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function _e(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:f,crypto_stream_xor:O,crypto_stream:x,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:v,crypto_onetimeauth:B,crypto_onetimeauth_verify:I,crypto_verify_16:b,crypto_verify_32:g,crypto_secretbox:C,crypto_secretbox_open:P,crypto_scalarmult:L,crypto_scalarmult_base:M,crypto_box_beforenm:$,crypto_box_afternm:z,crypto_box:function(e,t,r,s,i,n){var a=new Uint8Array(32);return $(a,i,n),z(e,t,r,s,a)},crypto_box_open:function(e,t,r,s,i,n){var a=new Uint8Array(32);return $(a,i,n),W(e,t,r,s,a)},crypto_box_keypair:G,crypto_hash:K,crypto_sign:oe,crypto_sign_keypair:se,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:le,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:d,L:ie,pack25519:k,unpack25519:D,M:V,A:N,S:X,Z:R,pow2523:F,add:Q,set25519:S,modL:ne,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return s(t,e),t},e.secretbox=function(e,t,r){_e(e,t,r),pe(r,t);for(var s=new Uint8Array(32+e.length),i=new Uint8Array(s.length),n=0;n<e.length;n++)s[n+32]=e[n];return C(i,s,s.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){_e(e,t,r),pe(r,t);for(var s=new Uint8Array(16+e.length),i=new Uint8Array(s.length),n=0;n<e.length;n++)s[n+16]=e[n];return s.length<32||0!==P(i,s,s.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(_e(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return L(r,e,t),r},e.scalarMult.base=function(e){if(_e(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return M(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,s,i){var n=e.box.before(s,i);return e.secretbox(t,r,n)},e.box.before=function(e,t){_e(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return $(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,s,i){var n=e.box.before(s,i);return e.secretbox.open(t,r,n)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(_e(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return M(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(_e(e,t),t.length!==le)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(_e(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),s=ce(r,e,e.length,t);if(s<0)return null;for(var i=new Uint8Array(s),n=0;n<i.length;n++)i[n]=r[n];return i},e.sign.detached=function(t,r){for(var s=e.sign(t,r),i=new Uint8Array(ue),n=0;n<i.length;n++)i[n]=s[n];return i},e.sign.detached.verify=function(e,t,r){if(_e(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var s,i=new Uint8Array(ue+e.length),n=new Uint8Array(ue+e.length);for(s=0;s<ue;s++)i[s]=t[s];for(s=0;s<e.length;s++)i[s+ue]=e[s];return ce(n,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(le);return se(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(_e(e),e.length!==le)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(_e(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(le),s=0;s<32;s++)r[s]=e[s];return se(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=le,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){_e(e);var t=new Uint8Array(64);return K(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return _e(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){s=e},(de="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&de.getRandomValues?e.setPRNG((function(e,t){var r,s=new Uint8Array(t);for(r=0;r<t;r+=65536)de.getRandomValues(s.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=s[r];me(s)})):(de=r(281))&&de.randomBytes&&e.setPRNG((function(e,t){var r,s=de.randomBytes(t);for(r=0;r<t;r++)e[r]=s[r];me(s)}))}(e.exports?e.exports:self.nacl=self.nacl||{})},983:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),n=i.charCodeAt(0);if(255!==t[n])throw new TypeError(i+" is ambiguous");t[n]=s}var a=e.length,o=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,s=0,i=0;e[r]===o;)s++,r++;for(var n=(e.length-r)*c+1>>>0,d=new Uint8Array(n);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var h=0,l=n-1;(0!==u||h<i)&&-1!==l;l--,h++)u+=a*d[l]>>>0,d[l]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,r++}for(var p=n-i;p!==n&&0===d[p];)p++;for(var _=new Uint8Array(s+(n-p)),m=s;p!==n;)_[m++]=d[p++];return _}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,s=0,i=0,n=t.length;i!==n&&0===t[i];)i++,r++;for(var c=(n-i)*d+1>>>0,u=new Uint8Array(c);i!==n;){for(var h=t[i],l=0,p=c-1;(0!==h||l<s)&&-1!==p;p--,l++)h+=256*u[p]>>>0,u[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");s=l,i++}for(var _=c-s;_!==c&&0===u[_];)_++;for(var m=o.repeat(r);_<c;++_)m+=e.charAt(u[_]);return m},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";function e(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}r.r(s),r.d(s,{Arbitration:()=>yc,BCS:()=>xa,Bcs:()=>za,BuyRequiredEnum:()=>ic,ContextType:()=>Vo,Demand:()=>Go,ENTRYPOINT:()=>Jo,ERROR:()=>Ba,Ed25519Keypair:()=>Kn,Entity:()=>lc,Errors:()=>wa,FirstLetterUppercase:()=>Bo,GUARD_QUERIES:()=>Ko,Guard:()=>Qo,GuardMaker:()=>ec,GuardParser:()=>dc,IsNumberType:()=>Ro,IsValidAddress:()=>no,IsValidArgType:()=>_o,IsValidArray:()=>go,IsValidBigint:()=>oo,IsValidCoinType:()=>ao,IsValidDesription:()=>to,IsValidEndpoint:()=>io,IsValidGuardIdentifier:()=>Zo,IsValidInt:()=>mo,IsValidName:()=>ro,IsValidName_AllowEmpty:()=>so,IsValidOperatorType:()=>Do,IsValidPercent:()=>bo,IsValidTokenType:()=>po,IsValidU128:()=>ho,IsValidU256:()=>lo,IsValidU64:()=>uo,IsValidU8:()=>co,IsValidValueType:()=>No,LogicsInfo:()=>So,MAX_DESCRIPTION_LENGTH:()=>Qa,MAX_ENDPOINT_LENGTH:()=>eo,MAX_NAME_LENGTH:()=>Za,MAX_U128:()=>Pa,MAX_U256:()=>Sa,MAX_U64:()=>Ca,MAX_U8:()=>Ia,MODULES:()=>Co,Machine:()=>qo,OPTION_NONE:()=>Aa,OperatorType:()=>Po,OperatorTypeArray:()=>Uo,PAYMENT_MAX_RECEIVER_COUNT:()=>bc,ParseType:()=>Eo,Passport:()=>uc,Permission:()=>Wo,PermissionIndex:()=>$o,PermissionInfo:()=>zo,Progress:()=>Ho,Protocol:()=>Lo,Repository:()=>cc,RepositoryValueType:()=>jo,RepositoryValueTypeInfo:()=>ko,Repository_Policy_Mode:()=>tc,Repository_Type:()=>rc,ResolveBalance:()=>To,ResolveU64:()=>yo,Resource:()=>_c,RpcResultParser:()=>Mo,SER_VALUE:()=>Xo,Service:()=>hc,Service_Discount_Type:()=>sc,SuiClient:()=>Qs,TagName:()=>nc,TransactionBlock:()=>ms,Treasury:()=>mc,Treasury_Operation:()=>oc,Treasury_WithdrawMode:()=>ac,ValueType:()=>Ao,ValueTypeArray:()=>Yo,ValueTypeConvert:()=>ja,Wowok:()=>pc,array_equal:()=>La,array_unique:()=>Ma,capitalize:()=>Ga,cb_U128:()=>Va,cb_U256:()=>Xa,cb_U64:()=>Ra,cb_U8:()=>Na,concatenate:()=>Ja,create_payment:()=>gc,decodeSuiPrivateKey:()=>jn,deepClone:()=>Ka,encodeSuiPrivateKey:()=>kn,fromHEX:()=>Qn,getFaucetHost:()=>xc,getSuiMoveConfig:()=>Oa,hasDuplicates:()=>Io,insertAtHead:()=>vo,isArr:()=>Ha,isValidHttpUrl:()=>Oo,numToUint8Array:()=>qa,parseObjectType:()=>Fa,parse_object_type:()=>$a,query_object:()=>wo,readOption:()=>ka,readOptionString:()=>Ua,readVec:()=>Da,requestSuiFromFaucetV0:()=>Ec,requestSuiFromFaucetV1:()=>vc,stringToUint8Array:()=>Wa,toFixed:()=>xo,toHEX:()=>Zn,ulebDecode:()=>Ya});const t=8192;function i(e){if(e.length<t)return btoa(String.fromCharCode(...e));let r="";for(var s=0;s<e.length;s+=t){const i=e.slice(s,s+t);r+=String.fromCharCode(...i)}return btoa(r)}const n=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){const s=e.charAt(r),i=s.charCodeAt(0);if(255!==t[i])throw new TypeError(s+" is ambiguous");t[i]=r}const r=e.length,s=e.charAt(0),i=Math.log(r)/Math.log(256),n=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let n=0,a=0,o=0;for(;e[n]===s;)a++,n++;const c=(e.length-n)*i+1>>>0,d=new Uint8Array(c);for(;e[n];){let s=t[e.charCodeAt(n)];if(255===s)return;let i=0;for(let e=c-1;(0!==s||i<o)&&-1!==e;e--,i++)s+=r*d[e]>>>0,d[e]=s%256>>>0,s=s/256>>>0;if(0!==s)throw new Error("Non-zero carry");o=i,n++}let u=c-o;for(;u!==c&&0===d[u];)u++;const h=new Uint8Array(a+(c-u));let l=a;for(;u!==c;)h[l++]=d[u++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,o=0;const c=t.length;for(;o!==c&&0===t[o];)o++,i++;const d=(c-o)*n+1>>>0,u=new Uint8Array(d);for(;o!==c;){let e=t[o],s=0;for(let t=d-1;(0!==e||s<a)&&-1!==t;t--,s++)e+=256*u[t]>>>0,u[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw new Error("Non-zero carry");a=s,o++}let h=d-a;for(;h!==d&&0===u[h];)h++;let l=s.repeat(i);for(;h<d;++h)l+=e.charAt(u[h]);return l},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),a=e=>n.encode(e),o=e=>n.decode(e);function c(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}}`,s=r.match(/.{2}/g)?.map((e=>parseInt(e,16)))??[];return Uint8Array.from(s)}function d(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function u(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}class h{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:s}=function(e){let t=0,r=0,s=0;for(;;){let i=e[s];if(s+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:s}}(t);return this.shift(s),r}readVec(e){let t=this.readULEB(),r=[];for(let s=0;s<t;s++)r.push(e(this,s,t));return r}}class l{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return p(BigInt(e),8).forEach((e=>this.write8(e))),this}write128(e){return p(BigInt(e),16).forEach((e=>this.write8(e))),this}write256(e){return p(BigInt(e),32).forEach((e=>this.write8(e))),this}writeULEB(e){return u(e).forEach((e=>this.write8(e))),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach(((r,s)=>t(this,r,s,e.length))),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return a(e);case"base64":return i(e);case"hex":return d(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function p(e,t){let r=new Uint8Array(t),s=0;for(;e>0;)r[s]=Number(e%BigInt(256)),e/=BigInt(256),s+=1;return r}var _,m,b,g,y=e=>{throw TypeError(e)},f=(e,t,r)=>t.has(e)||y("Cannot "+r),T=(e,t,r)=>(f(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>t.has(e)?y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),v=(e,t,r,s)=>(f(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);_=new WeakMap,m=new WeakMap;let x=class t{constructor(e){E(this,_),E(this,m),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),v(this,_,e.write),v(this,m,e.serialize??((e,t)=>{const r=new l({initialSize:this.serializedSize(e)??void 0,...t});return T(this,_).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),T(this,_).call(this,e,t)}serialize(e,t){return this.validate(e),new B(this,T(this,m).call(this,e,t))}parse(e){const t=new h(e);return this.read(t)}fromHex(e){return this.parse(c(e))}fromBase58(e){return this.parse(o(e))}fromBase64(t){return this.parse(e(t))}transform({name:e,input:r,output:s,validate:i}){return new t({name:e??this.name,read:e=>s(this.read(e)),write:(e,t)=>T(this,_).call(this,r(e),t),serializedSize:e=>this.serializedSize(r(e)),serialize:(e,t)=>T(this,m).call(this,r(e),t),validate:e=>{i?.(e),this.validate(r(e))}})}};const O=Symbol.for("@mysten/serialized-bcs");function w(e){return!!e&&"object"==typeof e&&!0===e[O]}class B{constructor(e,t){E(this,b),E(this,g),v(this,b,e),v(this,g,t)}get[O](){return!0}toBytes(){return T(this,g)}toHex(){return d(T(this,g))}toBase64(){return i(T(this,g))}toBase58(){return a(T(this,g))}parse(){return T(this,b).parse(T(this,g))}}function I({size:e,...t}){return new x({...t,serializedSize:()=>e})}function C({readMethod:e,writeMethod:t,...r}){return I({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function P({readMethod:e,writeMethod:t,...r}){return I({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}function S(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function A(e,t,r,s,i){const n=i&&"input"in i?i.input:r.value,a=i?.expected??e.expects??null,o=i?.received??S(n),c={kind:e.kind,type:e.type,input:n,expected:a,received:o,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},d="schema"===e.kind,u=i?.message??e.message??(e.reference,void c.lang)??(d?void c.lang:null)??s.message??void c.lang;u&&(c.message="function"==typeof u?u(c):u),d&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}function j(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}b=new WeakMap,g=new WeakMap;var k=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function U(e,t){return{kind:"validation",type:"check",reference:U,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement(e.value)&&A(this,"input",e,t),e}}}function Y(e){return{kind:"validation",type:"integer",reference:Y,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&A(this,"integer",e,t),e}}}function D(e){return{kind:"transformation",type:"transform",reference:D,async:!1,operation:e,_run(e){return e.value=this.operation(e.value),e}}}function N(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function R(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function V(e,t){return{kind:"schema",type:"array",reference:V,expects:"Array",async:!1,item:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let s=0;s<r.length;s++){const i=r[s],n=this.item._run({typed:!1,value:i},t);if(n.issues){const a={type:"array",origin:"value",input:r,key:s,value:i};for(const t of n.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=n.issues),t.abortEarly){e.typed=!1;break}}n.typed||(e.typed=!1),e.value.push(n.value)}}else A(this,"type",e,t);return e}}}function X(e){return{kind:"schema",type:"bigint",reference:X,expects:"bigint",async:!1,message:e,_run(e,t){return"bigint"==typeof e.value?e.typed=!0:A(this,"type",e,t),e}}}function J(e){return{kind:"schema",type:"boolean",reference:J,expects:"boolean",async:!1,message:e,_run(e,t){return"boolean"==typeof e.value?e.typed=!0:A(this,"type",e,t),e}}}function F(e){return{kind:"schema",type:"lazy",reference:F,expects:"unknown",async:!1,getter:e,_run(e,t){return this.getter(e.value)._run(e,t)}}}function L(e,t){return{kind:"schema",type:"literal",reference:L,expects:S(e),async:!1,literal:e,message:t,_run(e,t){return e.value===this.literal?e.typed=!0:A(this,"type",e,t),e}}}function M(e,...t){const r={kind:"schema",type:"nullable",reference:M,expects:`${e.expects} | null`,async:!1,wrapped:e,_run(e,t){return null===e.value&&("default"in this&&(e.value=N(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function G(e,...t){const r={kind:"schema",type:"nullish",reference:G,expects:`${e.expects} | null | undefined`,async:!1,wrapped:e,_run(e,t){return null!==e.value&&void 0!==e.value||("default"in this&&(e.value=N(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped._run(e,t):(e.typed=!0,e)}};return 0 in t&&(r.default=t[0]),r}function $(e){return{kind:"schema",type:"number",reference:$,expects:"number",async:!1,message:e,_run(e,t){return"number"!=typeof e.value||isNaN(e.value)?A(this,"type",e,t):e.typed=!0,e}}}function z(e,t){return{kind:"schema",type:"object",reference:z,expects:"Object",async:!1,entries:e,message:t,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const s in this.entries){const i=r[s],n=this.entries[s]._run({typed:!1,value:i},t);if(n.issues){const a={type:"object",origin:"value",input:r,key:s,value:i};for(const t of n.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=n.issues),t.abortEarly){e.typed=!1;break}}n.typed||(e.typed=!1),(void 0!==n.value||s in r)&&(e.value[s]=n.value)}}else A(this,"type",e,t);return e}}}function W(e,...t){const r={kind:"schema",type:"optional",reference:W,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(e,t){return void 0===e.value&&("default"in this&&(e.value=N(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function q(e,t,r){return{kind:"schema",type:"record",reference:q,expects:"Object",async:!1,key:e,value:t,message:r,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const s in r)if(j(r,s)){const i=r[s],n=this.key._run({typed:!1,value:s},t);if(n.issues){const a={type:"object",origin:"key",input:r,key:s,value:i};for(const t of n.issues)t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=n.issues),t.abortEarly){e.typed=!1;break}}const a=this.value._run({typed:!1,value:i},t);if(a.issues){const n={type:"object",origin:"value",input:r,key:s,value:i};for(const t of a.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}n.typed&&a.typed||(e.typed=!1),n.typed&&(e.value[n.value]=a.value)}}else A(this,"type",e,t);return e}}}function H(e){return{kind:"schema",type:"string",reference:H,expects:"string",async:!1,message:e,_run(e,t){return"string"==typeof e.value?e.typed=!0:A(this,"type",e,t),e}}}function K(e,t){return{kind:"schema",type:"tuple",reference:K,expects:"Array",async:!1,items:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let s=0;s<this.items.length;s++){const i=r[s],n=this.items[s]._run({typed:!1,value:i},t);if(n.issues){const a={type:"array",origin:"value",input:r,key:s,value:i};for(const t of n.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=n.issues),t.abortEarly){e.typed=!1;break}}n.typed||(e.typed=!1),e.value.push(n.value)}}else A(this,"type",e,t);return e}}}function Q(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function Z(e,t){return{kind:"schema",type:"union",reference:Z,expects:[...new Set(e.map((e=>e.expects)))].join(" | ")||"never",async:!1,options:e,message:t,_run(e,t){let r,s,i;for(const n of this.options){const a=n._run({typed:!1,value:e.value},t);if(a.typed){if(!a.issues){r=a;break}s?s.push(a):s=[a]}else i?i.push(a):i=[a]}if(r)return r;if(s){if(1===s.length)return s[0];A(this,"type",e,t,{issues:Q(s)}),e.typed=!0}else{if(1===i?.length)return i[0];A(this,"type",e,t,{issues:Q(i)})}return e}}}function ee(){return{kind:"schema",type:"unknown",reference:ee,expects:"unknown",async:!1,_run:e=>(e.typed=!0,e)}}function te(e,t,r){const s=e._run({typed:!1,value:t},function(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}(r));if(s.issues)throw new k(s.issues);return s.value}function re(...e){return{...e[0],pipe:e,_run(t,r){for(let s=0;s<e.length;s++){if(t.issues&&("schema"===e[s].kind||"transformation"===e[s].kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=e[s]._run(t,r))}return t}}}function se(e){try{return 32===o(e).length}catch(e){return!1}}function ie(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&32===function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)}function ne(e){return ie(e)}function ae(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(64,"0")}`}function oe(e,t=!1){return ae(e,t)}function ce(e){return re(Z(Object.entries(e).map((([e,t])=>z({[e]:t})))),D((e=>({...e,$kind:Object.keys(e)[0]}))))}const de=re(H(),D((e=>ae(e))),U(ie)),ue=de,he=H(),le=re(Z([H(),re($(),Y())]),U((e=>{try{return BigInt(e),BigInt(e)>=0&&BigInt(e)<=18446744073709551615n}catch{return!1}}),"Invalid u64")),pe=z({objectId:de,version:le,digest:H()}),_e=re(Z([z({GasCoin:L(!0)}),z({Input:re($(),Y()),type:W(L("pure"))}),z({Input:re($(),Y()),type:W(L("object"))}),z({Result:re($(),Y())}),z({NestedResult:K([re($(),Y()),re($(),Y())])})]),D((e=>({...e,$kind:Object.keys(e)[0]})))),me=z({budget:M(le),price:M(le),owner:M(de),payment:M(V(pe))}),be=(z({address:H(),module:H(),name:H(),typeParams:V(H())}),Z([L("address"),L("bool"),L("u8"),L("u16"),L("u32"),L("u64"),L("u128"),L("u256"),z({vector:F((()=>be))}),z({datatype:z({package:H(),module:H(),type:H(),typeParameters:V(F((()=>be)))})}),z({typeParameter:re($(),Y())})])),ge=z({ref:M(Z([L("&"),L("&mut")])),body:be}),ye=z({package:ue,module:H(),function:H(),typeArguments:V(H()),arguments:V(_e),_argumentTypes:W(M(V(ge)))}),fe=z({name:H(),inputs:q(H(),Z([_e,V(_e)])),data:q(H(),ee())}),Te=ce({MoveCall:ye,TransferObjects:z({objects:V(_e),address:_e}),SplitCoins:z({coin:_e,amounts:V(_e)}),MergeCoins:z({destination:_e,sources:V(_e)}),Publish:z({modules:V(he),dependencies:V(ue)}),MakeMoveVec:z({type:M(H()),elements:V(_e)}),Upgrade:z({modules:V(he),dependencies:V(ue),package:ue,ticket:_e}),$Intent:fe}),Ee=ce({ImmOrOwnedObject:pe,SharedObject:z({objectId:ue,initialSharedVersion:le,mutable:J()}),Receiving:pe}),ve=ce({Object:Ee,Pure:z({bytes:he}),UnresolvedPure:z({value:ee()}),UnresolvedObject:z({objectId:ue,version:W(M(le)),digest:W(M(H())),initialSharedVersion:W(M(le))})}),xe=ce({Object:Ee,Pure:z({bytes:he})}),Oe=ce({None:L(!0),Epoch:le}),we=z({version:L(2),sender:G(de),expiration:G(Oe),gasData:me,inputs:V(ve),commands:V(Te)}),Be={MoveCall(e){const[t,r="",s=""]="target"in e?e.target.split("::"):[e.package,e.module,e.function];return{$kind:"MoveCall",MoveCall:{package:t,module:r,function:s,typeArguments:e.typeArguments??[],arguments:e.arguments??[]}}},TransferObjects:(e,t)=>({$kind:"TransferObjects",TransferObjects:{objects:e.map((e=>te(_e,e))),address:te(_e,t)}}),SplitCoins:(e,t)=>({$kind:"SplitCoins",SplitCoins:{coin:te(_e,e),amounts:t.map((e=>te(_e,e)))}}),MergeCoins:(e,t)=>({$kind:"MergeCoins",MergeCoins:{destination:te(_e,e),sources:t.map((e=>te(_e,e)))}}),Publish:({modules:e,dependencies:t})=>({$kind:"Publish",Publish:{modules:e.map((e=>"string"==typeof e?e:i(new Uint8Array(e)))),dependencies:t.map((e=>oe(e)))}}),Upgrade:({modules:e,dependencies:t,package:r,ticket:s})=>({$kind:"Upgrade",Upgrade:{modules:e.map((e=>"string"==typeof e?e:i(new Uint8Array(e)))),dependencies:t.map((e=>oe(e))),package:r,ticket:te(_e,s)}}),MakeMoveVec:({type:e,elements:t})=>({$kind:"MakeMoveVec",MakeMoveVec:{type:e??null,elements:t.map((e=>te(_e,e)))}}),Intent:({name:e,inputs:t={},data:r={}})=>({$kind:"$Intent",$Intent:{name:e,inputs:Object.fromEntries(Object.entries(t).map((([e,t])=>[e,Array.isArray(t)?t.map((e=>te(_e,e))):te(_e,t)]))),data:r}})},Ie=/^vector<(.+)>$/,Ce=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class Pe{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(Ie);if(r)return{vector:Pe.parseFromStr(r[1],t)};const s=e.match(Ce);if(s)return{struct:{address:t?ae(s[1]):s[1],module:s[2],name:s[3],typeParams:void 0===s[5]?[]:Pe.parseStructTypeArgs(s[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return function(e,t=["<",">"]){const[r,s]=t,i=[];let n="",a=0;for(let t=0;t<e.length;t++){const o=e[t];o===r&&a++,o===s&&a--,0!==a||","!==o?n+=o:(i.push(n.trim()),n="")}return i.push(n.trim()),i}(e).map((e=>Pe.parseFromStr(e,t)))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Pe.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(Pe.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}const Se=z({digest:H(),objectId:H(),version:Z([re($(),Y()),H(),X()])}),Ae=ce({ImmOrOwned:Se,Shared:z({objectId:ue,initialSharedVersion:le,mutable:J()}),Receiving:Se}),je=ce({Object:Ae,Pure:V(re($(),Y()))}),ke=Z([z({kind:L("Input"),index:re($(),Y()),value:ee(),type:W(L("object"))}),z({kind:L("Input"),index:re($(),Y()),value:ee(),type:L("pure")})]),Ue=Z([z({Epoch:re($(),Y())}),z({None:M(L(!0))})]),Ye=re(Z([$(),H(),X()]),U((e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}}))),De=Z([z({bool:M(L(!0))}),z({u8:M(L(!0))}),z({u64:M(L(!0))}),z({u128:M(L(!0))}),z({address:M(L(!0))}),z({signer:M(L(!0))}),z({vector:F((()=>De))}),z({struct:F((()=>Ne))}),z({u16:M(L(!0))}),z({u32:M(L(!0))}),z({u256:M(L(!0))})]),Ne=z({address:H(),module:H(),name:H(),typeParams:V(De)}),Re=z({budget:W(Ye),price:W(Ye),payment:W(V(Se)),owner:W(H())}),Ve=Z([ke,z({kind:L("GasCoin")}),z({kind:L("Result"),index:re($(),Y())}),z({kind:L("NestedResult"),index:re($(),Y()),resultIndex:re($(),Y())})]),Xe=z({kind:L("MoveCall"),target:re(H(),U((e=>3===e.split("::").length))),typeArguments:V(H()),arguments:V(Ve)}),Je=z({kind:L("TransferObjects"),objects:V(Ve),address:Ve}),Fe=z({kind:L("SplitCoins"),coin:Ve,amounts:V(Ve)}),Le=z({kind:L("MergeCoins"),destination:Ve,sources:V(Ve)}),Me=z({kind:L("MakeMoveVec"),type:Z([z({Some:De}),z({None:M(L(!0))})]),objects:V(Ve)}),Ge=Z([Xe,Je,Fe,Le,z({kind:L("Publish"),modules:V(V(re($(),Y()))),dependencies:V(H())}),z({kind:L("Upgrade"),modules:V(V(re($(),Y()))),dependencies:V(H()),packageId:H(),ticket:Ve}),Me]);function $e(t){const r=t.inputs.map(((t,r)=>{if(t.Object)return{kind:"Input",index:r,value:{Object:t.Object.ImmOrOwnedObject?{ImmOrOwned:t.Object.ImmOrOwnedObject}:t.Object.Receiving?{Receiving:{digest:t.Object.Receiving.digest,version:t.Object.Receiving.version,objectId:t.Object.Receiving.objectId}}:{Shared:{mutable:t.Object.SharedObject.mutable,initialSharedVersion:t.Object.SharedObject.initialSharedVersion,objectId:t.Object.SharedObject.objectId}}},type:"object"};if(t.Pure)return{kind:"Input",index:r,value:{Pure:Array.from(e(t.Pure.bytes))},type:"pure"};if(t.UnresolvedPure)return{kind:"Input",type:"pure",index:r,value:t.UnresolvedPure.value};if(t.UnresolvedObject)return{kind:"Input",type:"object",index:r,value:t.UnresolvedObject.objectId};throw new Error("Invalid input")}));return{version:1,sender:t.sender??void 0,expiration:"Epoch"===t.expiration?.$kind?{Epoch:Number(t.expiration.Epoch)}:t.expiration?{None:!0}:null,gasConfig:{owner:t.gasData.owner??void 0,budget:t.gasData.budget??void 0,price:t.gasData.price??void 0,payment:t.gasData.payment??void 0},inputs:r,transactions:t.commands.map((t=>{if(t.MakeMoveVec)return{kind:"MakeMoveVec",type:null===t.MakeMoveVec.type?{None:!0}:{Some:Pe.parseFromStr(t.MakeMoveVec.type)},objects:t.MakeMoveVec.elements.map((e=>ze(e,r)))};if(t.MergeCoins)return{kind:"MergeCoins",destination:ze(t.MergeCoins.destination,r),sources:t.MergeCoins.sources.map((e=>ze(e,r)))};if(t.MoveCall)return{kind:"MoveCall",target:`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`,typeArguments:t.MoveCall.typeArguments,arguments:t.MoveCall.arguments.map((e=>ze(e,r)))};if(t.Publish)return{kind:"Publish",modules:t.Publish.modules.map((t=>Array.from(e(t)))),dependencies:t.Publish.dependencies};if(t.SplitCoins)return{kind:"SplitCoins",coin:ze(t.SplitCoins.coin,r),amounts:t.SplitCoins.amounts.map((e=>ze(e,r)))};if(t.TransferObjects)return{kind:"TransferObjects",objects:t.TransferObjects.objects.map((e=>ze(e,r))),address:ze(t.TransferObjects.address,r)};if(t.Upgrade)return{kind:"Upgrade",modules:t.Upgrade.modules.map((t=>Array.from(e(t)))),dependencies:t.Upgrade.dependencies,packageId:t.Upgrade.package,ticket:ze(t.Upgrade.ticket,r)};throw new Error(`Unknown transaction ${Object.keys(t)}`)}))}}function ze(e,t){if("GasCoin"===e.$kind)return{kind:"GasCoin"};if("Result"===e.$kind)return{kind:"Result",index:e.Result};if("NestedResult"===e.$kind)return{kind:"NestedResult",index:e.NestedResult[0],resultIndex:e.NestedResult[1]};if("Input"===e.$kind)return t[e.Input];throw new Error(`Invalid argument ${Object.keys(e)}`)}function We(e){switch(e.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:e.index};case"NestedResult":return{NestedResult:[e.index,e.resultIndex]};case"Input":return{Input:e.index}}}function qe(e){return Z(Object.entries(e).map((([e,t])=>z({[e]:t}))))}z({version:L(1),sender:W(H()),expiration:G(Ue),gasConfig:Re,inputs:V(ke),transactions:V(Ge)});const He=qe({GasCoin:L(!0),Input:re($(),Y()),Result:re($(),Y()),NestedResult:K([re($(),Y()),re($(),Y())])}),Ke=z({budget:M(le),price:M(le),owner:M(de),payment:M(V(pe))}),Qe=z({package:ue,module:H(),function:H(),typeArguments:V(H()),arguments:V(He)}),Ze=z({name:H(),inputs:q(H(),Z([He,V(He)])),data:q(H(),ee())}),et=qe({MoveCall:Qe,TransferObjects:z({objects:V(He),address:He}),SplitCoins:z({coin:He,amounts:V(He)}),MergeCoins:z({destination:He,sources:V(He)}),Publish:z({modules:V(he),dependencies:V(ue)}),MakeMoveVec:z({type:M(H()),elements:V(He)}),Upgrade:z({modules:V(he),dependencies:V(ue),package:ue,ticket:He}),$Intent:Ze}),tt=qe({ImmOrOwnedObject:pe,SharedObject:z({objectId:ue,initialSharedVersion:le,mutable:J()}),Receiving:pe}),rt=qe({Object:tt,Pure:z({bytes:he}),UnresolvedPure:z({value:ee()}),UnresolvedObject:z({objectId:ue,version:W(M(le)),digest:W(M(H())),initialSharedVersion:W(M(le))})}),st=qe({None:L(!0),Epoch:le}),it=z({version:L(2),sender:G(de),expiration:G(st),gasData:Ke,inputs:V(rt),commands:V(et)}),nt=function(e){return{$kind:"Pure",Pure:{bytes:e instanceof Uint8Array?i(e):e.toBase64()}}},at=({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:r,objectId:ae(e)}}}),ot=({objectId:e,mutable:t,initialSharedVersion:r})=>({$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:r,objectId:ae(e)}}}),ct=({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:r,objectId:ae(e)}}}),dt={u8:e=>C({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>C({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>C({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>P({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>P({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>P({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>I({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const r=new x({...t,serialize:e,write:(e,t)=>{for(const s of r.serialize(e).toBytes())t.write8(s)}});return r}({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(u(e)),...e}),bytes:(e,t)=>I({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let s=0;s<e;s++)r.write8(t[s]??0)},...t,validate:r=>{if(t?.validate?.(r),!r||"object"!=typeof r||!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>function({toBytes:e,fromBytes:t,...r}){return new x({...r,read:e=>{const r=e.readULEB(),s=e.readBytes(r);return t(s)},write:(t,r)=>{const s=e(t);r.writeULEB(s.length);for(let e=0;e<s.length;e++)r.write8(s[e])},serialize:t=>{const r=e(t),s=u(r.length),i=new Uint8Array(s.length+r.length);return i.set(s,0),i.set(r,s.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new x({name:`${t.name}[${e}]`,read:r=>{const s=new Array(e);for(let i=0;i<e;i++)s[i]=t.read(r);return s},write:(e,r)=>{for(const s of e)t.write(s,r)},...r,validate:t=>{if(r?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>dt.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null}),vector:(e,t)=>new x({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),s=new Array(r);for(let i=0;i<r;i++)s[i]=e.read(t);return s},write:(t,r)=>{r.writeULEB(t.length);for(const s of t)e.write(s,r)},...t,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new x({name:`(${e.map((e=>e.name)).join(", ")})`,serializedSize:t=>{let r=0;for(let s=0;s<e.length;s++){const i=e[s].serializedSize(t[s]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const s of e)r.push(s.read(t));return r},write:(t,r)=>{for(let s=0;s<e.length;s++)e[s].write(t[s],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const s=Object.entries(t);return new x({name:e,serializedSize:e=>{let t=0;for(const[r,i]of s){const s=i.serializedSize(e[r]);if(null==s)return null;t+=s}return t},read:e=>{const t={};for(const[r,i]of s)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of s)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const s=Object.entries(t);return new x({name:e,read:t=>{const r=t.readULEB(),i=s[r];if(!i)throw new TypeError(`Unknown value ${r} for enum ${e}`);const[n,a]=i;return{[n]:a?.read(t)??!0,$kind:n}},write:(e,r)=>{const[i,n]=Object.entries(e).filter((([e])=>Object.hasOwn(t,e)))[0];for(let e=0;e<s.length;e++){const[t,a]=s[e];if(t===i)return r.writeULEB(e),void a?.write(n,r)}},...r,validate:s=>{if(r?.validate?.(s),"object"!=typeof s||null==s)throw new TypeError("Expected object, found "+typeof s);const i=Object.keys(s).filter((e=>void 0!==s[e]&&Object.hasOwn(t,e)));if(1!==i.length)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${e}}`);const[n]=i;if(!Object.hasOwn(t,n))throw new TypeError(`Invalid enum variant ${n}`)}})},map:(e,t)=>dt.vector(dt.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,s]of e)t.set(r,s);return t}}),lazy:e=>function(e){let t=null;function r(){return t||(t=e()),t}return new x({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}(e)},ut=dt.bytes(32).transform({validate:e=>{const t="string"==typeof e?e:d(e);if(!t||!ie(ae(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>"string"==typeof e?c(ae(e)):e,output:e=>ae(d(e))}),ht=dt.vector(dt.u8()).transform({name:"ObjectDigest",input:e=>o(e),output:e=>a(new Uint8Array(e)),validate:e=>{if(32!==o(e).length)throw new Error("ObjectDigest must be 32 bytes")}}),lt=dt.struct("SuiObjectRef",{objectId:ut,version:dt.u64(),digest:ht}),pt=dt.struct("SharedObjectRef",{objectId:ut,initialSharedVersion:dt.u64(),mutable:dt.bool()}),_t=dt.enum("ObjectArg",{ImmOrOwnedObject:lt,SharedObject:pt,Receiving:lt}),mt=dt.enum("CallArg",{Pure:dt.struct("Pure",{bytes:dt.vector(dt.u8()).transform({input:t=>"string"==typeof t?e(t):t,output:e=>i(new Uint8Array(e))})}),Object:_t}),bt=dt.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:dt.lazy((()=>bt)),struct:dt.lazy((()=>Ot)),u16:null,u32:null,u256:null}),gt=bt.transform({input:e=>"string"==typeof e?Pe.parseFromStr(e,!0):e,output:e=>Pe.tagToString(e)}),yt=dt.enum("Argument",{GasCoin:null,Input:dt.u16(),Result:dt.u16(),NestedResult:dt.tuple([dt.u16(),dt.u16()])}),ft=dt.struct("ProgrammableMoveCall",{package:ut,module:dt.string(),function:dt.string(),typeArguments:dt.vector(gt),arguments:dt.vector(yt)}),Tt=dt.enum("Command",{MoveCall:ft,TransferObjects:dt.struct("TransferObjects",{objects:dt.vector(yt),address:yt}),SplitCoins:dt.struct("SplitCoins",{coin:yt,amounts:dt.vector(yt)}),MergeCoins:dt.struct("MergeCoins",{destination:yt,sources:dt.vector(yt)}),Publish:dt.struct("Publish",{modules:dt.vector(dt.vector(dt.u8()).transform({input:t=>"string"==typeof t?e(t):t,output:e=>i(new Uint8Array(e))})),dependencies:dt.vector(ut)}),MakeMoveVec:dt.struct("MakeMoveVec",{type:function(e){return dt.enum("Option",{None:null,Some:e})}(gt).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:dt.vector(yt)}),Upgrade:dt.struct("Upgrade",{modules:dt.vector(dt.vector(dt.u8()).transform({input:t=>"string"==typeof t?e(t):t,output:e=>i(new Uint8Array(e))})),dependencies:dt.vector(ut),package:ut,ticket:yt})}),Et=dt.struct("ProgrammableTransaction",{inputs:dt.vector(mt),commands:dt.vector(Tt)}),vt=dt.enum("TransactionKind",{ProgrammableTransaction:Et,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),xt=dt.enum("TransactionExpiration",{None:null,Epoch:dt.u64({name:"unsafe_u64"}).transform({input:e=>e,output:e=>Number(e)})});const Ot=dt.struct("StructTag",{address:ut,module:dt.string(),name:dt.string(),typeParams:dt.vector(bt)}),wt=dt.struct("GasData",{payment:dt.vector(lt),owner:ut,price:dt.u64(),budget:dt.u64()}),Bt=dt.struct("TransactionDataV1",{kind:vt,sender:ut,gasData:wt,expiration:xt}),It=dt.enum("TransactionData",{V1:Bt}),Ct=dt.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Pt=dt.enum("IntentVersion",{V0:null}),St=dt.enum("AppId",{Sui:null}),At=dt.struct("Intent",{scope:Ct,version:Pt,appId:St});function jt(e){return dt.struct(`IntentMessage<${e.name}>`,{intent:At,value:e})}const kt=dt.enum("CompressedSignature",{ED25519:dt.fixedArray(64,dt.u8()),Secp256k1:dt.fixedArray(64,dt.u8()),Secp256r1:dt.fixedArray(64,dt.u8()),ZkLogin:dt.vector(dt.u8())}),Ut=dt.enum("PublicKey",{ED25519:dt.fixedArray(32,dt.u8()),Secp256k1:dt.fixedArray(33,dt.u8()),Secp256r1:dt.fixedArray(33,dt.u8()),ZkLogin:dt.vector(dt.u8())}),Yt=dt.struct("MultiSigPkMap",{pubKey:Ut,weight:dt.u8()}),Dt=dt.struct("MultiSigPublicKey",{pk_map:dt.vector(Yt),threshold:dt.u16()}),Nt=dt.struct("MultiSig",{sigs:dt.vector(kt),bitmap:dt.u16(),multisig_pk:Dt}),Rt=dt.vector(dt.u8()).transform({input:t=>"string"==typeof t?e(t):t,output:e=>i(new Uint8Array(e))}),Vt=dt.struct("SenderSignedTransaction",{intentMessage:jt(It),txSignatures:dt.vector(Rt)}),Xt=dt.vector(Vt,{name:"SenderSignedData"}),Jt=dt.enum("PackageUpgradeError",{UnableToFetchPackage:dt.struct("UnableToFetchPackage",{packageId:ut}),NotAPackage:dt.struct("NotAPackage",{objectId:ut}),IncompatibleUpgrade:null,DigestDoesNotMatch:dt.struct("DigestDoesNotMatch",{digest:dt.vector(dt.u8())}),UnknownUpgradePolicy:dt.struct("UnknownUpgradePolicy",{policy:dt.u8()}),PackageIDDoesNotMatch:dt.struct("PackageIDDoesNotMatch",{packageId:ut,ticketId:ut})}),Ft=dt.struct("ModuleId",{address:ut,name:dt.string()}),Lt=dt.struct("MoveLocation",{module:Ft,function:dt.u16(),instruction:dt.u16(),functionName:dt.option(dt.string())}),Mt=dt.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:dt.struct("IndexOutOfBounds",{idx:dt.u16()}),SecondaryIndexOutOfBounds:dt.struct("SecondaryIndexOutOfBounds",{resultIdx:dt.u16(),secondaryIdx:dt.u16()}),InvalidResultArity:dt.struct("InvalidResultArity",{resultIdx:dt.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),Gt=dt.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),$t=dt.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:dt.struct("MoveObjectTooBig",{objectSize:dt.u64(),maxObjectSize:dt.u64()}),MovePackageTooBig:dt.struct("MovePackageTooBig",{objectSize:dt.u64(),maxObjectSize:dt.u64()}),CircularObjectOwnership:dt.struct("CircularObjectOwnership",{object:ut}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:dt.option(Lt),MoveAbort:dt.tuple([Lt,dt.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:dt.struct("CommandArgumentError",{argIdx:dt.u16(),kind:Mt}),TypeArgumentError:dt.struct("TypeArgumentError",{argumentIdx:dt.u16(),kind:Gt}),UnusedValueWithoutDrop:dt.struct("UnusedValueWithoutDrop",{resultIdx:dt.u16(),secondaryIdx:dt.u16()}),InvalidPublicFunctionReturnType:dt.struct("InvalidPublicFunctionReturnType",{idx:dt.u16()}),InvalidTransferObject:null,EffectsTooLarge:dt.struct("EffectsTooLarge",{currentSize:dt.u64(),maxSize:dt.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:dt.struct("PackageUpgradeError",{upgradeError:Jt}),WrittenObjectsTooLarge:dt.struct("WrittenObjectsTooLarge",{currentSize:dt.u64(),maxSize:dt.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null}),zt=dt.enum("ExecutionStatus",{Success:null,Failed:dt.struct("ExecutionFailed",{error:$t,command:dt.option(dt.u64())})}),Wt=dt.struct("GasCostSummary",{computationCost:dt.u64(),storageCost:dt.u64(),storageRebate:dt.u64(),nonRefundableStorageFee:dt.u64()}),qt=dt.enum("Owner",{AddressOwner:ut,ObjectOwner:ut,Shared:dt.struct("Shared",{initialSharedVersion:dt.u64()}),Immutable:null}),Ht=dt.struct("TransactionEffectsV1",{status:zt,executedEpoch:dt.u64(),gasUsed:Wt,modifiedAtVersions:dt.vector(dt.tuple([ut,dt.u64()])),sharedObjects:dt.vector(lt),transactionDigest:ht,created:dt.vector(dt.tuple([lt,qt])),mutated:dt.vector(dt.tuple([lt,qt])),unwrapped:dt.vector(dt.tuple([lt,qt])),deleted:dt.vector(lt),unwrappedThenDeleted:dt.vector(lt),wrapped:dt.vector(lt),gasObject:dt.tuple([lt,qt]),eventsDigest:dt.option(ht),dependencies:dt.vector(ht)}),Kt=dt.tuple([dt.u64(),ht]),Qt=dt.enum("ObjectIn",{NotExist:null,Exist:dt.tuple([Kt,qt])}),Zt=dt.enum("ObjectOut",{NotExist:null,ObjectWrite:dt.tuple([ht,qt]),PackageWrite:Kt}),er=dt.enum("IDOperation",{None:null,Created:null,Deleted:null}),tr=dt.struct("EffectsObjectChange",{inputState:Qt,outputState:Zt,idOperation:er}),rr=dt.enum("UnchangedSharedKind",{ReadOnlyRoot:Kt,MutateDeleted:dt.u64(),ReadDeleted:dt.u64(),Cancelled:dt.u64(),PerEpochConfig:null}),sr=dt.struct("TransactionEffectsV2",{status:zt,executedEpoch:dt.u64(),gasUsed:Wt,transactionDigest:ht,gasObjectIndex:dt.option(dt.u32()),eventsDigest:dt.option(ht),dependencies:dt.vector(ht),lamportVersion:dt.u64(),changedObjects:dt.vector(dt.tuple([ut,tr])),unchangedSharedObjects:dt.vector(dt.tuple([ut,rr])),auxDataDigest:dt.option(ht)}),ir=dt.enum("TransactionEffects",{V1:Ht,V2:sr}),nr={...dt,U8:dt.u8(),U16:dt.u16(),U32:dt.u32(),U64:dt.u64(),U128:dt.u128(),U256:dt.u256(),ULEB128:dt.uleb128(),Bool:dt.bool(),String:dt.string(),Address:ut,AppId:St,Argument:yt,CallArg:mt,CompressedSignature:kt,GasData:wt,Intent:At,IntentMessage:jt,IntentScope:Ct,IntentVersion:Pt,MultiSig:Nt,MultiSigPkMap:Yt,MultiSigPublicKey:Dt,ObjectArg:_t,ObjectDigest:ht,ProgrammableMoveCall:ft,ProgrammableTransaction:Et,PublicKey:Ut,SenderSignedData:Xt,SenderSignedTransaction:Vt,SharedObjectRef:pt,StructTag:Ot,SuiObjectRef:lt,Command:Tt,TransactionData:It,TransactionDataV1:Bt,TransactionExpiration:xt,TransactionKind:vt,TypeTag:gt,TransactionEffects:ir},ar=(BigInt(1e9),oe("0x6"),"0x2::sui::SUI");function or(e){if("string"==typeof e)switch(e){case"address":return nr.Address;case"bool":return nr.Bool;case"u8":return nr.U8;case"u16":return nr.U16;case"u32":return nr.U32;case"u64":return nr.U64;case"u128":return nr.U128;case"u256":return nr.U256;default:throw new Error(`Unknown type signature ${e}`)}if("vector"in e){if("u8"===e.vector)return nr.vector(nr.U8).transform({input:e=>"string"==typeof e?(new TextEncoder).encode(e):e,output:e=>e});const t=or(e.vector);return t?nr.vector(t):null}if("datatype"in e){const t=ae(e.datatype.package);if(t===ae("0x1")){if("ascii"===e.datatype.module&&"String"===e.datatype.type)return nr.String;if("string"===e.datatype.module&&"String"===e.datatype.type)return nr.String;if("option"===e.datatype.module&&"Option"===e.datatype.type){const t=or(e.datatype.typeParameters[0]);return t?nr.vector(t):null}}if(t===ae("0x2")&&"object"===e.datatype.module&&"ID"===e.datatype.type)return nr.Address}return null}function cr(e){if("string"==typeof e)switch(e){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${e}`)}if("Vector"in e)return{vector:cr(e.Vector)};if("Struct"in e)return{datatype:{package:e.Struct.address,module:e.Struct.module,type:e.Struct.name,typeParameters:e.Struct.typeArguments.map(cr)}};if("TypeParameter"in e)return{typeParameter:e.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(e)}`)}oe("0x5");async function dr(e,t,r){return await async function(e,t){const{inputs:r,commands:s}=e,i=[],n=new Set;s.forEach((t=>{if(t.MoveCall){if(t.MoveCall._argumentTypes)return;if(t.MoveCall.arguments.map((t=>"Input"===t.$kind?e.inputs[t.Input]:null)).some((e=>e?.UnresolvedPure||e?.UnresolvedObject))){const e=`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`;n.add(e),i.push(t.MoveCall)}}switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach((t=>{ur(t,nr.U64,e)}));break;case"TransferObjects":ur(t.TransferObjects.address,nr.Address,e)}}));const a=new Map;if(n.size>0){const e=pr(t);await Promise.all([...n].map((async t=>{const[r,s,i]=t.split("::"),n=await e.getNormalizedMoveFunction({package:r,module:s,function:i});a.set(t,n.parameters.map((e=>function(e){return"object"==typeof e&&"Reference"in e?{ref:"&",body:cr(e.Reference)}:"object"==typeof e&&"MutableReference"in e?{ref:"&mut",body:cr(e.MutableReference)}:{ref:null,body:cr(e)}}(e))))})))}i.length&&await Promise.all(i.map((async e=>{const t=a.get(`${e.package}::${e.module}::${e.function}`);if(!t)return;const r=t.length>0&&function(e){const t="object"==typeof e.body&&"datatype"in e.body?e.body.datatype:null;return!!t&&ae(t.package)===ae("0x2")&&"tx_context"===t.module&&"TxContext"===t.type}(t.at(-1))?t.slice(0,t.length-1):t;e._argumentTypes=r}))),s.forEach((e=>{if(!e.MoveCall)return;const t=e.MoveCall,s=`${t.package}::${t.module}::${t.function}`,i=t._argumentTypes;if(i){if(i.length!==e.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${s}`);i.forEach(((e,s)=>{const i=t.arguments[s];if("Input"!==i.$kind)return;const n=r[i.Input];if(!n.UnresolvedPure&&!n.UnresolvedObject)return;const a=n.UnresolvedPure?.value??n.UnresolvedObject?.objectId,o=or(e.body);if(o)return i.type="pure",void(r[r.indexOf(n)]=nt(o.serialize(a)));if("string"!=typeof a)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(a,null,2)}`);i.type="object";const c=n.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:a}}:n;r[i.Input]=c}))}}))}(e,t),await async function(e,t){const r=e.inputs.filter((e=>e.UnresolvedObject&&!(e.UnresolvedObject.version||e.UnresolvedObject?.initialSharedVersion))),s=[...new Set(r.map((e=>oe(e.UnresolvedObject.objectId))))],i=s.length?(c=s,Array.from({length:Math.ceil(c.length/50)},((e,t)=>c.slice(50*t,50*t+50)))):[],n=(await Promise.all(i.map((e=>pr(t).multiGetObjects({ids:e,options:{showOwner:!0}}))))).flat(),a=new Map(s.map(((e,t)=>[e,n[t]]))),o=Array.from(a).filter((([e,t])=>t.error)).map((([e,t])=>JSON.stringify(t.error)));var c;if(o.length)throw new Error(`The following input objects are invalid: ${o.join(", ")}`);const d=n.map((e=>{if(e.error||!e.data)throw new Error(`Failed to fetch object: ${e.error}`);const t=e.data.owner,r=t&&"object"==typeof t&&"Shared"in t?t.Shared.initial_shared_version:null;return{objectId:e.data.objectId,digest:e.data.digest,version:e.data.version,initialSharedVersion:r}})),u=new Map(s.map(((e,t)=>[e,d[t]])));for(const[t,r]of e.inputs.entries()){if(!r.UnresolvedObject)continue;let s;const i=ae(r.UnresolvedObject.objectId),n=u.get(i);r.UnresolvedObject.initialSharedVersion??n?.initialSharedVersion?s=ot({objectId:i,initialSharedVersion:r.UnresolvedObject.initialSharedVersion||n?.initialSharedVersion,mutable:hr(e,t)}):lr(e,t)&&(s=ct({objectId:i,digest:r.UnresolvedObject.digest??n?.digest,version:r.UnresolvedObject.version??n?.version})),e.inputs[e.inputs.indexOf(r)]=s??at({objectId:i,digest:r.UnresolvedObject.digest??n?.digest,version:r.UnresolvedObject.version??n?.version})}}(e,t),t.onlyTransactionKind||(await async function(e,t){e.gasConfig.price||(e.gasConfig.price=String(await pr(t).getReferenceGasPrice()))}(e,t),await async function(e,t){if(e.gasConfig.budget)return;const r=await pr(t).dryRunTransactionBlock({transactionBlock:e.build({overrides:{gasData:{budget:String(5e10),payment:[]}}})});if("success"!==r.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});const s=1000n*BigInt(e.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+s,n=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);e.gasConfig.budget=String(n>i?n:i)}(e,t),await async function(e,t){if(!e.gasConfig.payment){const r=(await pr(t).getCoins({owner:e.gasConfig.owner||e.sender,coinType:ar})).data.filter((t=>!e.inputs.find((e=>!!e.Object?.ImmOrOwnedObject&&t.coinObjectId===e.Object.ImmOrOwnedObject.objectId)))).map((e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version})));if(!r.length)throw new Error("No valid gas coins found for the transaction.");e.gasConfig.payment=r.map((e=>te(pe,e)))}}(e,t)),await function(e){e.inputs.forEach(((e,t)=>{if("Object"!==e.$kind&&"Pure"!==e.$kind)throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)}))}(e),await r()}function ur(e,t,r){if("Input"!==e.$kind)return;const s=r.inputs[e.Input];"UnresolvedPure"===s.$kind&&(r.inputs[e.Input]=nt(t.serialize(s.UnresolvedPure.value)))}function hr(e,t){let r=!1;return e.getInputUses(t,((e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const s=t.MoveCall.arguments.indexOf(e);r="&"!==t.MoveCall._argumentTypes[s].ref||r}"MakeMoveVec"!==t.$kind&&"MergeCoins"!==t.$kind&&"SplitCoins"!==t.$kind||(r=!0)})),r}function lr(e,t){let r=!1;return e.getInputUses(t,((e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const s=t.MoveCall.arguments.indexOf(e);r=function(e){return"object"==typeof e.body&&"datatype"in e.body&&("0x2"===e.body.datatype.package&&"transfer"===e.body.datatype.module&&"Receiving"===e.body.datatype.type)}(t.MoveCall._argumentTypes[s])||r}})),r}function pr(e){if(!e.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}function _r(e){function t(t,r){if("string"==typeof t)return e(mr(t).serialize(r));if(t instanceof Uint8Array||w(t))return e(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=t=>e(nr.U8.serialize(t)),t.u16=t=>e(nr.U16.serialize(t)),t.u32=t=>e(nr.U32.serialize(t)),t.u64=t=>e(nr.U64.serialize(t)),t.u128=t=>e(nr.U128.serialize(t)),t.u256=t=>e(nr.U256.serialize(t)),t.bool=t=>e(nr.Bool.serialize(t)),t.string=t=>e(nr.String.serialize(t)),t.address=t=>e(nr.Address.serialize(t)),t.id=t.address,t.vector=(t,r)=>e(nr.vector(mr(t)).serialize(r)),t.option=(t,r)=>e(nr.option(mr(t)).serialize(r)),t}function mr(e){switch(e){case"u8":return nr.u8();case"u16":return nr.u16();case"u32":return nr.u32();case"u64":return nr.u64();case"u128":return nr.u128();case"u256":return nr.u256();case"bool":return nr.bool();case"string":return nr.string();case"id":case"address":return nr.Address}const t=e.match(/^(vector|option)<(.+)>$/);if(t){const[e,r]=t.slice(1);return"vector"===e?nr.vector(mr(r)):nr.option(mr(r))}throw new Error(`Invalid Pure type name: ${e}`)}function br(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function gr(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function yr(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");br(e.outputLen),br(e.blockLen)}function fr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Tr(e,t){gr(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Er(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function vr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const xr=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function Or(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const wr=xr?e=>e:e=>Or(e);function Br(e){for(let t=0;t<e.length;t++)e[t]=Or(e[t])}const Ir=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Cr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function Pr(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),gr(e),e}class Sr{clone(){return this._cloneInto()}}function Ar(e){const t=t=>e().update(Pr(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function jr(e){const t=(t,r)=>e(r).update(Pr(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}const kr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class Ur extends Sr{constructor(e,t,r={},s,i,n){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,br(e),br(t),br(s),t<0||t>s)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>s))throw new Error("key length must be undefined or 1.."+s);if(void 0!==r.salt&&r.salt.length!==i)throw new Error("salt must be undefined or "+i);if(void 0!==r.personalization&&r.personalization.length!==n)throw new Error("personalization must be undefined or "+n);this.buffer=new Uint8Array(e),this.buffer32=Er(this.buffer)}update(e){fr(this);const{blockLen:t,buffer:r,buffer32:s}=this,i=(e=Pr(e)).length,n=e.byteOffset,a=e.buffer;for(let o=0;o<i;){this.pos===t&&(xr||Br(s),this.compress(s,0,!1),xr||Br(s),this.pos=0);const c=Math.min(t-this.pos,i-o),d=n+o;if(c!==t||d%4||!(o+c<i))r.set(e.subarray(o,o+c),this.pos),this.pos+=c,this.length+=c,o+=c;else{const e=new Uint32Array(a,d,Math.floor((i-o)/4));xr||Br(e);for(let r=0;o+t<i;r+=s.length,o+=t)this.length+=t,this.compress(e,r,!1);xr||Br(e)}}return this}digestInto(e){fr(this),Tr(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),xr||Br(r),this.compress(r,0,!0),xr||Br(r);const s=Er(e);this.get().forEach(((e,t)=>s[t]=wr(e)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:s,destroyed:i,outputLen:n,pos:a}=this;return e||(e=new this.constructor({dkLen:n})),e.set(...this.get()),e.length=r,e.finished=s,e.destroyed=i,e.outputLen=n,e.buffer.set(t),e.pos=a,e}}const Yr=BigInt(2**32-1),Dr=BigInt(32);function Nr(e,t=!1){return t?{h:Number(e&Yr),l:Number(e>>Dr&Yr)}:{h:0|Number(e>>Dr&Yr),l:0|Number(e&Yr)}}const Rr={fromBig:Nr,split:function(e,t=!1){let r=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:n,l:a}=Nr(e[i],t);[r[i],s[i]]=[n,a]}return[r,s]},toBig:(e,t)=>BigInt(e>>>0)<<Dr|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,s){const i=(t>>>0)+(s>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,s)=>t+r+s+(e/2**32|0)|0,add4L:(e,t,r,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),add4H:(e,t,r,s,i)=>t+r+s+i+(e/2**32|0)|0,add5H:(e,t,r,s,i,n)=>t+r+s+i+n+(e/2**32|0)|0,add5L:(e,t,r,s,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0)+(i>>>0)},Vr=Rr,Xr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Jr=new Uint32Array(32);function Fr(e,t,r,s,i,n){const a=i[n],o=i[n+1];let c=Jr[2*e],d=Jr[2*e+1],u=Jr[2*t],h=Jr[2*t+1],l=Jr[2*r],p=Jr[2*r+1],_=Jr[2*s],m=Jr[2*s+1],b=Vr.add3L(c,u,a);d=Vr.add3H(b,d,h,o),c=0|b,({Dh:m,Dl:_}={Dh:m^d,Dl:_^c}),({Dh:m,Dl:_}={Dh:Vr.rotr32H(m,_),Dl:Vr.rotr32L(m,_)}),({h:p,l}=Vr.add(p,l,m,_)),({Bh:h,Bl:u}={Bh:h^p,Bl:u^l}),({Bh:h,Bl:u}={Bh:Vr.rotrSH(h,u,24),Bl:Vr.rotrSL(h,u,24)}),Jr[2*e]=c,Jr[2*e+1]=d,Jr[2*t]=u,Jr[2*t+1]=h,Jr[2*r]=l,Jr[2*r+1]=p,Jr[2*s]=_,Jr[2*s+1]=m}function Lr(e,t,r,s,i,n){const a=i[n],o=i[n+1];let c=Jr[2*e],d=Jr[2*e+1],u=Jr[2*t],h=Jr[2*t+1],l=Jr[2*r],p=Jr[2*r+1],_=Jr[2*s],m=Jr[2*s+1],b=Vr.add3L(c,u,a);d=Vr.add3H(b,d,h,o),c=0|b,({Dh:m,Dl:_}={Dh:m^d,Dl:_^c}),({Dh:m,Dl:_}={Dh:Vr.rotrSH(m,_,16),Dl:Vr.rotrSL(m,_,16)}),({h:p,l}=Vr.add(p,l,m,_)),({Bh:h,Bl:u}={Bh:h^p,Bl:u^l}),({Bh:h,Bl:u}={Bh:Vr.rotrBH(h,u,63),Bl:Vr.rotrBL(h,u,63)}),Jr[2*e]=c,Jr[2*e+1]=d,Jr[2*t]=u,Jr[2*t+1]=h,Jr[2*r]=l,Jr[2*r+1]=p,Jr[2*s]=_,Jr[2*s+1]=m}class Mr extends Ur{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|Xr[0],this.v0h=0|Xr[1],this.v1l=0|Xr[2],this.v1h=0|Xr[3],this.v2l=0|Xr[4],this.v2h=0|Xr[5],this.v3l=0|Xr[6],this.v3h=0|Xr[7],this.v4l=0|Xr[8],this.v4h=0|Xr[9],this.v5l=0|Xr[10],this.v5h=0|Xr[11],this.v6l=0|Xr[12],this.v6h=0|Xr[13],this.v7l=0|Xr[14],this.v7h=0|Xr[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=Er(Pr(e.salt));this.v4l^=wr(t[0]),this.v4h^=wr(t[1]),this.v5l^=wr(t[2]),this.v5h^=wr(t[3])}if(e.personalization){const t=Er(Pr(e.personalization));this.v6l^=wr(t[0]),this.v6h^=wr(t[1]),this.v7l^=wr(t[2]),this.v7h^=wr(t[3])}if(e.key){const t=new Uint8Array(this.blockLen);t.set(Pr(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:s,v2l:i,v2h:n,v3l:a,v3h:o,v4l:c,v4h:d,v5l:u,v5h:h,v6l:l,v6h:p,v7l:_,v7h:m}=this;return[e,t,r,s,i,n,a,o,c,d,u,h,l,p,_,m]}set(e,t,r,s,i,n,a,o,c,d,u,h,l,p,_,m){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|s,this.v2l=0|i,this.v2h=0|n,this.v3l=0|a,this.v3h=0|o,this.v4l=0|c,this.v4h=0|d,this.v5l=0|u,this.v5h=0|h,this.v6l=0|l,this.v6h=0|p,this.v7l=0|_,this.v7h=0|m}compress(e,t,r){this.get().forEach(((e,t)=>Jr[t]=e)),Jr.set(Xr,16);let{h:s,l:i}=Vr.fromBig(BigInt(this.length));Jr[24]=Xr[8]^i,Jr[25]=Xr[9]^s,r&&(Jr[28]=~Jr[28],Jr[29]=~Jr[29]);let n=0;const a=kr;for(let r=0;r<12;r++)Fr(0,4,8,12,e,t+2*a[n++]),Lr(0,4,8,12,e,t+2*a[n++]),Fr(1,5,9,13,e,t+2*a[n++]),Lr(1,5,9,13,e,t+2*a[n++]),Fr(2,6,10,14,e,t+2*a[n++]),Lr(2,6,10,14,e,t+2*a[n++]),Fr(3,7,11,15,e,t+2*a[n++]),Lr(3,7,11,15,e,t+2*a[n++]),Fr(0,5,10,15,e,t+2*a[n++]),Lr(0,5,10,15,e,t+2*a[n++]),Fr(1,6,11,12,e,t+2*a[n++]),Lr(1,6,11,12,e,t+2*a[n++]),Fr(2,7,8,13,e,t+2*a[n++]),Lr(2,7,8,13,e,t+2*a[n++]),Fr(3,4,9,14,e,t+2*a[n++]),Lr(3,4,9,14,e,t+2*a[n++]);this.v0l^=Jr[0]^Jr[16],this.v0h^=Jr[1]^Jr[17],this.v1l^=Jr[2]^Jr[18],this.v1h^=Jr[3]^Jr[19],this.v2l^=Jr[4]^Jr[20],this.v2h^=Jr[5]^Jr[21],this.v3l^=Jr[6]^Jr[22],this.v3h^=Jr[7]^Jr[23],this.v4l^=Jr[8]^Jr[24],this.v4h^=Jr[9]^Jr[25],this.v5l^=Jr[10]^Jr[26],this.v5h^=Jr[11]^Jr[27],this.v6l^=Jr[12]^Jr[28],this.v6h^=Jr[13]^Jr[29],this.v7l^=Jr[14]^Jr[30],this.v7h^=Jr[15]^Jr[31],Jr.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gr=jr((e=>new Mr(e)));function $r(e){return ae(e).replace("0x","")}class zr{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const t=nr.TransactionKind.parse(e).ProgrammableTransaction;if(!t)throw new Error("Unable to deserialize from bytes.");return zr.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:t.inputs,commands:t.commands})}static fromBytes(e){const t=nr.TransactionData.parse(e),r=t?.V1,s=r.kind.ProgrammableTransaction;if(!r||!s)throw new Error("Unable to deserialize from bytes.");return zr.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:s.inputs,commands:s.commands})}static restore(e){return 2===e.version?new zr(te(we,e)):new zr(te(we,function(e){return te(we,{version:2,sender:e.sender??null,expiration:e.expiration?"Epoch"in e.expiration?{Epoch:e.expiration.Epoch}:{None:!0}:null,gasData:{owner:e.gasConfig.owner??null,budget:e.gasConfig.budget?.toString()??null,price:e.gasConfig.price?.toString()??null,payment:e.gasConfig.payment?.map((e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()})))??null},inputs:e.inputs.map((e=>{if("Input"===e.kind){if(R(je,e.value)){const t=te(je,e.value);if(t.Object){if(t.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:t.Object.ImmOrOwned.objectId,version:String(t.Object.ImmOrOwned.version),digest:t.Object.ImmOrOwned.digest}}};if(t.Object.Shared)return{Object:{SharedObject:{mutable:t.Object.Shared.mutable??null,initialSharedVersion:t.Object.Shared.initialSharedVersion,objectId:t.Object.Shared.objectId}}};if(t.Object.Receiving)return{Object:{Receiving:{digest:t.Object.Receiving.digest,version:String(t.Object.Receiving.version),objectId:t.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:i(new Uint8Array(t.Pure))}}}return"object"===e.type?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")})),commands:e.transactions.map((e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?Pe.tagToString(e.type.Some):null,elements:e.objects.map((e=>We(e)))}};case"MergeCoins":return{MergeCoins:{destination:We(e.destination),sources:e.sources.map((e=>We(e)))}};case"MoveCall":{const[t,r,s]=e.target.split("::");return{MoveCall:{package:t,module:r,function:s,typeArguments:e.typeArguments,arguments:e.arguments.map((e=>We(e)))}}}case"Publish":return{Publish:{modules:e.modules.map((e=>i(Uint8Array.from(e)))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:We(e.coin),amounts:e.amounts.map((e=>We(e)))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map((e=>We(e))),address:We(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map((e=>i(Uint8Array.from(e)))),dependencies:e.dependencies,package:e.packageId,ticket:We(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)}))})}(e)))}static getDigestFromBytes(e){const t=function(e,t){const r=Array.from("TransactionData::").map((e=>e.charCodeAt(0))),s=new Uint8Array(r.length+t.length);return s.set(r),s.set(t,r.length),Gr(s,{dkLen:32})}(0,e);return a(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){const s=this.inputs,i=this.commands,n={ProgrammableTransaction:{inputs:s,commands:i}};if(r)return nr.TransactionKind.serialize(n,{maxSize:e}).toBytes();const a=t?.expiration??this.expiration,o=t?.sender??this.sender,c={...this.gasData,...t?.gasConfig,...t?.gasData};if(!o)throw new Error("Missing transaction sender");if(!c.budget)throw new Error("Missing gas budget");if(!c.payment)throw new Error("Missing gas payment");if(!c.price)throw new Error("Missing gas price");const d={sender:$r(o),expiration:a||{None:!0},gasData:{payment:c.payment,owner:$r(this.gasData.owner??o),price:BigInt(c.price),budget:BigInt(c.budget)},kind:{ProgrammableTransaction:{inputs:s,commands:i}}};return nr.TransactionData.serialize({V1:d},{maxSize:e}).toBytes()}addInput(e,t){const r=this.inputs.length;return this.inputs.push(t),{Input:r,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments(((r,s)=>("Input"===r.$kind&&r.Input===e&&t(r,s),r)))}mapArguments(e){for(const t of this.commands)switch(t.$kind){case"MoveCall":t.MoveCall.arguments=t.MoveCall.arguments.map((r=>e(r,t)));break;case"TransferObjects":t.TransferObjects.objects=t.TransferObjects.objects.map((r=>e(r,t))),t.TransferObjects.address=e(t.TransferObjects.address,t);break;case"SplitCoins":t.SplitCoins.coin=e(t.SplitCoins.coin,t),t.SplitCoins.amounts=t.SplitCoins.amounts.map((r=>e(r,t)));break;case"MergeCoins":t.MergeCoins.destination=e(t.MergeCoins.destination,t),t.MergeCoins.sources=t.MergeCoins.sources.map((r=>e(r,t)));break;case"MakeMoveVec":t.MakeMoveVec.elements=t.MakeMoveVec.elements.map((r=>e(r,t)));break;case"Upgrade":t.Upgrade.ticket=e(t.Upgrade.ticket,t);break;case"$Intent":const r=t.$Intent.inputs;t.$Intent.inputs={};for(const[s,i]of Object.entries(r))t.$Intent.inputs[s]=Array.isArray(i)?i.map((r=>e(r,t))):e(i,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${t.$kind}`)}}replaceCommand(e,t){if(!Array.isArray(t))return void(this.commands[e]=t);const r=t.length-1;this.commands.splice(e,1,...t),0!==r&&this.mapArguments((t=>{switch(t.$kind){case"Result":t.Result>e&&(t.Result+=r);break;case"NestedResult":t.NestedResult[0]>e&&(t.NestedResult[0]+=r)}return t}))}getDigest(){const e=this.build({onlyTransactionKind:!1});return zr.getDigestFromBytes(e)}snapshot(){return te(we,this)}}function Wr(e){return"string"==typeof e?ae(e):e.Object?e.Object.ImmOrOwnedObject?ae(e.Object.ImmOrOwnedObject.objectId):e.Object.Receiving?ae(e.Object.Receiving.objectId):ae(e.Object.SharedObject.objectId):e.UnresolvedObject?ae(e.UnresolvedObject.objectId):void 0}var qr,Hr,Kr,Qr,Zr,es,ts,rs,ss,is=e=>{throw TypeError(e)},ns=(e,t,r)=>t.has(e)||is("Cannot "+r),as=(e,t,r)=>(ns(e,t,"read from private field"),r?r.call(e):t.get(e)),os=(e,t,r)=>t.has(e)?is("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),cs=(e,t,r,s)=>(ns(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),ds=(e,t,r)=>(ns(e,t,"access private method"),r);const us=Symbol.for("@mysten/transaction");function hs(e){return!!e&&"object"==typeof e&&!0===e[us]}const ls={buildPlugins:[],serializationPlugins:[]},ps=Symbol.for("@mysten/transaction/registry");function _s(){try{const e=globalThis;return e[ps]||(e[ps]=ls),e[ps]}catch(e){return ls}}qr=new WeakMap,Hr=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,Zr=new WeakSet,es=function(e){return w(e)?this.pure(e):ds(this,Zr,ts).call(this,e)},ts=function(e){return te(_e,"function"==typeof e?e(this):e)},rs=async function(e){if(!e.onlyTransactionKind&&!as(this,Qr).sender)throw new Error("Missing transaction sender");await ds(this,Zr,ss).call(this,[...as(this,Hr),dr],e)},ss=async function(e,t){const r=s=>{if(s>=e.length)return()=>{};const i=e[s];return async()=>{const e=r(s+1);let n=!1,a=!1;if(await i(as(this,Qr),t,(async()=>{if(n)throw new Error(`next() was call multiple times in TransactionPlugin ${s}`);n=!0,await e(),a=!0})),!n)throw new Error(`next() was not called in TransactionPlugin ${s}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${s}`)}};await r(0)()};let ms=class t{constructor(){os(this,Zr),os(this,qr),os(this,Hr),os(this,Kr,new Map),os(this,Qr),this.object=function(e){function t(t){return e(t)}return t.system=()=>t("0x5"),t.clock=()=>t("0x6"),t.random=()=>t("0x8"),t.denyList=()=>t("0x403"),t}((e=>{if("function"==typeof e)return this.object(e(this));if("object"==typeof e&&R(_e,e))return e;const t=Wr(e),r=as(this,Qr).inputs.find((e=>t===Wr(e)));return r?.Object?.SharedObject&&"object"==typeof e&&e.Object?.SharedObject&&(r.Object.SharedObject.mutable=r.Object.SharedObject.mutable||e.Object.SharedObject.mutable),r?{$kind:"Input",Input:as(this,Qr).inputs.indexOf(r),type:"object"}:as(this,Qr).addInput("object","string"==typeof e?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:ae(e)}}:e)}));const e=_s();cs(this,Qr,new zr),cs(this,Hr,[...e.buildPlugins]),cs(this,qr,[...e.serializationPlugins])}static fromKind(r){const s=new t;return cs(s,Qr,zr.fromKindBytes("string"==typeof r?e(r):r)),s}static from(r){const s=new t;return hs(r)?cs(s,Qr,new zr(r.getData())):"string"==typeof r&&r.startsWith("{")?cs(s,Qr,zr.restore(JSON.parse(r))):cs(s,Qr,zr.fromBytes("string"==typeof r?e(r):r)),s}static registerGlobalSerializationPlugin(e){_s().serializationPlugins.push(e)}static registerGlobalBuildPlugin(e){_s().buildPlugins.push(e)}addSerializationPlugin(e){as(this,qr).push(e)}addBuildPlugin(e){as(this,Hr).push(e)}addIntentResolver(e,t){if(as(this,Kr).has(e)&&as(this,Kr).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);as(this,Kr).set(e,t)}setSender(e){as(this,Qr).sender=e}setSenderIfNotSet(e){as(this,Qr).sender||(as(this,Qr).sender=e)}setExpiration(e){as(this,Qr).expiration=e?te(Oe,e):null}setGasPrice(e){as(this,Qr).gasConfig.price=String(e)}setGasBudget(e){as(this,Qr).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){null==as(this,Qr).gasData.budget&&(as(this,Qr).gasConfig.budget=String(e))}setGasOwner(e){as(this,Qr).gasConfig.owner=e}setGasPayment(e){as(this,Qr).gasConfig.payment=e.map((e=>te(pe,e)))}get blockData(){return $e(as(this,Qr).snapshot())}getData(){return as(this,Qr).snapshot()}get[us](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:_r((e=>w(e)?as(this,Qr).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):as(this,Qr).addInput("pure",R(xe,e)?te(xe,e):e instanceof Uint8Array?nt(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}})))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(at(...e))}receivingRef(...e){return this.object(ct(...e))}sharedObjectRef(...e){return this.object(ot(...e))}add(e){return"function"==typeof e?e(this):function(e){const t=[],r=r=>t[r]??(t[r]={$kind:"NestedResult",NestedResult:[e,r]});return new Proxy({$kind:"Result",Result:e},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){let e=0;for(;;)yield r(e),e++};if("symbol"==typeof t)return;const s=parseInt(t,10);return Number.isNaN(s)||s<0?void 0:r(s)}})}(as(this,Qr).commands.push(e)-1)}splitCoins(e,t){return this.add(Be.SplitCoins("string"==typeof e?this.object(e):ds(this,Zr,ts).call(this,e),t.map((e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):ds(this,Zr,es).call(this,e)))))}mergeCoins(e,t){return this.add(Be.MergeCoins(this.object(e),t.map((e=>this.object(e)))))}publish({modules:e,dependencies:t}){return this.add(Be.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:r,ticket:s}){return this.add(Be.Upgrade({modules:e,dependencies:t,package:r,ticket:this.object(s)}))}moveCall({arguments:e,...t}){return this.add(Be.MoveCall({...t,arguments:e?.map((e=>ds(this,Zr,es).call(this,e)))}))}transferObjects(e,t){return this.add(Be.TransferObjects(e.map((e=>this.object(e))),"string"==typeof t?this.pure.address(t):ds(this,Zr,es).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(Be.MakeMoveVec({type:e,elements:t.map((e=>this.object(e)))}))}serialize(){return JSON.stringify($e(as(this,Qr).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(te(it,as(this,Qr).snapshot()),((e,t)=>"bigint"==typeof t?t.toString():t),2)}async sign(e){const{signer:t,...r}=e,s=await this.build(r);return t.signTransaction(s)}async build(e={}){return await this.prepareForSerialization(e),await ds(this,Zr,rs).call(this,e),as(this,Qr).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await ds(this,Zr,rs).call(this,e),as(this,Qr).getDigest()}async prepareForSerialization(e){const t=new Set;for(const e of as(this,Qr).commands)e.$Intent&&t.add(e.$Intent.name);const r=[...as(this,qr)];for(const s of t)if(!e.supportedIntents?.includes(s)){if(!as(this,Kr).has(s))throw new Error(`Missing intent resolver for ${s}`);r.push(as(this,Kr).get(s))}await ds(this,Zr,ss).call(this,r,e)}};const bs=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,gs=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,ys={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class fs extends Error{}class Ts extends fs{constructor(e,t){super(e),this.code=t,this.type=ys[t]??"ServerError"}}class Es extends fs{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var vs,xs,Os,ws,Bs,Is,Cs,Ps,Ss,As=e=>{throw TypeError(e)},js=(e,t,r)=>t.has(e)||As("Cannot "+r),ks=(e,t,r)=>(js(e,t,"read from private field"),r?r.call(e):t.get(e)),Us=(e,t,r)=>t.has(e)?As("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ys=(e,t,r,s)=>(js(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Ds=(e,t,r)=>(js(e,t,"access private method"),r);const Ns={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class Rs{constructor(e,t={}){if(Us(this,Cs),Us(this,vs,0),Us(this,xs,0),Us(this,Os,null),Us(this,ws,null),Us(this,Bs,new Set),Us(this,Is,new Map),this.endpoint=e,this.options={...Ns,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){const r=await Ds(this,Cs,Ps).call(this);return new Promise(((s,i)=>{Ys(this,vs,ks(this,vs)+1),ks(this,Is).set(ks(this,vs),{resolve:s,reject:i,timeout:setTimeout((()=>{ks(this,Is).delete(ks(this,vs)),i(new Error(`Request timeout: ${e}`))}),this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:ks(this,vs),method:e,params:t}))})).then((({error:e,result:t})=>{if(e)throw new Ts(e.message,e.code);return t}))}async subscribe(e){const t=new Vs(e);return ks(this,Bs).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}vs=new WeakMap,xs=new WeakMap,Os=new WeakMap,ws=new WeakMap,Bs=new WeakMap,Is=new WeakMap,Cs=new WeakSet,Ps=function(){return ks(this,ws)||Ys(this,ws,new Promise((e=>{ks(this,Os)?.close(),Ys(this,Os,new this.options.WebSocketConstructor(this.endpoint)),ks(this,Os).addEventListener("open",(()=>{Ys(this,xs,0),e(ks(this,Os))})),ks(this,Os).addEventListener("close",(()=>{var e,t;(e=this,t=xs,{set _(r){Ys(e,t,r,undefined)},get _(){return ks(e,t,undefined)}})._++,ks(this,xs)<=this.options.maxReconnects&&setTimeout((()=>{Ds(this,Cs,Ss).call(this)}),this.options.reconnectTimeout)})),ks(this,Os).addEventListener("message",(({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){return void console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:t}))}if("id"in t&&null!=t.id&&ks(this,Is).has(t.id)){const{resolve:e,timeout:r}=ks(this,Is).get(t.id);clearTimeout(r),e(t)}else if("params"in t){const{params:e}=t;ks(this,Bs).forEach((t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)}))}}))}))),ks(this,ws)},Ss=async function(){return ks(this,Os)?.close(),Ys(this,ws,null),Promise.allSettled([...ks(this,Bs)].map((e=>e.subscribe(this))))};class Vs{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var Xs,Js,Fs,Ls,Ms,Gs=e=>{throw TypeError(e)},$s=(e,t,r)=>t.has(e)||Gs("Cannot "+r),zs=(e,t,r)=>($s(e,t,"read from private field"),r?r.call(e):t.get(e)),Ws=(e,t,r)=>t.has(e)?Gs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qs=(e,t,r,s)=>($s(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);class Hs{constructor(e){Ws(this,Ls),Ws(this,Xs,0),Ws(this,Js),Ws(this,Fs),qs(this,Js,e)}fetch(e,t){const r=zs(this,Js).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){qs(this,Xs,zs(this,Xs)+1);const t=await this.fetch(zs(this,Js).rpc?.url??zs(this,Js).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"1.7.0","Client-Target-Api-Version":"1.32.0",...zs(this,Js).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:zs(this,Xs),method:e.method,params:e.params})});if(!t.ok)throw new Es(`Unexpected status code: ${t.status}`,t.status,t.statusText);const r=await t.json();if("error"in r&&null!=r.error)throw new Ts(r.error.message,r.error.code);return r.result}async subscribe(e){const t=await(r=Ls,s=Ms,$s(this,r,"access private method"),s).call(this).subscribe(e);var r,s;return async()=>!!await t()}}Xs=new WeakMap,Js=new WeakMap,Fs=new WeakMap,Ls=new WeakSet,Ms=function(){if(!zs(this,Fs)){const e=zs(this,Js).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");qs(this,Fs,new Rs(zs(this,Js).websocket?.url??zs(this,Js).url,{WebSocketConstructor:e,...zs(this,Js).websocket}))}return zs(this,Fs)};const Ks=Symbol.for("@mysten/SuiClient");class Qs{get[Ks](){return!0}constructor(e){this.transport=e.transport??new Hs({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!ie(ae(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!ie(ae(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!ie(ae(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!ie(ae(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!ie(ae(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!ne(oe(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach((e=>{if(!e||!ne(oe(e)))throw new Error(`Invalid Sui Object id ${e}`)})),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!se(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach((e=>{if(!se(e))throw new Error(`Invalid Transaction digest ${e}`)})),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:t,options:r,requestType:s}){const n=await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e?e:i(e),Array.isArray(t)?t:[t],r]});if("WaitForLocalExecution"===s)try{await this.waitForTransaction({digest:n.digest})}catch(e){}return n}async signAndExecuteTransaction({transaction:e,signer:t,...r}){let s;e instanceof Uint8Array?s=e:(e.setSenderIfNotSet(t.toSuiAddress()),s=await e.build({client:this}));const{signature:i,bytes:n}=await t.signTransaction(s);return this.executeTransactionBlock({transactionBlock:n,signature:i,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!ie(ae(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach((e=>{if(!e||!ne(oe(e)))throw new Error(`Invalid Sui Stake id ${e}`)})),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if(hs(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=i(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=i(e.transactionBlock)}return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:i(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!ne(oe(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"});return d(o(e.digest).slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...t}){const{nextCursor:r,hasNextPage:s,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[t.address,t.cursor,t.limit]});return{hasNextPage:s,nextCursor:r,data:i.map((t=>function(e,t="at"){const r=e.toLowerCase();let s;if(r.includes("@")){if(!bs.test(r))throw new Error(`Invalid SuiNS name ${e}`);const[t,i]=r.split("@");s=[...t?t.split("."):[],i]}else{if(!gs.test(r))throw new Error(`Invalid SuiNS name ${e}`);s=r.split(".").slice(0,-1)}return"dot"===t?`${s.join(".")}.sui`:`${s.slice(0,-1).join(".")}@${s[s.length-1]}`}(t,e)))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransaction({signal:e,timeout:t=6e4,pollInterval:r=2e3,...s}){const i=AbortSignal.timeout(t),n=new Promise(((e,t)=>{i.addEventListener("abort",(()=>t(i.reason)))}));for(n.catch((()=>{}));!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(s)}catch(e){await Promise.race([new Promise((e=>setTimeout(e,r))),n])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}var Zs=r(947),ei=r(343);function ti(e,t){return nr.IntentMessage(nr.fixedArray(t.length,nr.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}const ri={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},si={ED25519:32,Secp256k1:33,Secp256r1:33},ii={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};function ni(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class ai{equals(e){return ni(this.toRawBytes(),e.toRawBytes())}toBase64(){return i(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){return i(this.toSuiBytes())}verifyWithIntent(e,t,r){const s=ti(r,e),i=Gr(s,{dkLen:32});return this.verify(i,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(nr.vector(nr.u8()).serialize(e).toBytes(),t,"PersonalMessage")}verifyTransaction(e,t){return this.verifyWithIntent(e,t,"TransactionData")}toSuiBytes(){const e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toSuiAddress(){return ae(function(e){gr(e);let t="";for(let r=0;r<e.length;r++)t+=Ir[e[r]];return t}(Gr(this.toSuiBytes(),{dkLen:32})).slice(0,64))}}function oi(e){return 9===e||32===e}const ci=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function di(e){return ui[e.charCodeAt(0)]}const ui=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function hi(e,t){if(!Boolean(e))throw new Error(t)}function li(e){return pi(e,[])}function pi(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const r=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:pi(t,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const r=Math.min(10,e.length),s=e.length-r,i=[];for(let s=0;s<r;++s)i.push(pi(e[s],t));return 1===s?i.push("... 1 more item"):s>1&&i.push(`... ${s} more items`),"["+i.join(", ")+"]"}(e,r);return function(e,t){const r=Object.entries(e);if(0===r.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const s=r.map((([e,r])=>e+": "+pi(r,t)));return"{ "+s.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}Symbol.toStringTag,Symbol.toStringTag;const _i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},mi=new Set(Object.keys(_i));function bi(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&mi.has(t)}var gi,yi,fi;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(gi||(gi={})),(fi=yi||(yi={})).NAME="Name",fi.DOCUMENT="Document",fi.OPERATION_DEFINITION="OperationDefinition",fi.VARIABLE_DEFINITION="VariableDefinition",fi.SELECTION_SET="SelectionSet",fi.FIELD="Field",fi.ARGUMENT="Argument",fi.FRAGMENT_SPREAD="FragmentSpread",fi.INLINE_FRAGMENT="InlineFragment",fi.FRAGMENT_DEFINITION="FragmentDefinition",fi.VARIABLE="Variable",fi.INT="IntValue",fi.FLOAT="FloatValue",fi.STRING="StringValue",fi.BOOLEAN="BooleanValue",fi.NULL="NullValue",fi.ENUM="EnumValue",fi.LIST="ListValue",fi.OBJECT="ObjectValue",fi.OBJECT_FIELD="ObjectField",fi.DIRECTIVE="Directive",fi.NAMED_TYPE="NamedType",fi.LIST_TYPE="ListType",fi.NON_NULL_TYPE="NonNullType",fi.SCHEMA_DEFINITION="SchemaDefinition",fi.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",fi.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",fi.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",fi.FIELD_DEFINITION="FieldDefinition",fi.INPUT_VALUE_DEFINITION="InputValueDefinition",fi.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",fi.UNION_TYPE_DEFINITION="UnionTypeDefinition",fi.ENUM_TYPE_DEFINITION="EnumTypeDefinition",fi.ENUM_VALUE_DEFINITION="EnumValueDefinition",fi.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",fi.DIRECTIVE_DEFINITION="DirectiveDefinition",fi.SCHEMA_EXTENSION="SchemaExtension",fi.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",fi.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",fi.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",fi.UNION_TYPE_EXTENSION="UnionTypeExtension",fi.ENUM_TYPE_EXTENSION="EnumTypeExtension",fi.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";const Ti=Object.freeze({});function Ei(e,t){const r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}const vi={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>xi(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=wi("(",xi(e.variableDefinitions,", "),")"),r=xi([e.operation,xi([e.name,t]),xi(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:s})=>e+": "+t+wi(" = ",r)+wi(" ",xi(s," "))},SelectionSet:{leave:({selections:e})=>Oi(e)},Field:{leave({alias:e,name:t,arguments:r,directives:s,selectionSet:i}){const n=wi("",e,": ")+t;let a=n+wi("(",xi(r,", "),")");return a.length>80&&(a=n+wi("(\n",Bi(xi(r,"\n")),"\n)")),xi([a,xi(s," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+wi(" ",xi(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>xi(["...",wi("on ",e),xi(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:s,selectionSet:i})=>`fragment ${e}${wi("(",xi(r,", "),")")} on ${t} ${wi("",xi(s," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e){const t=e.replace(/"""/g,'\\"""'),r=t.split(/\r\n|[\n\r]/g),s=1===r.length,i=r.length>1&&r.slice(1).every((e=>0===e.length||oi(e.charCodeAt(0)))),n=t.endsWith('\\"""'),a=e.endsWith('"')&&!n,o=e.endsWith("\\"),c=a||o,d=!s||e.length>70||c||i||n;let u="";const h=s&&oi(e.charCodeAt(0));return(d&&!h||i)&&(u+="\n"),u+=t,(d||c)&&(u+="\n"),'"""'+u+'"""'}(e):`"${e.replace(ci,di)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+xi(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+xi(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+wi("(",xi(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>wi("",e,"\n")+xi(["schema",xi(t," "),Oi(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>wi("",e,"\n")+xi(["scalar",t,xi(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:s,fields:i})=>wi("",e,"\n")+xi(["type",t,wi("implements ",xi(r," & ")),xi(s," "),Oi(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:s,directives:i})=>wi("",e,"\n")+t+(Ii(r)?wi("(\n",Bi(xi(r,"\n")),"\n)"):wi("(",xi(r,", "),")"))+": "+s+wi(" ",xi(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:s,directives:i})=>wi("",e,"\n")+xi([t+": "+r,wi("= ",s),xi(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:s,fields:i})=>wi("",e,"\n")+xi(["interface",t,wi("implements ",xi(r," & ")),xi(s," "),Oi(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:s})=>wi("",e,"\n")+xi(["union",t,xi(r," "),wi("= ",xi(s," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:s})=>wi("",e,"\n")+xi(["enum",t,xi(r," "),Oi(s)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>wi("",e,"\n")+xi([t,xi(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:s})=>wi("",e,"\n")+xi(["input",t,xi(r," "),Oi(s)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:s,locations:i})=>wi("",e,"\n")+"directive @"+t+(Ii(r)?wi("(\n",Bi(xi(r,"\n")),"\n)"):wi("(",xi(r,", "),")"))+(s?" repeatable":"")+" on "+xi(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>xi(["extend schema",xi(e," "),Oi(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>xi(["extend scalar",e,xi(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:s})=>xi(["extend type",e,wi("implements ",xi(t," & ")),xi(r," "),Oi(s)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:s})=>xi(["extend interface",e,wi("implements ",xi(t," & ")),xi(r," "),Oi(s)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>xi(["extend union",e,xi(t," "),wi("= ",xi(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>xi(["extend enum",e,xi(t," "),Oi(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>xi(["extend input",e,xi(t," "),Oi(r)]," ")}};function xi(e,t=""){var r;return null!==(r=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==r?r:""}function Oi(e){return wi("{\n",Bi(xi(e,"\n")),"\n}")}function wi(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function Bi(e){return wi("  ",e.replace(/\n/g,"\n  "))}function Ii(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var Ci,Pi,Si,Ai,ji=e=>{throw TypeError(e)},ki=(e,t,r)=>t.has(e)||ji("Cannot "+r),Ui=(e,t,r)=>(ki(e,t,"read from private field"),r?r.call(e):t.get(e)),Yi=(e,t,r)=>t.has(e)?ji("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Di=(e,t,r,s)=>(ki(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);class Ni extends Error{}class Ri{constructor({url:e,fetch:t=fetch,headers:r={},queries:s={}}){Yi(this,Ci),Yi(this,Pi),Yi(this,Si),Yi(this,Ai),Di(this,Ci,e),Di(this,Pi,s),Di(this,Si,r),Di(this,Ai,((...e)=>t(...e)))}async query(e){const t=await Ui(this,Ai).call(this,Ui(this,Ci),{method:"POST",headers:{"Content-Type":"application/json",...Ui(this,Si)},body:JSON.stringify({query:"string"==typeof e.query?String(e.query):(r=e.query,function(e,t,r=_i){const s=new Map;for(const e of Object.values(yi))s.set(e,Ei(t,e));let i,n,a,o=Array.isArray(e),c=[e],d=-1,u=[],h=e;const l=[],p=[];do{d++;const e=d===c.length,g=e&&0!==u.length;if(e){if(n=0===p.length?void 0:l[l.length-1],h=a,a=p.pop(),g)if(o){h=h.slice();let e=0;for(const[t,r]of u){const s=t-e;null===r?(h.splice(s,1),e++):h[s]=r}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(const[e,t]of u)h[e]=t}d=i.index,c=i.keys,u=i.edits,o=i.inArray,i=i.prev}else if(a){if(n=o?d:c[d],h=a[n],null==h)continue;l.push(n)}let y;if(!Array.isArray(h)){var _,m;bi(h)||hi(!1,`Invalid AST Node: ${li(h)}.`);const r=e?null===(_=s.get(h.kind))||void 0===_?void 0:_.leave:null===(m=s.get(h.kind))||void 0===m?void 0:m.enter;if(y=null==r?void 0:r.call(t,h,n,a,l,p),y===Ti)break;if(!1===y){if(!e){l.pop();continue}}else if(void 0!==y&&(u.push([n,y]),!e)){if(!bi(y)){l.pop();continue}h=y}}var b;void 0===y&&g&&u.push([n,h]),e?l.pop():(i={inArray:o,index:d,keys:c,edits:u,prev:i},o=Array.isArray(h),c=o?h:null!==(b=r[h.kind])&&void 0!==b?b:[],d=-1,u=[],a&&p.push(a),a=h)}while(void 0!==i);return 0!==u.length?u[u.length-1][1]:e}(r,vi)),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});var r;if(!t.ok)throw new Ni(`GraphQL request failed: ${t.statusText} (${t.status})`);return await t.json()}async execute(e,t){return this.query({...t,query:Ui(this,Pi)[e]})}}Ci=new WeakMap,Pi=new WeakMap,Si=new WeakMap,Ai=new WeakMap;var Vi,Xi,Ji="Document",Fi="FragmentDefinition";class Li extends Error{constructor(e,t,r,s,i,n,a){super(e),this.name="GraphQLError",this.message=e,i&&(this.path=i),t&&(this.nodes=Array.isArray(t)?t:[t]),r&&(this.source=r),s&&(this.positions=s),n&&(this.originalError=n);var o=a;if(!o&&n){var c=n.extensions;c&&"object"==typeof c&&(o=c)}this.extensions=o||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}function Mi(e){return new Li(`Syntax Error: Unexpected token at ${Xi} in ${e}`)}function Gi(e){if(e.lastIndex=Xi,e.test(Vi))return Vi.slice(Xi,Xi=e.lastIndex)}var $i=/ +(?=[^\s])/y;function zi(e){for(var t=e.split("\n"),r="",s=0,i=0,n=t.length-1,a=0;a<t.length;a++)$i.lastIndex=0,$i.test(t[a])&&(a&&(!s||$i.lastIndex<s)&&(s=$i.lastIndex),i=i||a,n=a);for(var o=i;o<=n;o++)o!==i&&(r+="\n"),r+=t[o].slice(s).replace(/\\"""/g,'"""');return r}function Wi(){for(var e=0|Vi.charCodeAt(Xi++);9===e||10===e||13===e||32===e||35===e||44===e||65279===e;e=0|Vi.charCodeAt(Xi++))if(35===e)for(;10!==(e=Vi.charCodeAt(Xi++))&&13!==e;);Xi--}function qi(){for(var e=Xi,t=0|Vi.charCodeAt(Xi++);t>=48&&t<=57||t>=65&&t<=90||95===t||t>=97&&t<=122;t=0|Vi.charCodeAt(Xi++));if(e===Xi-1)throw Mi("Name");var r=Vi.slice(e,--Xi);return Wi(),r}function Hi(){return{kind:"Name",value:qi()}}var Ki=/(?:"""|(?:[\s\S]*?[^\\])""")/y,Qi=/(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;function Zi(e){var t;switch(Vi.charCodeAt(Xi)){case 91:Xi++,Wi();for(var r=[];93!==Vi.charCodeAt(Xi);)r.push(Zi(e));return Xi++,Wi(),{kind:"ListValue",values:r};case 123:Xi++,Wi();for(var s=[];125!==Vi.charCodeAt(Xi);){var i=Hi();if(58!==Vi.charCodeAt(Xi++))throw Mi("ObjectField");Wi(),s.push({kind:"ObjectField",name:i,value:Zi(e)})}return Xi++,Wi(),{kind:"ObjectValue",fields:s};case 36:if(e)throw Mi("Variable");return Xi++,{kind:"Variable",name:Hi()};case 34:if(34===Vi.charCodeAt(Xi+1)&&34===Vi.charCodeAt(Xi+2)){if(Xi+=3,null==(t=Gi(Ki)))throw Mi("StringValue");return Wi(),{kind:"StringValue",value:zi(t.slice(0,-3)),block:!0}}var n,a=Xi;Xi++;var o=!1;for(n=0|Vi.charCodeAt(Xi++);92===n&&(Xi++,o=!0)||10!==n&&13!==n&&34!==n&&n;n=0|Vi.charCodeAt(Xi++));if(34!==n)throw Mi("StringValue");return t=Vi.slice(a,Xi),Wi(),{kind:"StringValue",value:o?JSON.parse(t):t.slice(1,-1),block:!1};case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var c,d=Xi++;(c=0|Vi.charCodeAt(Xi++))>=48&&c<=57;);var u=Vi.slice(d,--Xi);if(46===(c=Vi.charCodeAt(Xi))||69===c||101===c){if(null==(t=Gi(Qi)))throw Mi("FloatValue");return Wi(),{kind:"FloatValue",value:u+t}}return Wi(),{kind:"IntValue",value:u};case 110:if(117===Vi.charCodeAt(Xi+1)&&108===Vi.charCodeAt(Xi+2)&&108===Vi.charCodeAt(Xi+3))return Xi+=4,Wi(),{kind:"NullValue"};break;case 116:if(114===Vi.charCodeAt(Xi+1)&&117===Vi.charCodeAt(Xi+2)&&101===Vi.charCodeAt(Xi+3))return Xi+=4,Wi(),{kind:"BooleanValue",value:!0};break;case 102:if(97===Vi.charCodeAt(Xi+1)&&108===Vi.charCodeAt(Xi+2)&&115===Vi.charCodeAt(Xi+3)&&101===Vi.charCodeAt(Xi+4))return Xi+=5,Wi(),{kind:"BooleanValue",value:!1}}return{kind:"EnumValue",value:qi()}}function en(e){if(40===Vi.charCodeAt(Xi)){var t=[];Xi++,Wi();do{var r=Hi();if(58!==Vi.charCodeAt(Xi++))throw Mi("Argument");Wi(),t.push({kind:"Argument",name:r,value:Zi(e)})}while(41!==Vi.charCodeAt(Xi));return Xi++,Wi(),t}}function tn(e){if(64===Vi.charCodeAt(Xi)){var t=[];do{Xi++,t.push({kind:"Directive",name:Hi(),arguments:en(e)})}while(64===Vi.charCodeAt(Xi));return t}}function rn(){for(var e=0;91===Vi.charCodeAt(Xi);)e++,Xi++,Wi();var t={kind:"NamedType",name:Hi()};do{if(33===Vi.charCodeAt(Xi)&&(Xi++,Wi(),t={kind:"NonNullType",type:t}),e){if(93!==Vi.charCodeAt(Xi++))throw Mi("NamedType");Wi(),t={kind:"ListType",type:t}}}while(e--);return t}function sn(){if(123!==Vi.charCodeAt(Xi++))throw Mi("SelectionSet");return Wi(),nn()}function nn(){var e=[];do{if(46===Vi.charCodeAt(Xi)){if(46!==Vi.charCodeAt(++Xi)||46!==Vi.charCodeAt(++Xi))throw Mi("SelectionSet");switch(Xi++,Wi(),Vi.charCodeAt(Xi)){case 64:e.push({kind:"InlineFragment",typeCondition:void 0,directives:tn(!1),selectionSet:sn()});break;case 111:110===Vi.charCodeAt(Xi+1)?(Xi+=2,Wi(),e.push({kind:"InlineFragment",typeCondition:{kind:"NamedType",name:Hi()},directives:tn(!1),selectionSet:sn()})):e.push({kind:"FragmentSpread",name:Hi(),directives:tn(!1)});break;case 123:Xi++,Wi(),e.push({kind:"InlineFragment",typeCondition:void 0,directives:void 0,selectionSet:nn()});break;default:e.push({kind:"FragmentSpread",name:Hi(),directives:tn(!1)})}}else{var t=Hi(),r=void 0;58===Vi.charCodeAt(Xi)&&(Xi++,Wi(),r=t,t=Hi());var s=en(!1),i=tn(!1),n=void 0;123===Vi.charCodeAt(Xi)&&(Xi++,Wi(),n=nn()),e.push({kind:"Field",alias:r,name:t,arguments:s,directives:i,selectionSet:n})}}while(125!==Vi.charCodeAt(Xi));return Xi++,Wi(),{kind:"SelectionSet",selections:e}}function an(){if(Wi(),40===Vi.charCodeAt(Xi)){var e=[];Xi++,Wi();do{if(36!==Vi.charCodeAt(Xi++))throw Mi("Variable");var t=Hi();if(58!==Vi.charCodeAt(Xi++))throw Mi("VariableDefinition");Wi();var r=rn(),s=void 0;61===Vi.charCodeAt(Xi)&&(Xi++,Wi(),s=Zi(!0)),Wi(),e.push({kind:"VariableDefinition",variable:{kind:"Variable",name:t},type:r,defaultValue:s,directives:tn(!0)})}while(41!==Vi.charCodeAt(Xi));return Xi++,Wi(),e}}function on(){var e=Hi();if(111!==Vi.charCodeAt(Xi++)||110!==Vi.charCodeAt(Xi++))throw Mi("FragmentDefinition");return Wi(),{kind:"FragmentDefinition",name:e,typeCondition:{kind:"NamedType",name:Hi()},directives:tn(!1),selectionSet:sn()}}function cn(){var e=[];do{if(123===Vi.charCodeAt(Xi))Xi++,Wi(),e.push({kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:void 0,directives:void 0,selectionSet:nn()});else{var t=qi();switch(t){case"fragment":e.push(on());break;case"query":case"mutation":case"subscription":var r,s=void 0;40!==(r=Vi.charCodeAt(Xi))&&64!==r&&123!==r&&(s=Hi()),e.push({kind:"OperationDefinition",operation:t,name:s,variableDefinitions:an(),directives:tn(!1),selectionSet:sn()});break;default:throw Mi("Document")}}}while(Xi<Vi.length);return e}function dn(e,t){return Vi=e.body?e.body:e,Xi=0,Wi(),t&&t.noLocation?{kind:"Document",definitions:cn()}:{kind:"Document",definitions:cn(),loc:{start:0,end:Vi.length,startToken:void 0,endToken:void 0,source:{body:Vi,name:"graphql.web",locationOffset:{line:1,column:1}}}}}var un=0,hn=new Set;function ln(){function e(e,t){var r,s,i=dn(e).definitions,n=new Set;for(var a of t||[])for(var o of a.definitions)o.kind!==Fi||n.has(o)||(i.push(o),n.add(o));return(r=i[0].kind===Fi)&&i[0].directives&&(i[0].directives=i[0].directives.filter((e=>"_unmask"!==e.name.value))),{kind:Ji,definitions:i,get loc(){if(!s&&r){var i=e+function(e){try{un++;var t="";for(var r of e)if(!hn.has(r)){hn.add(r);var{loc:s}=r;s&&(t+=s.source.body)}return t}finally{0==--un&&hn.clear()}}(t||[]);return{start:0,end:i.length,source:{body:i,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return s},set loc(e){s=e}}}return e.scalar=function(e,t){return t},e.persisted=function(e,t){return{kind:Ji,definitions:t?t.definitions:[],documentId:e}},e}ln();const pn=ln();function _n(e){if(1!==e.length)throw new Error("Invalid base64Url character: "+e);const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw new Error("Invalid base64Url character: "+e);const r=t.toString(2).padStart(6,"0");return Array.from(r).map(Number)}function mn(e,t){const r=function(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=function(e){let t=[];for(let r=0;r<e.length;r++){const s=_n(e.charAt(r));t=t.concat(s)}return t}(e);const s=t%4;if(0===s);else if(1===s)r=r.slice(2);else{if(2!==s)throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);r=r.slice(4)}const i=(t+e.length-1)%4;if(3===i);else if(2===i)r=r.slice(0,r.length-2);else{if(1!==i)throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);r=r.slice(0,r.length-4)}if(r.length%8!=0)throw new Error("We should never reach here...");const n=new Uint8Array(Math.floor(r.length/8));let a=0;for(let e=0;e<r.length;e+=8){const t=r.slice(e,e+8),s=parseInt(t.join(""),2);n[a++]=s}return(new TextDecoder).decode(n)}(e.value,e.indexMod4),[s,i]=function(e){if("}"!==e.slice(-1)&&","!==e.slice(-1))throw new Error("Invalid claim");const t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw new Error("Invalid claim");const r=Object.keys(t)[0];return[r,t[r]]}(r);if(s!==t)throw new Error(`Invalid field name: found ${s} expected ${t}`);return i}const bn=dt.struct("ZkLoginSignature",{inputs:dt.struct("ZkLoginSignatureInputs",{proofPoints:dt.struct("ZkLoginSignatureInputsProofPoints",{a:dt.vector(dt.string()),b:dt.vector(dt.vector(dt.string())),c:dt.vector(dt.string())}),issBase64Details:dt.struct("ZkLoginSignatureInputsClaim",{value:dt.string(),indexMod4:dt.u8()}),headerBase64:dt.string(),addressSeed:dt.string()}),maxEpoch:dt.u64(),userSignature:dt.vector(dt.u8())});var gn,yn,fn=e=>{throw TypeError(e)},Tn=(e,t,r)=>t.has(e)||fn("Cannot "+r),En=(e,t,r)=>(Tn(e,t,"read from private field"),r?r.call(e):t.get(e)),vn=(e,t,r)=>t.has(e)?fn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xn=(e,t,r,s)=>(Tn(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);gn=new WeakMap,yn=new WeakMap;let On=class t extends ai{constructor(t,{client:r}={}){super(),vn(this,gn),vn(this,yn),xn(this,yn,r),"string"==typeof t?xn(this,gn,e(t)):t instanceof Uint8Array?xn(this,gn,t):xn(this,gn,Uint8Array.from(t))}equals(e){return super.equals(e)}toRawBytes(){return En(this,gn)}flag(){return ri.ZkLogin}async verify(e,t){throw Error("does not support")}verifyPersonalMessage(e,r){const s=In(r);return Bn({address:new t(s.publicKey).toSuiAddress(),bytes:i(e),signature:s.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:En(this,yn)})}verifyTransaction(e,r){const s=In(r);return Bn({address:new t(s.publicKey).toSuiAddress(),bytes:i(e),signature:s.serializedSignature,intentScope:"TRANSACTION_DATA",client:En(this,yn)})}};const wn=pn("\n\tquery Zklogin(\n\t\t$bytes: Base64!\n\t\t$signature: Base64!\n\t\t$intentScope: ZkLoginIntentScope!\n\t\t$author: SuiAddress!\n\t) {\n\t\tverifyZkloginSignature(\n\t\t\tbytes: $bytes\n\t\t\tsignature: $signature\n\t\t\tintentScope: $intentScope\n\t\t\tauthor: $author\n\t\t) {\n\t\t\tsuccess\n\t\t\terrors\n\t\t}\n\t}\n");async function Bn({address:e,bytes:t,signature:r,intentScope:s,client:i=new Ri({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){const n=await i.query({query:wn,variables:{bytes:t,signature:r,intentScope:s,author:e}});return!0===n.data?.verifyZkloginSignature.success&&0===n.data?.verifyZkloginSignature.errors.length}function In(t){const r="string"==typeof t?e(t):t;if(r[0]!==ri.ZkLogin)throw new Error("Invalid signature scheme");const s=r.slice(1),{inputs:n,maxEpoch:a,userSignature:o}=function(t){return bn.parse("string"==typeof t?e(t):t)}(s),{issBase64Details:c,addressSeed:d}=n,u=mn(c,"iss"),h=function(e,t){const r=(n=32,function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=Cr(e.charCodeAt(i)),n=Cr(e.charCodeAt(i+1));if(void 0===r||void 0===n){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}s[t]=16*r+n}return s}(e.toString(16).padStart(2*n,"0").slice(2*-n))),s=(new TextEncoder).encode(t),i=new Uint8Array(1+s.length+r.length);var n;return i.set([s.length],0),i.set(s,1),i.set(r,1+s.length),new On(i,void 0)}(BigInt(d),u);return{serializedSignature:i(r),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:a,userSignature:o,iss:u,addressSeed:BigInt(d)},signature:r,publicKey:h.toRawBytes()}}const Cn=32,Pn="suiprivkey";class Sn{async signWithIntent(e,t){const r=ti(t,e),s=Gr(r,{dkLen:32});return{signature:function({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw new Error("`publicKey` is required");const s=r.toRawBytes(),n=new Uint8Array(1+e.length+s.length);return n.set([ri[t]]),n.set(e,1),n.set(s,1+e.length),i(n)}({signature:await this.sign(s),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:i(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){const{signature:t}=await this.signWithIntent(dt.vector(dt.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:i(e),signature:t}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class An extends Sn{}function jn(e){const{prefix:t,words:r}=ei.I.decode(e);if(t!==Pn)throw new Error("invalid private key prefix");const s=new Uint8Array(ei.I.fromWords(r)),i=s.slice(1);return{schema:ii[s[0]],secretKey:i}}function kn(e,t){if(e.length!==Cn)throw new Error("Invalid bytes length");const r=ri[t],s=new Uint8Array(e.length+1);return s.set([r]),s.set(e,1),ei.I.encode(Pn,ei.I.toWords(s))}class Un extends Sr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,yr(e);const r=Pr(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return fr(this),this.iHash.update(e),this}digestInto(e){fr(this),gr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:n,outputLen:a}=this;return e.finished=s,e.destroyed=i,e.blockLen=n,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yn=(e,t,r)=>new Un(e,t).update(r).digest();Yn.create=(e,t)=>new Un(e,t);class Dn extends Sr{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=vr(this.buffer)}update(e){fr(this);const{view:t,buffer:r,blockLen:s}=this,i=(e=Pr(e)).length;for(let n=0;n<i;){const a=Math.min(s-this.pos,i-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=vr(e);for(;s<=i-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){fr(this),Tr(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:n}=this;t[n++]=128,this.buffer.subarray(n).fill(0),this.padOffset>s-n&&(this.process(r,0),n=0);for(let e=n;e<s;e++)t[e]=0;!function(e,t,r,s){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,s);const i=BigInt(32),n=BigInt(4294967295),a=Number(r>>i&n),o=Number(r&n),c=s?4:0,d=s?0:4;e.setUint32(t+c,a,s),e.setUint32(t+d,o,s)}(r,s-8,BigInt(8*this.length),i),this.process(r,0);const a=vr(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:n,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=n,s%t&&e.buffer.set(r),e}}const[Nn,Rn]=(()=>Vr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Vn=new Uint32Array(80),Xn=new Uint32Array(80);class Jn extends Dn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:n,Dh:a,Dl:o,Eh:c,El:d,Fh:u,Fl:h,Gh:l,Gl:p,Hh:_,Hl:m}=this;return[e,t,r,s,i,n,a,o,c,d,u,h,l,p,_,m]}set(e,t,r,s,i,n,a,o,c,d,u,h,l,p,_,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|s,this.Ch=0|i,this.Cl=0|n,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|d,this.Fh=0|u,this.Fl=0|h,this.Gh=0|l,this.Gl=0|p,this.Hh=0|_,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)Vn[r]=e.getUint32(t),Xn[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Vn[e-15],r=0|Xn[e-15],s=Vr.rotrSH(t,r,1)^Vr.rotrSH(t,r,8)^Vr.shrSH(t,r,7),i=Vr.rotrSL(t,r,1)^Vr.rotrSL(t,r,8)^Vr.shrSL(t,r,7),n=0|Vn[e-2],a=0|Xn[e-2],o=Vr.rotrSH(n,a,19)^Vr.rotrBH(n,a,61)^Vr.shrSH(n,a,6),c=Vr.rotrSL(n,a,19)^Vr.rotrBL(n,a,61)^Vr.shrSL(n,a,6),d=Vr.add4L(i,c,Xn[e-7],Xn[e-16]),u=Vr.add4H(d,s,o,Vn[e-7],Vn[e-16]);Vn[e]=0|u,Xn[e]=0|d}let{Ah:r,Al:s,Bh:i,Bl:n,Ch:a,Cl:o,Dh:c,Dl:d,Eh:u,El:h,Fh:l,Fl:p,Gh:_,Gl:m,Hh:b,Hl:g}=this;for(let e=0;e<80;e++){const t=Vr.rotrSH(u,h,14)^Vr.rotrSH(u,h,18)^Vr.rotrBH(u,h,41),y=Vr.rotrSL(u,h,14)^Vr.rotrSL(u,h,18)^Vr.rotrBL(u,h,41),f=u&l^~u&_,T=h&p^~h&m,E=Vr.add5L(g,y,T,Rn[e],Xn[e]),v=Vr.add5H(E,b,t,f,Nn[e],Vn[e]),x=0|E,O=Vr.rotrSH(r,s,28)^Vr.rotrBH(r,s,34)^Vr.rotrBH(r,s,39),w=Vr.rotrSL(r,s,28)^Vr.rotrBL(r,s,34)^Vr.rotrBL(r,s,39),B=r&i^r&a^i&a,I=s&n^s&o^n&o;b=0|_,g=0|m,_=0|l,m=0|p,l=0|u,p=0|h,({h:u,l:h}=Vr.add(0|c,0|d,0|v,0|x)),c=0|a,d=0|o,a=0|i,o=0|n,i=0|r,n=0|s;const C=Vr.add3L(x,w,I);r=Vr.add3H(C,v,O,B),s=0|C}({h:r,l:s}=Vr.add(0|this.Ah,0|this.Al,0|r,0|s)),({h:i,l:n}=Vr.add(0|this.Bh,0|this.Bl,0|i,0|n)),({h:a,l:o}=Vr.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l:d}=Vr.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:u,l:h}=Vr.add(0|this.Eh,0|this.El,0|u,0|h)),({h:l,l:p}=Vr.add(0|this.Fh,0|this.Fl,0|l,0|p)),({h:_,l:m}=Vr.add(0|this.Gh,0|this.Gl,0|_,0|m)),({h:b,l:g}=Vr.add(0|this.Hh,0|this.Hl,0|b,0|g)),this.set(r,s,i,n,a,o,c,d,u,h,l,p,_,m,b,g)}roundClean(){Vn.fill(0),Xn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Fn=Ar((()=>new Jn));function Ln(e){if("string"!=typeof e)throw new TypeError("invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function Mn(e,t=""){return function(e,t,r){const{c:s,dkLen:i,DK:n,PRF:a,PRFSalt:o}=function(e,t,r,s){yr(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign({dkLen:32,asyncTick:10},t)}(0,s),{c:n,dkLen:a,asyncTick:o}=i;if(br(n),br(a),br(o),n<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Pr(t),d=Pr(r),u=new Uint8Array(a),h=Yn.create(e,c),l=h._cloneInto().update(d);return{c:n,dkLen:a,asyncTick:o,DK:u,PRF:h,PRFSalt:l}}(e,t,r,{c:2048,dkLen:64});let c;const d=new Uint8Array(4),u=vr(d),h=new Uint8Array(a.outputLen);for(let e=1,t=0;t<i;e++,t+=a.outputLen){const r=n.subarray(t,t+a.outputLen);u.setInt32(0,e,!1),(c=o._cloneInto(c)).update(d).digestInto(h),r.set(h.subarray(0,r.length));for(let e=1;e<s;e++){a._cloneInto(c).update(h).digestInto(h);for(let e=0;e<r.length;e++)r[e]^=h[e]}}return function(e,t,r,s,i){return e.destroy(),t.destroy(),s&&s.destroy(),i.fill(0),r}(a,o,n,c,h)}(Fn,function(e){const t=Ln(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}(e).nfkd,(e=>Ln("mnemonic"+e))(t))}function Gn(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}const $n=new RegExp("^m(\\/[0-9]+')+$"),zn=e=>e.replace("'",""),Wn=(e,t,r=2147483648)=>{if(!(e=>!!$n.test(e)&&!e.split("/").slice(1).map(zn).some(isNaN))(e))throw new Error("Invalid derivation path");const{key:s,chainCode:i}=(e=>{const t=Yn.create(Fn,"ed25519 seed").update(c(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}})(t);return e.split("/").slice(1).map(zn).map((e=>parseInt(e,10))).reduce(((e,t)=>(({key:e,chainCode:t},r)=>{const s=new ArrayBuffer(4);new DataView(s).setUint32(0,r);const i=new Uint8Array(1+e.length+s.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(e,1),i.set(new Uint8Array(s,0,s.byteLength),e.length+1);const n=Yn.create(Fn,t).update(i).digest();return{key:n.slice(0,32),chainCode:n.slice(32)}})(e,t+r)),{key:s,chainCode:i})};class qn extends ai{constructor(t){if(super(),"string"==typeof t?this.data=e(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),32!==this.data.length)throw new Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return ri.ED25519}async verify(t,r){let s;if("string"==typeof r){const t=function(t){const r=e(t),s=ii[r[0]];switch(s){case"MultiSig":return{serializedSignature:t,signatureScheme:s,multisig:nr.MultiSig.parse(r.slice(1)),bytes:r};case"ZkLogin":return In(t);case"ED25519":case"Secp256k1":case"Secp256r1":const e=si[s],i=r.slice(1,r.length-e);return{serializedSignature:t,signatureScheme:s,signature:i,publicKey:r.slice(1+i.length),bytes:r};default:throw new Error("Unsupported signature scheme")}}(r);if("ED25519"!==t.signatureScheme)throw new Error("Invalid signature scheme");if(!ni(this.toRawBytes(),t.publicKey))throw new Error("Signature does not match public key");s=t.signature}else s=r;return Zs.sign.detached.verify(t,s,this.toRawBytes())}}qn.SIZE=32;const Hn="m/44'/784'/0'/0'/0'";class Kn extends An{constructor(e){super(),this.keypair=e||Zs.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Kn(Zs.sign.keyPair())}static fromSecretKey(e,t){const r=e.length;if(r!==Cn)throw new Error(`Wrong secretKey size. Expected ${Cn} bytes, got ${r}.`);const s=Zs.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("sui validation"),t=Zs.sign.detached(e,s.secretKey);if(!Zs.sign.detached.verify(e,t,s.publicKey))throw new Error("provided secretKey is invalid")}return new Kn(s)}getPublicKey(){return new qn(this.keypair.publicKey)}getSecretKey(){return kn(this.keypair.secretKey.slice(0,Cn),this.getKeyScheme())}async sign(e){return Zs.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=Hn),!Gn(t))throw new Error("Invalid derivation path");const{key:r}=Wn(t,function(e){return d(function(e){return Mn(e,"")}(e))}(e));return Kn.fromSecretKey(r)}static deriveKeypairFromSeed(e,t){if(null==t&&(t=Hn),!Gn(t))throw new Error("Invalid derivation path");const{key:r}=Wn(t,e);return Kn.fromSecretKey(r)}}function Qn(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}}`,s=r.match(/.{2}/g)?.map((e=>parseInt(e,16)))??[];return Uint8Array.from(s)}function Zn(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}var ea=r(763);const ta=e=>ea.encode(e),ra=e=>ea.decode(e);function sa(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}const ia=8192;function na(e){if(e.length<ia)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=ia){const s=e.slice(r,r+ia);t+=String.fromCharCode(...s)}return btoa(t)}class aa{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:s}=function(e){let t=0,r=0,s=0;for(;;){let i=e[s];if(s+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:s}}(t);return this.shift(s),r}readVec(e){let t=this.readULEB(),r=[];for(let s=0;s<t;s++)r.push(e(this,s,t));return r}}class oa{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return ca(BigInt(e),8).forEach((e=>this.write8(e))),this}write128(e){return ca(BigInt(e),16).forEach((e=>this.write8(e))),this}write256(e){return ca(BigInt(e),32).forEach((e=>this.write8(e))),this}writeULEB(e){return function(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}(e).forEach((e=>this.write8(e))),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach(((r,s)=>t(this,r,s,e.length))),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return ta(e);case"base64":return na(e);case"hex":return Zn(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function ca(e,t){let r=new Uint8Array(t),s=0;for(;e>0;)r[s]=Number(e%BigInt(256)),e/=BigInt(256),s+=1;return r}var da,ua,ha,la,pa=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},_a=(e,t,r)=>(pa(e,t,"read from private field"),r?r.call(e):t.get(e)),ma=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ba=(e,t,r,s)=>(pa(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);const ga=class{constructor(e){ma(this,da,void 0),ma(this,ua,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),ba(this,da,e.write),ba(this,ua,e.serialize??((e,t)=>{const r=new oa({size:this.serializedSize(e)??void 0,...t});return _a(this,da).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),_a(this,da).call(this,e,t)}serialize(e,t){return this.validate(e),new Ta(this,_a(this,ua).call(this,e,t))}parse(e){const t=new aa(e);return this.read(t)}transform({name:e,input:t,output:r}){return new ga({name:e??this.name,read:e=>r(this.read(e)),write:(e,r)=>_a(this,da).call(this,t(e),r),serializedSize:e=>this.serializedSize(t(e)),serialize:(e,r)=>_a(this,ua).call(this,t(e),r),validate:e=>this.validate(t(e))})}};let ya=ga;da=new WeakMap,ua=new WeakMap;const fa=Symbol.for("@mysten/serialized-bcs");class Ta{constructor(e,t){ma(this,ha,void 0),ma(this,la,void 0),ba(this,ha,e),ba(this,la,t)}get[fa](){return!0}toBytes(){return _a(this,la)}toHex(){return Zn(_a(this,la))}toBase64(){return na(_a(this,la))}toBase58(){return ta(_a(this,la))}parse(){return _a(this,ha).parse(_a(this,la))}}ha=new WeakMap,la=new WeakMap;const Ea=32,va=class{constructor(e){if(this.types=new Map,this.counter=0,e instanceof va)return this.schema=e.schema,void(this.types=new Map(e.types));if(this.schema=e,this.registerAddressType(va.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);var t;!1!==e.withPrimitives&&((t=this).registerType(xa.U8,(function(e,t){return e.write8(t)}),(function(e){return e.read8()}),(e=>e<256)),t.registerType(xa.U16,(function(e,t){return e.write16(t)}),(function(e){return e.read16()}),(e=>e<65536)),t.registerType(xa.U32,(function(e,t){return e.write32(t)}),(function(e){return e.read32()}),(e=>e<=4294967296n)),t.registerType(xa.U64,(function(e,t){return e.write64(t)}),(function(e){return e.read64()})),t.registerType(xa.U128,(function(e,t){return e.write128(t)}),(function(e){return e.read128()})),t.registerType(xa.U256,(function(e,t){return e.write256(t)}),(function(e){return e.read256()})),t.registerType(xa.BOOL,(function(e,t){return e.write8(t)}),(function(e){return"1"===e.read8().toString(10)})),t.registerType(xa.STRING,(function(e,t){return e.writeVec(Array.from(t),((e,t)=>e.write8(t.charCodeAt(0))))}),(function(e){return e.readVec((e=>e.read8())).map((e=>String.fromCharCode(Number(e)))).join("")}),(e=>!0)),t.registerType(xa.HEX,(function(e,t){return e.writeVec(Array.from(Qn(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return Zn(new Uint8Array(t))})),t.registerType(xa.BASE58,(function(e,t){return e.writeVec(Array.from(ra(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return ta(new Uint8Array(t))})),t.registerType(xa.BASE64,(function(e,t){return e.writeVec(Array.from(sa(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return na(new Uint8Array(t))})))}tempKey(){return"bcs-struct-"+ ++this.counter}ser(e,t,r){if("string"==typeof e||Array.isArray(e)){const{name:s,params:i}=this.parseTypeName(e);return this.getTypeInterface(s).encode(this,t,r,i)}if("object"==typeof e){const s=this.tempKey();return new va(this).registerStructType(s,e).ser(s,t,r)}throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(e)}`)}de(e,t,r){if("string"==typeof t){if(!r)throw new Error("To pass a string to `bcs.de`, specify encoding");t=function(e,t){switch(t){case"base58":return ra(e);case"base64":return sa(e);case"hex":return Qn(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(t,r)}if("string"==typeof e||Array.isArray(e)){const{name:r,params:s}=this.parseTypeName(e);return this.getTypeInterface(r).decode(this,t,s)}if("object"==typeof e){const s=new va(this),i=this.tempKey();return s.registerStructType(i,e).de(i,t,r)}throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,s=()=>!0){const{name:i,params:n}=this.parseTypeName(e);return this.types.set(i,{encode(e,t,r,s){const i=n.reduce(((e,t,r)=>Object.assign(e,{[t]:s[r]})),{});return this._encodeRaw.call(e,new oa(r),t,s,i)},decode(e,t,r){const s=n.reduce(((e,t,s)=>Object.assign(e,{[t]:r[s]})),{});return this._decodeRaw.call(e,new aa(t),r,s)},_encodeRaw(e,r,n,a){if(s(r))return t.call(this,e,r,n,a);throw new Error(`Validation failed for type ${i}, data: ${r}`)},_decodeRaw(e,t,s){return r.call(this,e,t,s)}}),this}registerBcsType(e,t){return this.registerType(e,((e,r,s)=>{const i=s.map((e=>new ya({name:String(e),write:(t,r)=>{const{name:i,params:n}=this.parseTypeName(e),a=this.getTypeInterface(i),o=n.reduce(((e,t,r)=>Object.assign(e,{[t]:s[r]})),{});return a._encodeRaw.call(this,r,t,n,o)},read:()=>{throw new Error("Not implemented")}})));return t(...i).write(r,e),e}),((e,r)=>{const s=r.map((e=>new ya({name:String(e),write:(e,t)=>{throw new Error("Not implemented")},read:t=>{const{name:s,params:i}=this.parseTypeName(e),n=this.getTypeInterface(s),a=i.reduce(((e,t,s)=>Object.assign(e,{[t]:r[s]})),{});return n._decodeRaw.call(this,t,i,a)}})));return t(...s).read(e)})),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,(function(e,t){return sa(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return na(e.readBytes(t))}));case"hex":return this.registerType(e,(function(e,t){return Qn(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return Zn(e.readBytes(t))}));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,(function(t,r,s,i){return t.writeVec(r,((t,r)=>{let n=s[0];if(!n)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:a,params:o}=this.parseTypeName(n);if(this.hasType(a))return this.getTypeInterface(a)._encodeRaw.call(this,t,r,o,i);if(!(a in i))throw new Error(`Unable to find a matching type definition for ${a} in vector; make sure you passed a generic`);let{name:c,params:d}=this.parseTypeName(i[a]);return this.getTypeInterface(c)._encodeRaw.call(this,t,r,d,i)}))}),(function(t,r,s){return t.readVec((t=>{let i=r[0];if(!i)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:n,params:a}=this.parseTypeName(i);if(this.hasType(n))return this.getTypeInterface(n)._decodeRaw.call(this,t,a,s);if(!(n in s))throw new Error(`Unable to find a matching type definition for ${n} in vector; make sure you passed a generic`);let{name:o,params:c}=this.parseTypeName(s[n]);return this.getTypeInterface(o)._decodeRaw.call(this,t,c,s)}))}))}registerStructType(e,t){for(let e in t){let r=this.tempKey(),s=t[e];Array.isArray(s)||"string"==typeof s||(t[e]=r,this.registerStructType(r,s))}let r=Object.freeze(t),s=Object.keys(r),{name:i,params:n}=this.parseTypeName(e);return this.registerType(e,(function(e,t,a,o){if(!t||t.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${t}`);if(a.length!==n.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${n.length}, got: ${a.length}`);for(let c of s){if(!(c in t))throw new Error(`Struct ${i} requires field ${c}:${r[c]}`);const{name:s,params:d}=this.parseTypeName(r[c]);if(n.includes(s)){const r=n.indexOf(s);let{name:d,params:u}=this.parseTypeName(a[r]);if(this.hasType(d)){this.getTypeInterface(d)._encodeRaw.call(this,e,t[c],u,o);continue}if(!(d in o))throw new Error(`Unable to find a matching type definition for ${d} in ${i}; make sure you passed a generic`);let{name:h,params:l}=this.parseTypeName(o[d]);this.getTypeInterface(h)._encodeRaw.call(this,e,t[c],l,o)}else this.getTypeInterface(s)._encodeRaw.call(this,e,t[c],d,o)}return e}),(function(e,t,a){if(t.length!==n.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${n.length}, got: ${t.length}`);let o={};for(let c of s){const{name:s,params:d}=this.parseTypeName(r[c]);if(n.includes(s)){const r=n.indexOf(s);let{name:d,params:u}=this.parseTypeName(t[r]);if(this.hasType(d)){o[c]=this.getTypeInterface(d)._decodeRaw.call(this,e,u,a);continue}if(!(d in a))throw new Error(`Unable to find a matching type definition for ${d} in ${i}; make sure you passed a generic`);let{name:h,params:l}=this.parseTypeName(a[d]);o[c]=this.getTypeInterface(h)._decodeRaw.call(this,e,l,a)}else o[c]=this.getTypeInterface(s)._decodeRaw.call(this,e,d,a)}return o}))}registerEnumType(e,t){for(let e in t){let r=this.tempKey(),s=t[e];null===s||Array.isArray(s)||"string"==typeof s||(t[e]=r,this.registerStructType(r,s))}let r=Object.freeze(t),s=Object.keys(r),{name:i,params:n}=this.parseTypeName(e);return this.registerType(e,(function(e,t,a,o){if(!t)throw new Error(`Unable to write enum "${i}", missing data.\nReceived: "${t}"`);if("object"!=typeof t)throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${s.join(" | ")}".\nReceived: "${JSON.stringify(t)}"`);let c=Object.keys(t)[0];if(void 0===c)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let d=s.indexOf(c);if(-1===d)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${s.join(" | ")}"; received "${c}"`);let u=s[d],h=r[u];if(e.write8(d),null===h)return e;let l=n.indexOf(h),p=-1===l?h:a[l];{let{name:r,params:s}=this.parseTypeName(p);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[c],s,o)}}),(function(e,t,a){let o=e.readULEB(),c=s[o],d=r[c];if(-1===o)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${o}"`);if(null===d)return{[c]:!0};let u=n.indexOf(d),h=-1===u?d:t[u];{let{name:t,params:r}=this.parseTypeName(h);return{[c]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,a)}}}))}getTypeInterface(e){let t=this.types.get(e);if("string"==typeof t){let e=[];for(;"string"==typeof t;){if(e.includes(t))throw new Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!=typeof e)throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],s=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(-1===s&&-1===i)return{name:e,params:[]};if(-1===s||-1===i)throw new Error(`Unclosed generic in name '${e}'`);let n=e.slice(0,s),a=function(e,t=["<",">"]){const[r,s]=t,i=[];let n="",a=0;for(let t=0;t<e.length;t++){const o=e[t];o===r&&a++,o===s&&a--,0!==a||","!==o?n+=o:(i.push(n.trim()),n="")}return i.push(n.trim()),i}(e.slice(s+1,e.length-i-1),this.schema.genericSeparators);return{name:n,params:a}}};let xa=va;function Oa(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:Ea,addressEncoding:"hex"}}var wa;xa.U8="u8",xa.U16="u16",xa.U32="u32",xa.U64="u64",xa.U128="u128",xa.U256="u256",xa.BOOL="bool",xa.VECTOR="vector",xa.ADDRESS="address",xa.STRING="string",xa.HEX="hex-string",xa.BASE58="base58-string",xa.BASE64="base64-string",function(e){e.IsValidDesription="invalid description",e.IsValidName="invalid name",e.IsValidName_AllowEmpty="invalid name",e.IsValidEndpoint="invalid endpoint",e.IsValidAddress="invalid address",e.IsValidArgType="invalid argument type",e.IsValidTokenType="invalid token type",e.IsValidUint="invalid uint",e.IsValidInt="invalid int",e.IsValidU64="invalid u64",e.IsValidU8="invalid u8",e.IsValidPercent="invalid percent",e.IsValidArray="invalid array",e.IsValidObjects="invalid objects",e.AllInvalid="one valid at least",e.InvalidParam="invalid parameter",e.IsValidPermissionIndex="invalid permission index",e.IsValidKey="invalid key",e.Fail="fail",e.IsValidIndentifier="indentifier invalid",e.isValidHttpUrl="invalid url",e.IsValidBizPermissionIndex="invalid biz-permission index",e.bcsTypeInvalid="invalid bcs type",e.IsValidServiceItemName="invalid service item name",e.IsValidCoinType="not the coin type",e.IsValidGuardIdentifier="guard identifier invalid",e.noPermission="no permission"}(wa||(wa={}));const Ba=(e,t)=>{throw e.toString()+(t?" "+t:"")},Ia=BigInt("255"),Ca=BigInt("18446744073709551615"),Pa=BigInt("340282366920938463463374607431768211455"),Sa=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),Aa=0,ja=e=>e===Ao.TYPE_U8||e===Ao.TYPE_U64||e===Ao.TYPE_U128||e===Ao.TYPE_U256?jo.PositiveNumber:e===Ao.TYPE_VEC_U8||e===Ao.TYPE_VEC_U64||e===Ao.TYPE_VEC_U128||e===Ao.TYPE_VEC_U256||e===Ao.TYPE_VEC_BOOL?jo.PositiveNumber_Vec:e===Ao.TYPE_ADDRESS?jo.Address:e===Ao.TYPE_VEC_ADDRESS?jo.Address_Vec:e===Ao.TYPE_STRING?jo.String:e===Ao.TYPE_VEC_STRING?jo.String_Vec:e===Ao.TYPE_BOOL?jo.Bool:-1,ka=(e,t)=>{let r=e.splice(0,1);return 1==r[0]?{bNone:!1,value:za.getInstance().de(t,Uint8Array.from(e))}:(0==r[0]||Ba(wa.Fail,"readOption: option invalid"),{bNone:!0,value:Aa})},Ua=e=>{let t=e.splice(0,1);if(1==t[0]){let t=Ya(Uint8Array.from(e)),r=za.getInstance().de(Ao.TYPE_STRING,Uint8Array.from(e));return e.splice(0,t.value+t.length),{bNone:!1,value:r}}return 0==t[0]||Ba(wa.Fail,"readOption: option invalid"),{bNone:!0,value:Aa}},Ya=e=>{let t=0,r=0,s=0;for(;;){let i=e[s];if(s+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:s}},Da=(e,t)=>{let r=Ya(Uint8Array.from(e));e.splice(0,r.length);let s=[];for(let i=0;i<r.value;i++)s.push(t(e,i,r.value));return s},Na=(e,t,r)=>e.shift(),Ra=(e,t,r)=>e.splice(0,8),Va=(e,t,r)=>e.splice(0,16),Xa=(e,t,r)=>e.splice(0,32),Ja=(e,...t)=>{let r=0;for(const e of t)r+=e.length;const s=new e(r);let i=0;for(const e of t)s.set(e,i),i+=e.length;return s},Fa=(e,t="payment::Payment<")=>{if(e){const r=e.indexOf(t);if(r>0)return e.slice(r+t.length,e.length-1)}return""},La=(e,t)=>e.length===t.length&&!e.some((e=>!t.includes(e))),Ma=e=>{for(var t=[],r=0;r<e.length;r++)-1==t.indexOf(e[r])&&t.push(e[r]);return t};function Ga(e){return e&&e[0].toUpperCase()+e.slice(1)}function $a(e){var t=[];let r=e.indexOf("<");return r>=0&&(t=e.slice(r+1,e.length-1).split(",")),t}class za{bcs=new xa(Oa());static _instance;constructor(){this.bcs.registerEnumType("Option<T>",{none:null,some:"T"}),this.bcs.registerStructType("EntStruct",{avatar:"vector<u8>",resource:"Option<address>",safer_name:"vector<string>",safer_value:"vector<string>",like:xa.U32,dislike:xa.U32}),this.bcs.registerStructType("TagStruct",{nick:"string",tags:"vector<string>"}),this.bcs.registerStructType("PersonalInfo",{name:"vector<u8>",description:"vector<u8>",avatar:xa.STRING,twitter:xa.STRING,discord:xa.STRING,homepage:xa.STRING}),this.bcs.registerStructType("OptionAddress",{address:"Option<address>"}),this.bcs.registerStructType("Guards",{guards:"vector<OptionAddress>"}),this.bcs.registerStructType("Perm",{index:xa.U64,guard:"Option<address>"}),this.bcs.registerStructType("Perms",{perms:"vector<Perm>"})}static getInstance(){return za._instance||(za._instance=new za),za._instance}ser_option_u32(e){return this.bcs.ser("Option<u32>",{some:e}).toBytes()}ser(e,t){if("string"==typeof e)return this.bcs.ser(e,t).toBytes();switch(e){case Ao.TYPE_BOOL:return this.bcs.ser(xa.BOOL,t).toBytes();case Ao.TYPE_ADDRESS:return this.bcs.ser(xa.ADDRESS,t).toBytes();case Ao.TYPE_U64:return this.bcs.ser(xa.U64,t).toBytes();case Ao.TYPE_U8:return this.bcs.ser(xa.U8,t).toBytes();case Ao.TYPE_VEC_U8:return this.bcs.ser("vector<u8>",t).toBytes();case Ao.TYPE_U128:return this.bcs.ser(xa.U128,t).toBytes();case Ao.TYPE_VEC_ADDRESS:return this.bcs.ser("vector<address>",t).toBytes();case Ao.TYPE_VEC_BOOL:return this.bcs.ser("vector<bool>",t).toBytes();case Ao.TYPE_VEC_VEC_U8:return this.bcs.ser("vector<vector<u8>>",t).toBytes();case Ao.TYPE_VEC_U64:return this.bcs.ser("vector<u64>",t).toBytes();case Ao.TYPE_VEC_U128:return this.bcs.ser("vector<u128>",t).toBytes();case Ao.TYPE_OPTION_ADDRESS:return this.bcs.ser("Option<address>",{some:t}).toBytes();case Ao.TYPE_OPTION_BOOL:return this.bcs.ser("Option<bool>",{some:t}).toBytes();case Ao.TYPE_OPTION_U8:return this.bcs.ser("Option<u8>",{some:t}).toBytes();case Ao.TYPE_OPTION_U64:return this.bcs.ser("Option<u64>",{some:t}).toBytes();case Ao.TYPE_OPTION_U128:return this.bcs.ser("Option<u128>",{some:t}).toBytes();case Ao.TYPE_OPTION_U256:return this.bcs.ser("Option<u256>",{some:t}).toBytes();case Ao.TYPE_OPTION_STRING:return this.bcs.ser("Option<string>",{some:t}).toBytes();case Ao.TYPE_VEC_U256:return this.bcs.ser("vector<u256>",t).toBytes();case Ao.TYPE_U256:return this.bcs.ser(xa.U256,t).toBytes();case Ao.TYPE_STRING:const e=(new TextEncoder).encode(t);return this.bcs.ser("vector<u8>",e).toBytes();case Ao.TYPE_VEC_STRING:return this.bcs.ser("vector<vector<u8>>",t.map((e=>(new TextEncoder).encode(e)))).toBytes();default:Ba(wa.bcsTypeInvalid,"ser")}return new Uint8Array}de(e,t){if("string"==typeof e)return this.bcs.de(e,t);switch(e){case Ao.TYPE_BOOL:return this.bcs.de(xa.BOOL,t);case Ao.TYPE_ADDRESS:return this.bcs.de(xa.ADDRESS,t);case Ao.TYPE_U64:return this.bcs.de(xa.U64,t);case Ao.TYPE_U8:return this.bcs.de(xa.U8,t);case Ao.TYPE_VEC_U8:return this.bcs.de("vector<u8>",t);case Ao.TYPE_U128:return this.bcs.de(xa.U128,t);case Ao.TYPE_VEC_ADDRESS:return this.bcs.de("vector<address>",t);case Ao.TYPE_VEC_BOOL:return this.bcs.de("vector<bool>",t);case Ao.TYPE_VEC_VEC_U8:return this.bcs.de("vector<vector<u8>>",t);case Ao.TYPE_VEC_U64:return this.bcs.de("vector<u64>",t);case Ao.TYPE_VEC_U128:return this.bcs.de("vector<u128>",t);case Ao.TYPE_OPTION_ADDRESS:return this.bcs.de("Option<address>",t);case Ao.TYPE_OPTION_BOOL:return this.bcs.de("Option<bool>",t);case Ao.TYPE_OPTION_U8:return this.bcs.de("Option<u8>",t);case Ao.TYPE_OPTION_U64:return this.bcs.de("Option<u64>",t);case Ao.TYPE_OPTION_U128:return this.bcs.de("Option<u128>",t);case Ao.TYPE_OPTION_U256:return this.bcs.de("Option<u256>",t);case Ao.TYPE_OPTION_STRING:return this.bcs.de("Option<string>",t);case Ao.TYPE_VEC_U256:return this.bcs.de("vector<u256>",t);case Ao.TYPE_STRING:return(new TextDecoder).decode(Uint8Array.from(this.bcs.de("vector<u8>",t)));case Ao.TYPE_VEC_STRING:return this.bcs.de("vector<string>",t);case Ao.TYPE_U256:return this.bcs.de(xa.U256,t);default:Ba(wa.bcsTypeInvalid,"de")}}de_ent(e){if(!e||e.length<2)return"";const t=this.bcs.de("vector<u8>",e);return this.bcs.de("EntStruct",Uint8Array.from(t))}de_entInfo(e){if(!e||0===e.length)return;let t=this.bcs.de("PersonalInfo",e);return t.name=(new TextDecoder).decode(Uint8Array.from(t.name)),t.description=(new TextDecoder).decode(Uint8Array.from(t.description)),t}de_tags(e){if(!e||0===e.length)return"";const t=this.bcs.de("vector<u8>",e);return this.bcs.de("TagStruct",Uint8Array.from(t))}de_perms(e){return!e||e.length<1?"":this.bcs.de("Perms",e).perms.map((e=>({index:e?.index,guard:e?.guard?.none?void 0:"0x"+e?.guard?.some})))}}function Wa(e){const t=(new TextEncoder).encode(e);return new Uint8Array(t.buffer)}function qa(e){if(!e)return new Uint8Array(0);const t=[];for(t.unshift(255&e);e>=256;)e>>>=8,t.unshift(255&e);return new Uint8Array(t)}const Ha=e=>"[object Array]"==Object.prototype.toString.call(e),Ka=(e,t)=>{let r=t||{};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"==typeof e[t]&&null!==e[t]?(r[t]=Ha(e[t])?[]:{},Ka(e[t],r[t])):r[t]=e[t]);return r},Qa=1024,Za=64,eo=1024,to=e=>e.length<=Qa,ro=e=>!!e&&e.length<=Za&&0!=e.length,so=e=>e.length<=Za,io=e=>e.length>0&&e.length<=eo&&Oo(e),no=e=>!(!e||!ie(e)),ao=e=>!!e&&(e.startsWith("0x2::coin::Coin")||e.startsWith("0x0000000000000000000000000000000000000000000000000000000000000002")),oo=(e,t=Sa,r)=>{if(""===e||void 0===e)return!1;try{const s=BigInt(e);if(s<=t)return void 0===r||s>=r}catch(e){}return!1},co=(e,t=0)=>oo(e,Ia,BigInt(t)),uo=(e,t=0)=>oo(e,Ca,BigInt(t)),ho=(e,t=0)=>oo(e,Pa,BigInt(t)),lo=(e,t=0)=>oo(e,Sa,BigInt(t)),po=e=>{if(!e||0===e.length)return!1;let t=e.split("::");return 3===t.length&&!(!no(t[0])&&"0x2"!=t[0]||0===t[1].length||0===t[2].length)},_o=e=>!(!e||0===e.length)&&!(e.split("::").length<3),mo=e=>("string"==typeof e&&(e=parseInt(e)),Number.isSafeInteger(e)),bo=e=>oo(e,BigInt(100),BigInt(0)),go=(e,t)=>{for(let r=0;r<e.length;r++)if(!t(e[r]))return!1;return!0},yo=e=>e>Ca?Ca:e;function fo(e){const t=e.trim();if(-1!==t.indexOf(".")){let e=t.length-1;for(;"0"===t[e];)e--;return"."===t[e]&&e--,t.slice(0,e+1)}return t}const To=(e,t)=>{if(!e)return"";if("0"===e)return"0";if(t<=0)return e;var r=t-e.length;return fo(0===r?"."+e:r<0?e.slice(0,Math.abs(r))+"."+e.slice(Math.abs(r)):"."+e.padStart(t,"0"))},Eo=e=>{if(e){const t="0x2::coin::Coin<";let r=e.indexOf(t);if(r>=0){let s=e.slice(r+t.length,e.length-1);if(-1===s.indexOf("<")){for(;">"==s[s.length-1];)s=s.slice(0,-1);let e=s.lastIndexOf("::");return{isCoin:!0,coin:s,token:s.slice(e+2)}}}}return{isCoin:!1,coin:"",token:""}};function vo(e,t){const r=e.length+1,s=new Uint8Array(r);return s.set([t],0),s.set(e,1),s}function xo(e){let t="";var r;return Math.abs(e)<1?(r=parseInt(e.toString().split("e-")[1]))&&(e*=Math.pow(10,r-1),t="0."+new Array(r).join("0")+e.toString().substring(2)):(r=parseInt(e.toString().split("+")[1]))>20&&(r-=20,t=(e/=Math.pow(10,r))+new Array(r+1).join("0")),t}function Oo(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol||"ipfs:"===t.protocol}const wo=e=>{e.id&&(e?.onBegin&&e.onBegin(e.id),Lo.Client().getObject({id:e.id,options:{showContent:!0,showType:!0,showOwner:!0}}).then((t=>{t.error?e?.onObjectErr&&e.onObjectErr(e.id,t.error):e?.onObjectRes&&e.onObjectRes(e.id,t)})).catch((t=>{console.log(t),e?.onObjectErr&&e.onObjectErr(e.id,t)})),Lo.Client().getDynamicFields({parentId:e.id}).then((t=>{e?.onDynamicRes&&e.onDynamicRes(e.id,t),t.data.length>0&&Lo.Client().multiGetObjects({ids:t.data.map((e=>e.objectId)),options:{showContent:!0}}).then((t=>{e?.onFieldsRes&&e.onFieldsRes(e.id,t)})).catch((t=>{console.log(t),e?.onFieldsErr&&e.onFieldsErr(e.id,t)}))})).catch((t=>{console.log(t),e?.onDynamicErr&&e.onDynamicErr(e.id,t)})))},Bo=e=>e?e.substring(0,1).toUpperCase()+e.substring(1):"";function Io(e){return e.some(((t,r)=>e.findIndex((e=>e===t))!==r))}var Co,Po;!function(e){e.machine="machine",e.progress="progress",e.repository="repository",e.permission="permission",e.passport="passport",e.guard="guard",e.demand="demand",e.order="order",e.service="service",e.resource="resource",e.entity="entity",e.wowok="wowok",e.treasury="treasury",e.payment="payment",e.arbitration="arbitration",e.arb="arb"}(Co||(Co={})),function(e){e[e.TYPE_QUERY=1]="TYPE_QUERY",e[e.TYPE_NUMBER_ADD=2]="TYPE_NUMBER_ADD",e[e.TYPE_NUMBER_SUBTRACT=3]="TYPE_NUMBER_SUBTRACT",e[e.TYPE_NUMBER_MULTIPLY=4]="TYPE_NUMBER_MULTIPLY",e[e.TYPE_NUMBER_DEVIDE=5]="TYPE_NUMBER_DEVIDE",e[e.TYPE_NUMBER_MOD=6]="TYPE_NUMBER_MOD",e[e.TYPE_LOGIC_AS_U256_GREATER=11]="TYPE_LOGIC_AS_U256_GREATER",e[e.TYPE_LOGIC_AS_U256_GREATER_EQUAL=12]="TYPE_LOGIC_AS_U256_GREATER_EQUAL",e[e.TYPE_LOGIC_AS_U256_LESSER=13]="TYPE_LOGIC_AS_U256_LESSER",e[e.TYPE_LOGIC_AS_U256_LESSER_EQUAL=14]="TYPE_LOGIC_AS_U256_LESSER_EQUAL",e[e.TYPE_LOGIC_AS_U256_EQUAL=15]="TYPE_LOGIC_AS_U256_EQUAL",e[e.TYPE_LOGIC_EQUAL=16]="TYPE_LOGIC_EQUAL",e[e.TYPE_LOGIC_HAS_SUBSTRING=17]="TYPE_LOGIC_HAS_SUBSTRING",e[e.TYPE_LOGIC_NOT=18]="TYPE_LOGIC_NOT",e[e.TYPE_LOGIC_AND=19]="TYPE_LOGIC_AND",e[e.TYPE_LOGIC_OR=20]="TYPE_LOGIC_OR"}(Po||(Po={}));const So=[[Po.TYPE_LOGIC_AS_U256_GREATER,"Unsigned Integer >","The first item > anything that follows"],[Po.TYPE_LOGIC_AS_U256_GREATER_EQUAL,"Unsigned Integer >=","The first item >= anything that follows"],[Po.TYPE_LOGIC_AS_U256_LESSER,"Unsigned Integer <","The first item < anything that follows"],[Po.TYPE_LOGIC_AS_U256_LESSER_EQUAL,"Unsigned Integer <=","The first item <= anything that follows"],[Po.TYPE_LOGIC_AS_U256_EQUAL,"Unsigned Integer =","The first item = anything that follows"],[Po.TYPE_LOGIC_EQUAL,"Equal","Data and type are exactly equal for all items"],[Po.TYPE_LOGIC_HAS_SUBSTRING,"Has Sub String","The first item contains anything that follows"],[Po.TYPE_LOGIC_NOT,"Not","Not operation"],[Po.TYPE_LOGIC_AND,"And","All Items And operations"],[Po.TYPE_LOGIC_OR,"Or","All Items Or operations"]];var Ao,jo;!function(e){e[e.TYPE_BOOL=100]="TYPE_BOOL",e[e.TYPE_ADDRESS=101]="TYPE_ADDRESS",e[e.TYPE_U8=102]="TYPE_U8",e[e.TYPE_U64=103]="TYPE_U64",e[e.TYPE_VEC_U8=104]="TYPE_VEC_U8",e[e.TYPE_U128=105]="TYPE_U128",e[e.TYPE_VEC_ADDRESS=106]="TYPE_VEC_ADDRESS",e[e.TYPE_VEC_BOOL=107]="TYPE_VEC_BOOL",e[e.TYPE_VEC_VEC_U8=108]="TYPE_VEC_VEC_U8",e[e.TYPE_VEC_U64=109]="TYPE_VEC_U64",e[e.TYPE_VEC_U128=110]="TYPE_VEC_U128",e[e.TYPE_OPTION_ADDRESS=111]="TYPE_OPTION_ADDRESS",e[e.TYPE_OPTION_BOOL=112]="TYPE_OPTION_BOOL",e[e.TYPE_OPTION_U8=113]="TYPE_OPTION_U8",e[e.TYPE_OPTION_U64=114]="TYPE_OPTION_U64",e[e.TYPE_OPTION_U128=115]="TYPE_OPTION_U128",e[e.TYPE_OPTION_U256=116]="TYPE_OPTION_U256",e[e.TYPE_OPTION_STRING=117]="TYPE_OPTION_STRING",e[e.TYPE_OPTION_VEC_U8=118]="TYPE_OPTION_VEC_U8",e[e.TYPE_VEC_U256=119]="TYPE_VEC_U256",e[e.TYPE_STRING=120]="TYPE_STRING",e[e.TYPE_VEC_STRING=121]="TYPE_VEC_STRING",e[e.TYPE_U256=122]="TYPE_U256"}(Ao||(Ao={})),function(e){e[e.Address=200]="Address",e[e.Address_Vec=201]="Address_Vec",e[e.PositiveNumber=202]="PositiveNumber",e[e.PositiveNumber_Vec=203]="PositiveNumber_Vec",e[e.String=204]="String",e[e.String_Vec=205]="String_Vec",e[e.Bool=206]="Bool"}(jo||(jo={}));const ko=[{type:jo.String,name:"string",description:"String."},{type:jo.Address,name:"address",description:"Object id or Personal address."},{type:jo.PositiveNumber,name:"unsigned integer",description:"Including u8, u16 ,..., u256"},{type:jo.String_Vec,name:"string vector",description:"Vector of string."},{type:jo.Address_Vec,name:"address vector",description:"Vector of address."},{type:jo.PositiveNumber_Vec,name:"unsigned integer vector",description:"Vector of unsigned integer"},{type:jo.Bool,name:"bool",description:"True or False."}],Uo=Object.values(Po).filter((e=>"number"==typeof e)),Yo=Object.values(Ao).filter((e=>"number"==typeof e)),Do=e=>Uo.includes(e),No=e=>Yo.includes(e),Ro=e=>e===Ao.TYPE_U128||e===Ao.TYPE_U256||e===Ao.TYPE_U64||e===Ao.TYPE_U8;var Vo;!function(e){e[e.TYPE_SIGNER=60]="TYPE_SIGNER",e[e.TYPE_CLOCK=61]="TYPE_CLOCK",e[e.TYPE_GUARD=62]="TYPE_GUARD",e[e.TYPE_CONSTANT=80]="TYPE_CONSTANT"}(Vo||(Vo={}));const Xo=[{type:Ao.TYPE_BOOL,name:"bool",description:"boolean. eg:true or false",validator:e=>!0===e||!1===e},{type:Ao.TYPE_ADDRESS,name:"address",description:"address or object-id. eg:0x6789af",validator:no},{type:Vo.TYPE_SIGNER,name:"txn signer",description:"signer address of the transaction"},{type:Vo.TYPE_GUARD,name:"guard address",description:"current guard address"},{type:Vo.TYPE_CLOCK,name:"txn time",description:"unsigned-64 number for the transaction time"},{type:Ao.TYPE_U64,name:"number",description:"unsigned-64 number. eg:23870233",validator:uo},{type:Ao.TYPE_U8,name:"number",description:"unsigned-8 number. eg:255",validator:co},{type:Ao.TYPE_VEC_U8,name:"string",description:'string or unsigned-8 number array. eg:"[1,2,3]"'},{type:Ao.TYPE_U128,name:"number",description:"unsigned-8 number. eg:12348900999",validator:ho},{type:Ao.TYPE_VEC_ADDRESS,name:"[address]",description:"address array. eg:[0x2277f2, 0x3344af]"},{type:Ao.TYPE_VEC_BOOL,name:"[bool]",description:"boolean array. eg:[true, false, true]"},{type:Ao.TYPE_VEC_VEC_U8,name:"[[number]]",description:'array of unsigned-8 number array. eg:["i", "like", "wowok"]'},{type:Ao.TYPE_VEC_U64,name:"[number]",description:"unsigned-64 number array. eg:[123, 778888, 42312]"},{type:Ao.TYPE_VEC_U128,name:"[number]",description:"unsigned-128 number array. eg:[123, 778888, 42312]"},{type:Ao.TYPE_OPTION_ADDRESS,name:"option",description:"option of address. eg:none or address"},{type:Ao.TYPE_OPTION_BOOL,name:"option",description:"option of bool. eg:none or boolean value"},{type:Ao.TYPE_OPTION_U8,name:"option",description:"option of u8. eg:none or u8 value"},{type:Ao.TYPE_OPTION_U64,name:"option",description:"option of u64. eg:none or u64 value"},{type:Ao.TYPE_OPTION_U128,name:"option",description:"option of u128. eg:none or u128 value"},{type:Ao.TYPE_OPTION_U256,name:"option",description:"option of u256. eg:none or u256 value"},{type:Ao.TYPE_VEC_U256,name:"[number]",description:"unsigned-256 number array. eg:[123, 778888, 42312]"},{type:Ao.TYPE_VEC_STRING,name:"[string]",description:'ascii string array. eg:["abc", "hi"]'},{type:Ao.TYPE_STRING,name:"string",description:'eg:"wowok"'},{type:Ao.TYPE_OPTION_STRING,name:"option",description:"option of string. eg:none or string value"},{type:Ao.TYPE_U256,name:"number",description:"unsigned-256 number. eg:12345678901233",validator:lo}];var Jo;!function(e){e.mainnet="mainnet",e.testnet="testnet",e.devnet="devnet",e.localnet="localnet"}(Jo||(Jo={}));const Fo="0xa475682a229bcf913b2d561370ed44a055d0091a4a02b25d780d48aed03df267";class Lo{network="";packages=new Map;signer="";wowok_object="";entity_object="";treasury_cap="";oracle_object="";txb;static _instance;constructor(e=Jo.testnet){this.use_network(e),this.new_session()}static Instance(){return Lo._instance||(Lo._instance=new Lo),Lo._instance}static Client(){return new Qs({url:Lo.Instance().networkUrl()})}client(){return new Qs({url:this.networkUrl()})}use_network(e=Jo.testnet){switch(this.network=e,e){case Jo.localnet:case Jo.devnet:break;case Jo.testnet:this.packages.set("wowok","0xe98ef6b139de57b59d71496dc2b48d4e36e195013194748bdfe90688a9821132"),this.packages.set("base",Fo),this.packages.set("wowok_origin","0xe98ef6b139de57b59d71496dc2b48d4e36e195013194748bdfe90688a9821132"),this.packages.set("base_origin","0xa475682a229bcf913b2d561370ed44a055d0091a4a02b25d780d48aed03df267"),this.wowok_object="0xf2d3dc8667e21ca03fd808e51f7f9f291bad861bab1f62b4f07f39834830a5d9",this.entity_object="0x40eb7a354875548a55a196c0f1cbbf217026fee9d86f94615b992878a6629e03",this.treasury_cap="0x405105d71add6c57c1de0dbceb2676320ddb5bbe4c3cfdf79c7b23783e9e3761",this.oracle_object="0x4592d870a3c79c37d49fe55d1eba3ed2e82bcf707822d698beeceacce0dabdc6";break;case Jo.mainnet:this.packages.set("wowok",""),this.packages.set("base",""),this.packages.set("wowok_origin",""),this.packages.set("base_origin",""),this.wowok_object="",this.entity_object="",this.treasury_cap="",this.oracle_object=""}}package(e){return this.packages.get(e)??""}objectWowok(){return this.wowok_object}objectEntity(){return this.entity_object}objectOracle(){return this.oracle_object}objectTreasuryCap(){return this.treasury_cap}networkUrl(){switch(this.network){case Jo.localnet:return"http://127.0.0.1:9000";case Jo.devnet:return"https://fullnode.devnet.sui.io:443";case Jo.testnet:return"https://fullnode.testnet.sui.io:443";case Jo.mainnet:return"https://fullnode.mainnet.sui.io:443"}return""}machineFn=e=>`${this.packages.get("wowok")}::${Co.machine}::${e}`;progressFn=e=>`${this.packages.get("wowok")}::${Co.progress}::${e}`;repositoryFn=e=>`${this.packages.get("wowok")}::${Co.repository}::${e}`;permissionFn=e=>`${this.packages.get("wowok")}::${Co.permission}::${e}`;passportFn=e=>`${this.packages.get("wowok")}::${Co.passport}::${e}`;demandFn=e=>`${this.packages.get("wowok")}::${Co.demand}::${e}`;orderFn=e=>`${this.packages.get("wowok")}::${Co.order}::${e}`;serviceFn=e=>`${this.packages.get("wowok")}::${Co.service}::${e}`;resourceFn=e=>`${this.packages.get("wowok")}::${Co.resource}::${e}`;entityFn=e=>`${this.packages.get("wowok")}::${Co.entity}::${e}`;wowokFn=e=>`${this.packages.get("wowok")}::${Co.wowok}::${e}`;treasuryFn=e=>`${this.packages.get("wowok")}::${Co.treasury}::${e}`;paymentFn=e=>`${this.packages.get("wowok")}::${Co.payment}::${e}`;guardFn=e=>`${this.packages.get("base")}::${Co.guard}::${e}`;baseWowokFn=e=>`${this.packages.get("base")}::${Co.wowok}::${e}`;arbitrationFn=e=>`${this.packages.get("wowok")}::${Co.arbitration}::${e}`;arbFn=e=>`${this.packages.get("wowok")}::${Co.arb}::${e}`;query=async(e,t={showContent:!0})=>{const r=new Qs({url:this.networkUrl()}),s=e.map((e=>e.objectid)),i=await r.call("sui_multiGetObjects",[s,t]);for(let r=0;r<i.length;r++)e.forEach((e=>{e.callback(this,i[r],e,t)}));return i};query_raw=async(e,t={showContent:!0})=>{const r=new Qs({url:this.networkUrl()});return await r.call("sui_multiGetObjects",[e,t])};new_session=()=>(this.txb=new ms,this.txb);sessionCurrent=()=>this.txb?this.txb:this.new_session();sign_excute=async(e,t,r,s={showObjectChanges:!0})=>{const i=new Qs({url:this.networkUrl()});e.forEach((e=>{e(this,r)}));const n=Qn(t),a=Kn.fromSecretKey(n),o=await i.signAndExecuteTransaction({transaction:this.sessionCurrent(),signer:a,options:s});return this.txb=void 0,o};static SUI_TOKEN_TYPE="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI";static SUI_COIN_TYPE="0x0000000000000000000000000000000000000000000000000000000000000002::coin::Coin<0x2::sui::SUI>";WOWOK_TOKEN_TYPE=()=>this.packages.get("base")+"::wowok::WOWOK";WOWOK_COIN_TYPE=()=>"0x2::coin::Coin<"+this.packages.get("base")+"::wowok::WOWOK>";COINS_TYPE=()=>{switch(this.network){case Jo.testnet:return this.CoinTypes_Testnet.filter((e=>!0!==e.alias));case Jo.mainnet:return this.CoinTypes_Mainnet.filter((e=>!0!==e.alias))}return[]};update_coinType=(e,t,r)=>{if(r&&e)switch(this.network){case Jo.testnet:(s=this.CoinTypes_Testnet.filter((t=>t?.type!==e))).push({symbol:r,type:e,decimals:t}),this.CoinTypes_Testnet=s;break;case Jo.mainnet:var s;(s=this.CoinTypes_Mainnet.filter((t=>t?.type!==e))).push({symbol:r,type:e,decimals:t}),this.CoinTypes_Mainnet=s}};explorerUrl=(e,t="object")=>this.network===Jo.testnet?"https://testnet.suivision.xyz/"+t+"/"+e:this.network===Jo.mainnet?"https://suivision.xyz/"+t+"/"+e:"";CoinTypes_Testnet=[{symbol:"SUI",type:"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",decimals:9,alias:!0},{symbol:"SUI",type:"0x2::sui::SUI",decimals:9},{symbol:"WOW",type:Fo+"::wowok::WOWOK",decimals:9}];CoinTypes_Mainnet=[{symbol:"SUI",type:"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",decimals:9,alias:!0},{symbol:"SUI",type:"0x2::sui::SUI",decimals:9},{symbol:"WOW",type:Fo+"::wowok::WOWOK",decimals:9},{symbol:"USDT",type:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN",decimals:6},{symbol:"USDC",type:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",decimals:6},{symbol:"WETH",type:"0xaf8cd5edc19c4512f4259f0bee101a40d41ebed738ade5874359610ef8eeced5::coin::COIN",decimals:8},{symbol:"WBNB",type:"0xb848cce11ef3a8f62eccea6eb5b35a12c4c2b1ee1af7755d02d7bd6218e8226f::coin::COIN",decimals:8}];coinTypeInfo=(e,t)=>{if(!e)return"loading";return this.COINS_TYPE().find((t=>t?.type===e))||(Lo.Client().getCoinMetadata({coinType:e}).then((r=>{r?.decimals&&r?.symbol&&(this.update_coinType(e,r?.decimals,r?.symbol),t({symbol:r.symbol,decimals:r.decimals,type:e}))})).catch((e=>{console.log(e)})),"loading")};static CLOCK_OBJECT={objectId:"0x6",mutable:!1,initialSharedVersion:1};static TXB_OBJECT(e,t){return"string"==typeof t?e.object(t):t}static IsValidObjects=e=>go(e,(e=>!(!e||"string"==typeof e&&!ne(e))));WOWOK_OBJECTS_TYPE=()=>Object.keys(Co).map((e=>(e===Co.guard?this.packages.get("base"):this.packages.get("wowok"))+"::"+e+"::"+Ga(e)));WOWOK_OBJECTS_PREFIX_TYPE=()=>Object.keys(Co).map((e=>(e===Co.guard?this.packages.get("base"):this.packages.get("wowok"))+"::"+e+"::"));hasPackage(e){for(let t of this.packages.values())if(e.includes(t))return!0;return!1}object_name_from_type_repr=e=>{if(!e)return"";let t=e.indexOf("::");if(t>0&&this.hasPackage(e.slice(0,t))){t=e.indexOf("<"),t>0&&(e=e.slice(0,t));let r=e.lastIndexOf("::");if(r>0)return e.slice(r+2)}return""};module_object_name_from_type_repr=e=>{if(!e)return"";let t=e.indexOf("::");if(t>0&&this.hasPackage(e.slice(0,t))){t=e.indexOf("<"),t>0&&(e=e.slice(0,t));let r=e.indexOf("::");if(r>0)return e.slice(r+2)}return""}}class Mo{static Object_Type_Extra=()=>{let e=Object.keys(Co).map((e=>e+"::"+Ga(e)));return e.push("order::Discount"),e};static objectids_from_response=(e,t,r)=>{let s=new Map;return t?.objectChanges&&t.objectChanges.forEach((t=>{Mo.Object_Type_Extra().forEach((r=>{"created"==t.type&&e.module_object_name_from_type_repr(t.objectType)===r&&(s.has(r)?s.get(r)?.push(t.objectId):s.set(r,[t.objectId]))}))})),r&&s.forEach(((e,t)=>{r.has(t)?r.set(t,r.get(t).concat(e)):r.set(t,e)})),s}}class Go{bounty_type;permission;object;txb;get_bounty_type(){return this.bounty_type}get_object(){return this.object}static From(e,t,r,s){let i=new Go(e,t,r);return i.object=Lo.TXB_OBJECT(e,s),i}constructor(e,t,r){this.bounty_type=t,this.permission=r,this.txb=e,this.object=""}static New(e,t,r,s,i,n,a){to(n)||Ba(wa.IsValidDesription),_o(t)||Ba(wa.IsValidArgType,t),uo(s)||Ba(wa.IsValidUint,"time");let o=new Go(e,t,i);const c=e.sharedObjectRef(Lo.CLOCK_OBJECT);return o.object=a?e.moveCall({target:Lo.Instance().demandFn("new_with_passport"),arguments:[a,e.pure.string(n),e.pure.bool(r),e.pure.u64(s),e.object(c),Lo.TXB_OBJECT(e,i)],typeArguments:[t]}):e.moveCall({target:Lo.Instance().demandFn("new"),arguments:[e.pure.string(n),e.pure.bool(r),e.pure.u64(s),e.object(c),Lo.TXB_OBJECT(e,i)],typeArguments:[t]}),o}launch(){return this.txb.moveCall({target:Lo.Instance().demandFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)],typeArguments:[this.bounty_type]})}refund(e){const t=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);e?this.txb.moveCall({target:Lo.Instance().demandFn("refund_with_passport"),arguments:[e,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("refund"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]})}expand_time(e,t,r){uo(t)||Ba(wa.IsValidUint,"time"),r?this.txb.moveCall({target:Lo.Instance().demandFn("time_expand_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),this.txb.pure.u64(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("time_expand"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),this.txb.pure.u64(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]})}set_guard(e,t,r){e&&!Lo.IsValidObjects([e])&&Ba(wa.IsValidObjects,"guard"),void 0===t||co(t)||Ba(wa.InvalidParam,"set_guard.service_identifier");let s=this.txb.pure.option("u8",void 0!==t?t:void 0);r?e?this.txb.moveCall({target:Lo.Instance().demandFn("guard_set_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),s,Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("guard_none_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):e?this.txb.moveCall({target:Lo.Instance().demandFn("guard_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),s,Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("guard_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]})}set_description(e,t){to(e)||Ba(wa.IsValidDesription),t?this.txb.moveCall({target:Lo.Instance().demandFn("description_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]})}yes(e,t){no(e)||Ba(wa.IsValidAddress),t?this.txb.moveCall({target:Lo.Instance().demandFn("yes_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("yes"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.bounty_type]})}deposit(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects),this.txb.moveCall({target:Lo.Instance().demandFn("deposit"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[this.bounty_type]})}present(e,t,r,s){to(r)||Ba(wa.IsValidDesription,"present.tips"),t&&!_o(t)&&Ba(wa.IsValidArgType,"service_pay_type"),"number"==typeof e?co(e)&&s||Ba(wa.IsValidU8,"present.service or present.passport"):Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"present.service"),s?"number"==typeof e?this.txb.moveCall({target:Lo.Instance().demandFn("present_with_passport2"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(r)],typeArguments:[this.bounty_type]}):this.txb.moveCall({target:Lo.Instance().demandFn("present_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.pure.string(r)],typeArguments:[this.bounty_type,t]}):"number"!=typeof e&&this.txb.moveCall({target:Lo.Instance().demandFn("present"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.pure.string(r)],typeArguments:[this.bounty_type,t]})}change_permission(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects),this.txb.moveCall({target:Lo.Instance().demandFn("permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[this.bounty_type]}),this.permission=e}static parseObjectType=e=>Fa(e,"demand::Demand<");static MAX_BOUNTY_COUNT=300;static MAX_PRESENTERS_COUNT=200}var $o;!function(e){e[e.repository=100]="repository",e[e.repository_description=101]="repository_description",e[e.repository_mode=102]="repository_mode",e[e.repository_policies=103]="repository_policies",e[e.repository_reference=104]="repository_reference",e[e.service=200]="service",e[e.service_description=201]="service_description",e[e.service_sales=202]="service_sales",e[e.service_payee=203]="service_payee",e[e.service_repository=204]="service_repository",e[e.service_withdraw_guards=205]="service_withdraw_guards",e[e.service_refund_guards=206]="service_refund_guards",e[e.service_discount_transfer=207]="service_discount_transfer",e[e.service_withdraw=208]="service_withdraw",e[e.service_buyer_guard=209]="service_buyer_guard",e[e.service_machine=210]="service_machine",e[e.service_endpoint=211]="service_endpoint",e[e.service_publish=212]="service_publish",e[e.service_clone=213]="service_clone",e[e.service_customer_required=214]="service_customer_required",e[e.service_pause=215]="service_pause",e[e.service_treasury=216]="service_treasury",e[e.service_arbitration=217]="service_arbitration",e[e.demand=260]="demand",e[e.demand_refund=261]="demand_refund",e[e.demand_expand_time=262]="demand_expand_time",e[e.demand_guard=263]="demand_guard",e[e.demand_description=264]="demand_description",e[e.demand_yes=265]="demand_yes",e[e.machine=600]="machine",e[e.machine_description=601]="machine_description",e[e.machine_repository=602]="machine_repository",e[e.machine_clone=604]="machine_clone",e[e.machine_node=606]="machine_node",e[e.machine_endpoint=608]="machine_endpoint",e[e.machine_pause=609]="machine_pause",e[e.machine_publish=610]="machine_publish",e[e.progress=650]="progress",e[e.progress_namedOperator=651]="progress_namedOperator",e[e.progress_bind_task=652]="progress_bind_task",e[e.progress_context_repository=653]="progress_context_repository",e[e.progress_unhold=654]="progress_unhold",e[e.progress_parent=655]="progress_parent",e[e.treasury=700]="treasury",e[e.treasury_receive=701]="treasury_receive",e[e.treasury_deposit=702]="treasury_deposit",e[e.treasury_withdraw=703]="treasury_withdraw",e[e.treasury_descritption=704]="treasury_descritption",e[e.treasury_deposit_guard=705]="treasury_deposit_guard",e[e.treasury_withdraw_mode=706]="treasury_withdraw_mode",e[e.treasury_withdraw_guard=707]="treasury_withdraw_guard",e[e.arbitration=800]="arbitration",e[e.arbitration_description=801]="arbitration_description",e[e.arbitration_fee=802]="arbitration_fee",e[e.arbitration_voting_guard=803]="arbitration_voting_guard",e[e.arbitration_endpoint=804]="arbitration_endpoint",e[e.arbitration_guard=805]="arbitration_guard",e[e.arbitration_pause=806]="arbitration_pause",e[e.arbitration_vote=807]="arbitration_vote",e[e.arbitration_arbitration=808]="arbitration_arbitration",e[e.arbitration_withdraw=809]="arbitration_withdraw",e[e.arbitration_treasury=810]="arbitration_treasury",e[e.user_defined_start=1e3]="user_defined_start"}($o||($o={}));const zo=[{index:$o.repository,name:"Repository",description:"Launch new Repository",module:Co.repository},{index:$o.repository_description,name:"Description",description:"Set Repository description",module:Co.repository},{index:$o.repository_mode,name:"Policy mode",description:"Set Repository mode",module:Co.repository},{index:$o.repository_policies,name:"Policy",description:"Set Repository policies",module:Co.repository},{index:$o.repository_reference,name:"Reference",description:"Set Repository reference",module:Co.repository},{index:$o.service,name:"Service",description:"Launch new Service",module:Co.service},{index:$o.service_description,name:"Description",description:"Set Service description",module:Co.service},{index:$o.service_sales,name:"Sales",description:"Set Service sales items",module:Co.service},{index:$o.service_payee,name:"Payee",description:"Set Service payee",module:Co.service},{index:$o.service_repository,name:"Repository",description:"Set Service repositories",module:Co.service},{index:$o.service_withdraw_guards,name:"Withdraw Guard",description:"Set Service withdraw guards",module:Co.service},{index:$o.service_refund_guards,name:"Refund Guard",description:"Set Service refund guards",module:Co.service},{index:$o.service_discount_transfer,name:"Discount",description:"Launch discounts for Service",module:Co.service},{index:$o.service_buyer_guard,name:"Buyer Guard",description:"Set Guard of buying for Service",module:Co.service},{index:$o.service_machine,name:"Machine",description:"Set Machine for Service",module:Co.service},{index:$o.service_endpoint,name:"Endpoint",description:"Set Service endpoint",module:Co.service},{index:$o.service_publish,name:"Publish",description:"Allowing the creation of Order",module:Co.service},{index:$o.service_clone,name:"Clone",description:"Clone Service",module:Co.service},{index:$o.service_customer_required,name:"Buyer info",description:"Set Service buyer info required",module:Co.service},{index:$o.service_pause,name:"Pause",description:"Pause/Unpause Service",module:Co.service},{index:$o.service_treasury,name:"Treasury",description:"Externally withdrawable treasury for compensation or rewards",module:Co.service},{index:$o.service_arbitration,name:"Arbitration",description:"Add/Remove arbitration that allows refunds from orders at any time based on arbitration results",module:Co.service},{index:$o.demand,name:"Demand",description:"Launch new Demand",module:Co.demand},{index:$o.demand_refund,name:"Refund",description:"Refund from Demand",module:Co.demand},{index:$o.demand_expand_time,name:"Expand deadline",description:"Expand Demand deadline",module:Co.demand},{index:$o.demand_guard,name:"Guard",description:"Set Demand guard",module:Co.demand},{index:$o.demand_description,name:"Description",description:"Set Demand description",module:Co.demand},{index:$o.demand_yes,name:"Yes",description:"Pick the Deamand serice",module:Co.demand},{index:$o.machine,name:"Machine",description:"Launch new Machine",module:Co.machine},{index:$o.machine_description,name:"Description",description:"Set Machine description",module:Co.machine},{index:$o.machine_repository,name:"Repository",description:"Set Machine repository",module:Co.machine},{index:$o.machine_clone,name:"Clone",description:"Clone Machine",module:Co.machine},{index:$o.machine_node,name:"Node",description:"Set Machine nodes",module:Co.machine},{index:$o.machine_endpoint,name:"Endpoint",description:"Set Machine endpoint",module:Co.machine},{index:$o.machine_pause,name:"Pause",description:"Pause/Unpause Machine",module:Co.machine},{index:$o.machine_publish,name:"Publish",description:"Allowing the creation of Progress",module:Co.machine},{index:$o.progress,name:"Progress",description:"Launch new Progress",module:Co.progress},{index:$o.progress_namedOperator,name:"Operator",description:"Set Progress operators",module:Co.progress},{index:$o.progress_bind_task,name:"Bind",description:"Set Progress task",module:Co.progress},{index:$o.progress_context_repository,name:"Repository",description:"Set Progress repository",module:Co.progress},{index:$o.progress_unhold,name:"Unhold",description:"Release Progress holdings",module:Co.progress},{index:$o.progress_parent,name:"Parent",description:"Set Progress parent",module:Co.progress},{index:$o.treasury,name:"Treasury",description:"Launch new Treasury",module:Co.treasury},{index:$o.treasury_deposit,name:"Deposit",description:"Deposit coins",module:Co.treasury},{index:$o.treasury_receive,name:"Receive",description:"Receive coins from some address sent",module:Co.treasury},{index:$o.treasury_withdraw,name:"Withdraw",description:"Withdraw coins",module:Co.treasury},{index:$o.treasury_withdraw_guard,name:"Withdraw Guard",description:"Add/Remove Treasury withdraw guard",module:Co.treasury},{index:$o.treasury_withdraw_mode,name:"Withdraw mode",description:"Set Treasury withdraw mode",module:Co.treasury},{index:$o.treasury_deposit_guard,name:"Deposit Guard",description:"Set Treasury deposit guard",module:Co.treasury},{index:$o.treasury_descritption,name:"Description",description:"Set Treasury description",module:Co.treasury},{index:$o.arbitration,name:"Arbitration",description:"Launch new Arbitration",module:Co.arbitration},{index:$o.arbitration_description,name:"Description",description:"Set Arbitration description",module:Co.arbitration},{index:$o.arbitration_endpoint,name:"Endpoint",description:"Set Arbitration endpoint",module:Co.arbitration},{index:$o.arbitration_fee,name:"Fee",description:"Set Arbitration fee",module:Co.arbitration},{index:$o.arbitration_guard,name:"Guard",description:"Set Guard to apply for arbitration",module:Co.arbitration},{index:$o.arbitration_arbitration,name:"Arbitrate",description:"Determine the outcome of arbitration",module:Co.arbitration},{index:$o.arbitration_pause,name:"Pause",description:"Allowing/forbidding the creation of Arb",module:Co.arbitration},{index:$o.arbitration_voting_guard,name:"Voting Guard",description:"Add/Remove voting Guard",module:Co.arbitration},{index:$o.arbitration_vote,name:"Vote",description:"Vote on the application for arbitration",module:Co.arbitration},{index:$o.arbitration_withdraw,name:"Withdraw",description:"Withdraw the arbitration fee",module:Co.arbitration},{index:$o.arbitration_treasury,name:"Withdraw",description:"Set Treasury that fees was collected at the time of withdrawal",module:Co.arbitration}];class Wo{txb;object;get_object(){return this.object}constructor(e){this.txb=e,this.object=""}static From(e,t){let r=new Wo(e);return r.object=Lo.TXB_OBJECT(e,t),r}static New(e,t){to(t)||Ba(wa.IsValidDesription);let r=new Wo(e);return r.object=e.moveCall({target:Lo.Instance().permissionFn("new"),arguments:[e.pure.string(t)]}),r}launch(){return this.txb.moveCall({target:Lo.Instance().permissionFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}add_bizPermission(e,t){Wo.IsValidBizPermissionIndex(e)||Ba(wa.IsValidBizPermissionIndex,"add_bizPermission"),ro(t)||Ba(wa.IsValidName,"add_bizPermission"),this.txb.moveCall({target:Lo.Instance().permissionFn("user_define_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u64(e),this.txb.pure.string(t)]})}remove_bizPermission(e){Wo.IsValidBizPermissionIndex(e)||Ba(wa.IsValidBizPermissionIndex,"remove_bizPermission"),this.txb.moveCall({target:Lo.Instance().permissionFn("user_define_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u64(e)]})}transfer_permission(e,t){no(e)&&no(t)||Ba(wa.IsValidAddress,"transfer_permission"),this.txb.moveCall({target:Lo.Instance().permissionFn("change_entity"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),this.txb.pure.address(t)]})}add_entity2(e,t){0!==e.length&&(go(e,no)||Ba(wa.IsValidArray,"add_entity2"),void 0!==t?this.txb.moveCall({target:Lo.Instance().permissionFn("add_with_index"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u64(t),this.txb.pure.vector("address",Ma(e))]}):this.txb.moveCall({target:Lo.Instance().permissionFn("add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e))]}))}add_entity3(e){if(0===e.length)return;const t=[];e.forEach((e=>{e.entities.forEach((r=>{const s=t.find((e=>e.address===r.address));if(s){const t=s.permissions.find((t=>t.index===e.index));t?t.guard=r.guard:s.permissions.push({guard:r.guard,index:e.index})}else t.push({address:r.address,permissions:[{guard:r.guard,index:e.index}]})}))})),this.add_entity(t)}add_entity(e){if(0===e.length)return;let t=!0;e.forEach((e=>{no(e.address)||(t=!1),e.permissions.forEach((e=>{Wo.IsValidPermissionIndex(e.index)||(t=!1),e?.guard&&!Lo.IsValidObjects([e.guard])&&(t=!1)}))})),t||Ba(wa.InvalidParam,"add_entity.entities");let r=[];for(let t=0;t<e.length;t++){let s=e[t],i=[];for(let e=0;e<s.permissions.length;e++){let t=s.permissions[e];Wo.IsValidPermissionIndex(t.index)&&(i.includes(t.index)||(i.push(t.index),t?.guard&&r.push({address:s.address,index:t.index,guard:t.guard})))}i.length>0&&this.txb.moveCall({target:Lo.Instance().permissionFn("add_batch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(s.address),this.txb.pure.vector("u64",i)]})}r.forEach((({address:e,index:t,guard:r})=>{this.txb.moveCall({target:Lo.Instance().permissionFn("guard_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),this.txb.pure.u64(t),Lo.TXB_OBJECT(this.txb,r)]})}))}set_guard(e,t,r){no(e)||Ba(wa.IsValidAddress,"address"),Wo.IsValidPermissionIndex(t)||Wo.IsValidBizPermissionIndex(t)||Ba(wa.IsValidPermissionIndex,"index"),r?this.txb.moveCall({target:Lo.Instance().permissionFn("guard_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),this.txb.pure.u64(t),Lo.TXB_OBJECT(this.txb,r)]}):this.txb.moveCall({target:Lo.Instance().permissionFn("guard_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),this.txb.pure.u64(t)]})}remove_index(e,t){no(e)||Ba(wa.IsValidAddress),0!==t.length&&(go(t,Wo.IsValidPermissionIndex)||Ba(wa.InvalidParam,"index"),this.txb.moveCall({target:Lo.Instance().permissionFn("remove_index"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),this.txb.pure.vector("u64",Ma(t))]}))}remove_entity(e){0!==e.length&&(go(e,no)||Ba(wa.IsValidArray),this.txb.moveCall({target:Lo.Instance().permissionFn("remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e))]}))}set_description(e){to(e)||Ba(wa.IsValidDesription),this.txb.moveCall({target:Lo.Instance().permissionFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e)]})}add_admin(e){0!==e.length&&(go(e,no)||Ba(wa.IsValidArray),this.txb.moveCall({target:Lo.Instance().permissionFn("admin_add_batch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e))]}))}remove_admin(e,t){(t||0!==e.length)&&(go(e,no)||Ba(wa.IsValidArray,"admin"),t?this.txb.moveCall({target:Lo.Instance().permissionFn("admins_clear"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]}):e&&this.txb.moveCall({target:Lo.Instance().permissionFn("admin_remove_batch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e))]}))}change_owner(e){no(e)||Ba(wa.IsValidAddress),this.txb.moveCall({target:Lo.Instance().permissionFn("builder_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e)]})}query_permissions_all(e){no(e)||Ba(wa.InvalidParam,"query_permissions"),this.txb.moveCall({target:Lo.Instance().permissionFn("query_permissions_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e)]})}QueryPermissions(e,t,r,s){this.query_permissions_all(t),Lo.Client().devInspectTransactionBlock({sender:s??t,transactionBlock:this.txb}).then((s=>{if(s.results&&s.results[0].returnValues&&2!==s.results[0].returnValues.length)return void r({who:t,object:e});const i=za.getInstance().de(xa.U8,Uint8Array.from(s.results[0].returnValues[0][0]));if(i===Wo.PERMISSION_ADMIN||i===Wo.PERMISSION_OWNER_AND_ADMIN)r({who:t,admin:!0,owner:i%2==1,items:[],object:e});else{const n=za.getInstance().de_perms(Uint8Array.from(s.results[0].returnValues[1][0]));r({who:t,admin:!1,owner:i%2==1,items:n.map((e=>({query:e?.index,permission:!0,guard:e?.guard}))),object:e})}})).catch((s=>{console.log(s),r({who:t,object:e})}))}static HasPermission(e,t,r=!1){if(e){if(e.admin)return{has:!0,owner:e.owner};let r=e.items?.find((e=>e.query==t));return r?{has:r.permission,guard:r.guard,owner:e.owner}:{has:!1,guard:void 0,owner:e?.owner}}if(r)return{has:!1,guard:void 0,owner:!1}}static MAX_ADMIN_COUNT=64;static MAX_ENTITY_COUNT=2e3;static MAX_PERMISSION_INDEX_COUNT=200;static MAX_PERSONAL_PERMISSION_COUNT=200;static PERMISSION_NORMAL=0;static PERMISSION_OWNER=1;static PERMISSION_ADMIN=2;static PERMISSION_OWNER_AND_ADMIN=3;static BUSINESS_PERMISSIONS_START=$o.user_defined_start;static IsValidBizPermissionIndex=e=>e>=Wo.BUSINESS_PERMISSIONS_START&&uo(e);static IsValidPermissionIndex=e=>!!Object.values($o).includes(e)||Wo.IsValidBizPermissionIndex(e)}class qo{txb;object;permission;get_object(){return this.object}static From(e,t,r){let s=new qo(e,t);return s.object=Lo.TXB_OBJECT(e,r),s}constructor(e,t){this.txb=e,this.permission=t,this.object=""}static New(e,t,r,s,i){Lo.IsValidObjects([t])||Ba(wa.IsValidObjects,"permission"),to(r)||Ba(wa.IsValidDesription),s&&!io(s)&&Ba(wa.IsValidEndpoint);let n=new qo(e,t),a=e.pure.option("string",s||void 0);return n.object=i?e.moveCall({target:Lo.Instance().machineFn("new_with_passport"),arguments:[i,e.pure.string(r),a,Lo.TXB_OBJECT(e,t)]}):e.moveCall({target:Lo.Instance().machineFn("new"),arguments:[e.pure.string(r),a,Lo.TXB_OBJECT(e,t)]}),n}add_node(e,t){if(0===e.length)return;let r=!0;e.forEach((e=>{ro(e.name)||(r=!1),e.pairs.forEach((e=>{so(e.prior_node)||(r=!1),e?.threshold&&!mo(e.threshold)&&(r=!1),e.forwards.forEach((e=>{""!==qo.checkValidForward(e)&&(r=!1)}))}))})),r||Ba(wa.InvalidParam,"add_node");let s=[];e.forEach((e=>{let t=this.txb.moveCall({target:Lo.Instance().machineFn("node_new"),arguments:[this.txb.pure.string(e.name)]});e.pairs.forEach((e=>{let r=this.txb.pure.option("u32",e?.threshold);e.forwards.forEach((s=>{this.txb.moveCall({target:Lo.Instance().machineFn("forward_add"),arguments:[t,this.txb.pure.string(e.prior_node),this.txb.pure.string(s.name),r,this.forward(s)]})})),0===e.forwards.length&&this.txb.moveCall({target:Lo.Instance().machineFn("forward_add_none"),arguments:[t,this.txb.pure.string(e.prior_node),r]})})),s.push(t)})),this.add_node2(s,t)}forward(e){let t,r=e?.weight?e.weight:1;return e?.namedOperator&&ro(e.namedOperator)?t=e?.guard?this.txb.moveCall({target:Lo.Instance().machineFn("forward"),arguments:[this.txb.pure.string(e.namedOperator),this.txb.pure.u16(r),this.txb.object(Lo.TXB_OBJECT(this.txb,e.guard))]}):this.txb.moveCall({target:Lo.Instance().machineFn("forward2"),arguments:[this.txb.pure.string(e.namedOperator),this.txb.pure.u16(r)]}):void 0!==e?.permission&&uo(e.permission)?t=e?.guard?this.txb.moveCall({target:Lo.Instance().machineFn("forward3"),arguments:[this.txb.pure.u64(e.permission),this.txb.pure.u16(r),this.txb.object(Lo.TXB_OBJECT(this.txb,e.guard))]}):this.txb.moveCall({target:Lo.Instance().machineFn("forward4"),arguments:[this.txb.pure.u64(e.permission),this.txb.pure.u16(r)]}):Ba(wa.InvalidParam,"forward"),e?.suppliers?.forEach((e=>{po(e.pay_token_type)||Ba(wa.IsValidTokenType,"forward.suppliers:"+e.object),this.txb.moveCall({target:Lo.Instance().serviceFn("add_to"),arguments:[this.txb.object(e.object),this.txb.pure.bool(e.bOptional),t],typeArguments:[e.pay_token_type]})})),t}add_node2(e,t){if(0===e.length)return;let r=e.map((e=>Lo.TXB_OBJECT(this.txb,e)));t?this.txb.moveCall({target:Lo.Instance().machineFn("node_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.makeMoveVec({elements:r}),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.makeMoveVec({elements:r}),Lo.TXB_OBJECT(this.txb,this.permission)]})}fetch_node(e,t){return ro(e)||Ba(wa.IsValidName,"fetch_node"),t?this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)]})}rename_node(e,t,r){e!==t&&(ro(e)||Ba(wa.IsValidName,"rename_node"),ro(t)||Ba(wa.IsValidName,"rename_node"),r?this.txb.moveCall({target:Lo.Instance().machineFn("node_rename_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_rename"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}))}remove_node(e,t=!1,r){0!==e.length&&(go(e,ro)||Ba(wa.IsValidArray,"nodes_name"),r?this.txb.moveCall({target:Lo.Instance().machineFn("node_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",e),this.txb.pure.bool(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",e),this.txb.pure.bool(t),Lo.TXB_OBJECT(this.txb,this.permission)]}))}launch(){return this.txb.moveCall({target:Lo.Instance().machineFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}set_description(e,t){to(e)||Ba(wa.IsValidDesription),t?this.txb.moveCall({target:Lo.Instance().machineFn("description_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)]})}add_repository(e,t){t?this.txb.moveCall({target:Lo.Instance().machineFn("repository_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("repository_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)]})}remove_repository(e,t,r){(t||0!==e.length)&&(go(e,no)||Ba(wa.IsValidArray,"remove_repository"),r?t?this.txb.moveCall({target:Lo.Instance().machineFn("repository_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.object)]}):this.txb.moveCall({target:Lo.Instance().machineFn("repository_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}):t?this.txb.moveCall({target:Lo.Instance().machineFn("repository_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("repository_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}))}clone(e,t){let r;return r=t?this.txb.moveCall({target:Lo.Instance().machineFn("clone_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("clone"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}),e?this.txb.moveCall({target:Lo.Instance().machineFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,r)]}):r}set_endpoint(e,t){e&&!io(e)&&Ba(wa.IsValidEndpoint);let r=this.txb.pure.option("string",e||void 0);t?this.txb.moveCall({target:Lo.Instance().machineFn("endpoint_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),r,Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("endpoint_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),r,Lo.TXB_OBJECT(this.txb,this.permission)]})}pause(e,t){t?this.txb.moveCall({target:Lo.Instance().machineFn("pause_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("pause"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),Lo.TXB_OBJECT(this.txb,this.permission)]})}publish(e){e?this.txb.moveCall({target:Lo.Instance().machineFn("publish_with_passport"),arguments:[e,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("publish"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]})}change_permission(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"new_permission"),this.txb.moveCall({target:Lo.Instance().machineFn("permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[]}),this.permission=e}add_forward(e,t,r,s,i,n){so(e)||Ba(wa.IsValidName_AllowEmpty,"add_forward"),ro(t)||Ba(wa.IsValidName,"add_forward");const a=qo.checkValidForward(r);let o;a&&Ba(wa.InvalidParam,a),o=n?this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch_with_passport"),arguments:[n,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]});const c=this.forward(r),d=this.txb.pure.option("u32",s);this.txb.moveCall({target:Lo.Instance().machineFn("forward_add"),arguments:[o,this.txb.pure.string(e),this.txb.pure.string(r.name),d,c]}),i&&i!==r.name&&this.txb.moveCall({target:Lo.Instance().machineFn("forward_remove"),arguments:[o,this.txb.pure.string(e),this.txb.pure.string(i)]}),this.add_node2([o],n)}remove_pair(e,t,r){let s;so(e)||Ba(wa.IsValidName_AllowEmpty,"remove_pair"),ro(t)||Ba(wa.IsValidName,"remove_pair"),s=r?this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}),this.txb.moveCall({target:Lo.Instance().machineFn("pair_remove"),arguments:[s,this.txb.pure.string(e)]}),this.add_node2([s],r)}remove_forward(e,t,r,s){let i;so(e)||Ba(wa.IsValidName_AllowEmpty,"remove_forward"),ro(t)||Ba(wa.IsValidName,"remove_forward"),i=s?this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().machineFn("node_fetch"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}),this.txb.moveCall({target:Lo.Instance().machineFn("forward_remove"),arguments:[i,this.txb.pure.string(e),this.txb.pure.string(r)]}),this.add_node2([i],s)}static rpc_de_nodes(e){const t=[];return e.forEach((e=>{t.push({name:e.data.content.fields.name,pairs:qo.rpc_de_pair(e?.data.content.fields.value)})})),t}static rpc_de_pair(e){let t=[];return e.fields.value.fields.contents.forEach((e=>{let r=[];e.fields.value.fields.forwards.fields.contents.forEach((e=>{let t=e.fields.key,s=e.fields.value.fields.weight,i=e.fields.value.fields.guard,n=e.fields.value.fields.namedOperator,a=e.fields.value.fields.permission_index;r.push({name:t,namedOperator:n,permission:a,weight:s,guard:i||"",suppliers:e.fields.value.fields.suppliers.fields.contents.map((e=>({object:e.fields.key,bOptional:e.fields.value,pay_token_type:""})))})})),t.push({prior_node:e.fields.key,threshold:e.fields.value.fields.threshold,forwards:r})})),t}static namedOperators(e){let t=[];return e.forEach((e=>{e.pairs.forEach((e=>{e.forwards.forEach((e=>{e?.namedOperator&&!t.find((t=>t===e.namedOperator))&&t.push(e.namedOperator)}))}))})),t}static checkValidForward(e){return ro(e.name)?e?.namedOperator&&!so(e?.namedOperator)?"Progress Operator invalid":e?.permission&&!Wo.IsValidPermissionIndex(e?.permission)?"Permission index invalid":e?.permission||e?.namedOperator?e?.weight&&!uo(e.weight)?"Weight invalid":"":"Business-Permissions invalid":"Forward name invalid"}static INITIAL_NODE_NAME="";static OPERATOR_ORDER_PAYER="OrderPayer"}class Ho{permission;machine;object;txb;get_object(){return this.object}constructor(e,t,r){this.permission=r,this.txb=e,this.machine=t,this.object=""}static From(e,t,r,s){let i=new Ho(e,t,r);return i.object=Lo.TXB_OBJECT(e,s),i}static New(e,t,r,s,i){Lo.IsValidObjects([t,r])||Ba(wa.IsValidObjects,"machine & permission");let n=new Ho(e,t,r),a=e.pure.option("address",s||void 0);return n.object=i?e.moveCall({target:Lo.Instance().progressFn("new_with_passport"),arguments:[i,a,Lo.TXB_OBJECT(e,t),Lo.TXB_OBJECT(e,r)]}):e.moveCall({target:Lo.Instance().progressFn("new"),arguments:[a,Lo.TXB_OBJECT(e,t),Lo.TXB_OBJECT(e,r)]}),n}launch(){return this.txb.moveCall({target:Lo.Instance().progressFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}set_namedOperator(e,t,r){ro(e)||Ba(wa.IsValidName,"name"),e===qo.OPERATOR_ORDER_PAYER&&Ba(wa.InvalidParam,"name cannot be "+qo.OPERATOR_ORDER_PAYER),(t.length>Ho.MAX_NAMED_OPERATOR_COUNT||!go(t,no))&&Ba(wa.InvalidParam,"addresses"),r?this.txb.moveCall({target:Lo.Instance().progressFn("namedOperator_set_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.vector("address",Ma(t)),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().progressFn("namedOperator_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.vector("address",Ma(t)),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]})}bind_task(e,t){no(e)||Ba(wa.IsValidAddress),t?this.txb.moveCall({target:Lo.Instance().progressFn("task_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().progressFn("task_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]})}set_context_repository(e,t){e&&!Lo.IsValidObjects([e])&&Ba(wa.IsValidObjects,"repository"),t?e?this.txb.moveCall({target:Lo.Instance().progressFn("context_repository_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().progressFn("context_repository_none_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]}):e?this.txb.moveCall({target:Lo.Instance().progressFn("context_repository_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().progressFn("context_repository_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]})}unhold(e,t){Ho.IsValidProgressNext(e)||Ba(wa.InvalidParam,"unhold");const r=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);t?this.txb.moveCall({target:Lo.Instance().progressFn("unhold_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.pure.string(e.next_node_name),this.txb.pure.string(e.forward),Lo.TXB_OBJECT(this.txb,this.permission),this.txb.object(r)]}):this.txb.moveCall({target:Lo.Instance().progressFn("unhold"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.pure.string(e.next_node_name),this.txb.pure.string(e.forward),Lo.TXB_OBJECT(this.txb,this.permission),this.txb.object(r)]})}parent_none(e){e?this.txb.moveCall({target:Lo.Instance().progressFn("parent_none_with_passport"),arguments:[e,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().progressFn("parent_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),Lo.TXB_OBJECT(this.txb,this.permission)]})}parent(e,t){no(e.parent_id)&&mo(e.parent_session_id)||Ba(wa.InvalidParam,"parent"),e.next_node&&e.forward||Ba(wa.InvalidParam,"parent"),t?this.txb.moveCall({target:Lo.Instance().progressFn("parent_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.object(e.parent_id),this.txb.pure.u64(e.parent_session_id),this.txb.pure.string(e.next_node),this.txb.pure.string(e.forward),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().progressFn("parent_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.object(e.parent_id),this.txb.pure.u64(e.parent_session_id),this.txb.pure.string(e.next_node),this.txb.pure.string(e.forward),Lo.TXB_OBJECT(this.txb,this.permission)]})}deliverable(e){to(e.msg)||Ba(wa.IsValidDesription,"deliverable.msg"),e.orders.length>0&&!Lo.IsValidObjects(e.orders.map((e=>e.object)))&&Ba(wa.IsValidObjects,"deliverable.orders");const t=this.txb.moveCall({target:Lo.Instance().progressFn("deliverable_new"),arguments:[this.txb.pure.string(e.msg)]});return e.orders.forEach((e=>{po(e.pay_token_type)||Ba(wa.IsValidTokenType,"deliverable.orders:"+e.object),this.txb.moveCall({target:Lo.Instance().orderFn("as_deliverable"),arguments:[this.txb.object(e.object),t],typeArguments:[e.pay_token_type]})})),t}next(e,t,r){Ho.IsValidProgressNext(e)||Ba(wa.InvalidParam,"next");const s=this.deliverable(t),i=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return r?this.txb.moveCall({target:Lo.Instance().progressFn("next_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.pure.string(e.next_node_name),this.txb.pure.string(e.forward),s,Lo.TXB_OBJECT(this.txb,this.permission),this.txb.object(i)]}):this.txb.moveCall({target:Lo.Instance().progressFn("next"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.pure.string(e.next_node_name),this.txb.pure.string(e.forward),s,Lo.TXB_OBJECT(this.txb,this.permission),this.txb.object(i)]})}hold(e,t){Ho.IsValidProgressNext(e)||Ba(wa.InvalidParam,"hold");const r=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return this.txb.moveCall({target:Lo.Instance().progressFn("hold"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.machine),this.txb.pure.string(e.next_node_name),this.txb.pure.string(e.forward),this.txb.pure.bool(t),Lo.TXB_OBJECT(this.txb,this.permission),this.txb.object(r)]})}static QueryForwardGuard=async(e,t,r,s,i)=>{if(!(e&&t&&s&&i))return void Ba(wa.InvalidParam,"QueryForwardGuard");const n=new ms;n.moveCall({target:Lo.Instance().progressFn("query_guard"),arguments:[Lo.TXB_OBJECT(n,e),Lo.TXB_OBJECT(n,t),n.pure.string(s),n.pure.string(i)]});const a=await Lo.Client().devInspectTransactionBlock({sender:r,transactionBlock:n});if(1===a.results?.length&&1===a.results[0].returnValues?.length){const e=za.getInstance().de("Option<address>",Uint8Array.from(a.results[0].returnValues[0][0]));return e?.some?"0x"+e?.some:void 0}};static DeSessions=e=>{let t=[];return e?.fields?.contents?.forEach((e=>{var r={next_node:e.fields.key,holders:[],weights:e.fields.value.fields.weights,threshold:e.fields.value.fields.threshold};e.fields.value.fields.forwards.fields.contents.forEach((e=>{r.holders.push({forward:e.fields.key,accomplished:e.fields.value.fields.accomplished,time:e.fields.value.fields.time,who:e.fields.value.fields.who,deliverable:{msg:e.fields.value.fields.msg,orders:e.fields.value.fields.orders??[]}})})),t.push(r)})),t};static DeHistories=e=>e?.map((e=>Ho.DeHistory(e?.data?.content?.fields)));static DeHistory=e=>({id:parseInt(e?.name),node:e?.value?.fields?.node,next_node:e?.value?.fields?.next_node,sessions:Ho.DeSessions(e?.value.fields?.session),time:e?.value?.fields?.time});static MAX_NAMED_OPERATOR_COUNT=20;static MAX_DELEVERABLE_ORDER_COUNT=20;static IsValidProgressNext=e=>ro(e.forward)&&ro(e.next_node_name)}const Ko=[[Co.permission,"Owner",1,[],Ao.TYPE_ADDRESS,"Owner's address."],[Co.permission,"Is Admin",2,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is a certain address an administrator?",["address"]],[Co.permission,"Has Rights",3,[Ao.TYPE_ADDRESS,Ao.TYPE_U64],Ao.TYPE_BOOL,"Does an address have a certain permission(Admin always have permissions)?",["address","permission index"]],[Co.permission,"Contains Address",4,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether an address is included in the personnel permission table?",["address"]],[Co.permission,"Contains Permission",5,[Ao.TYPE_ADDRESS,Ao.TYPE_U64],Ao.TYPE_BOOL,"Whether a certain permission for a certain address is defined in the personnel permission table?",["address","permission index"]],[Co.permission,"Contains Permission Guard",6,[Ao.TYPE_ADDRESS,Ao.TYPE_U64],Ao.TYPE_BOOL,"Whether a permission guard for a certain address is defined in the personnel permission table?",["address","permission index"]],[Co.permission,"Permission Guard",7,[Ao.TYPE_ADDRESS,Ao.TYPE_U64],Ao.TYPE_ADDRESS,"Permission guard for a certain address.",["address","permission index"]],[Co.permission,"Number of Entities",8,[],Ao.TYPE_U64,"Number of entities in the personnel permission table.",[]],[Co.permission,"Number of Admin",9,[],Ao.TYPE_U64,"Number of administrators.",[]],[Co.repository,"Permission",100,[],Ao.TYPE_ADDRESS,"Permission object address.",[]],[Co.repository,"Contains Policy",101,[Ao.TYPE_STRING],Ao.TYPE_BOOL,"Is a consensus policy included?",["the filed name"]],[Co.repository,"Is Permission set of Policy",102,[Ao.TYPE_STRING],Ao.TYPE_BOOL,"Does a certain consensus policy set data operation permissions?",["the policy name"]],[Co.repository,"Permission of Policy",103,[Ao.TYPE_STRING],Ao.TYPE_U64,"The permission index of a certain consensus policy in the Permission object.",["the policy name"]],[Co.repository,"Value Type of Policy",104,[Ao.TYPE_STRING],Ao.TYPE_U8,"Data types defined by consensus policy.",["the policy name"]],[Co.repository,"Contains Data",105,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_BOOL,"Does it contain data for a certain field of an address?",["address","the field name"]],[Co.repository,"Raw data without Type",106,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_VEC_U8,"Data for a field at an address and does not contain data type information.",["address","the field name"]],[Co.repository,"Raw data",107,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_VEC_U8,"Data for a field at an address, and the first byte contains data type information.",["address","the field name"]],[Co.repository,"Type",108,[],Ao.TYPE_U8,"The repository Type. 0: Normal; 1: Wowok greenee.",[]],[Co.repository,"Policy Mode",109,[],Ao.TYPE_U8,"Policy Mode. 0: Free mode;  1: Strict mode.",[]],[Co.repository,"Reference Count",110,[],Ao.TYPE_U64,"The number of times it is referenced by other objects.",[]],[Co.repository,"Is Referenced by An Object",111,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is it referenced by an object?",["address"]],[Co.repository,"Number Data",112,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_U256,"Data for a field at an address and get unsigned integer type data.",["address","the field name"]],[Co.repository,"String Data",113,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_STRING,"Data for a field at an address and get string type data.",["address","the field name"]],[Co.repository,"Address Data",114,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_ADDRESS,"Data for a field at an address and get address type data.",["address","the field name"]],[Co.repository,"Bool Data",115,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_BOOL,"Data for a field at an address and get bool type data.",["address","the field name"]],[Co.repository,"Number Vector Data",116,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_VEC_U256,"Data for a field at an address and get unsigned integer vector type data.",["address","the field name"]],[Co.repository,"String Vector Data",117,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_VEC_STRING,"Data for a field at an address and get string vector type data.",["address","the field name"]],[Co.repository,"Address Vector Data",118,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_VEC_ADDRESS,"Data for a field at an address and get address vector type data.",["address","the field name"]],[Co.repository,"Bool Vector Data",119,[Ao.TYPE_ADDRESS,Ao.TYPE_STRING],Ao.TYPE_VEC_BOOL,"Data for a field at an address and get bool vector type data.",["address","the field name"]],[Co.entity,"Has Entity",200,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is an entity already registered?",["address"]],[Co.entity,"Likes",201,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The number of likes for an address by other addresses.",["address"]],[Co.entity,"Dislikes",202,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The number of dislikes for an address by other addresses.",["address"]],[Co.entity,"Entity Info",203,[Ao.TYPE_ADDRESS],Ao.TYPE_VEC_U8,"Public information about an entity.",["address"]],[Co.entity,"Has Resource by Entity?",204,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether an entity created a resource?",["address"]],[Co.entity,"Entity Resource",205,[Ao.TYPE_ADDRESS],Ao.TYPE_ADDRESS,"The address of a resource object created by an entity.",["address"]],[Co.demand,"Permission",300,[],Ao.TYPE_ADDRESS,"Permission object address.",[]],[Co.demand,"Deadline",302,[],Ao.TYPE_U64,"The expiration time of presenting.",[]],[Co.demand,"Bounty Count",303,[],Ao.TYPE_U64,"Number of Bounties.",[]],[Co.demand,"Has Guard",304,[],Ao.TYPE_BOOL,"Whether the present guard is set?",[]],[Co.demand,"Guard",305,[],Ao.TYPE_ADDRESS,"The present guard address.",[]],[Co.demand,"Has Service Picked",306,[],Ao.TYPE_BOOL,"Whether a service has been picked and bounties given?",[]],[Co.demand,"Service Picked",307,[],Ao.TYPE_ADDRESS,"Service address that has been picked.",[]],[Co.demand,"Presenter Count",308,[],Ao.TYPE_U64,"Number of presenters.",[]],[Co.demand,"Has Presenter",309,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is a certain address a presenter?",["address"]],[Co.demand,"Who Got Bounty",310,[Ao.TYPE_ADDRESS],Ao.TYPE_ADDRESS,"The address that bounties given.",["address"]],[Co.service,"Permission",400,[],Ao.TYPE_ADDRESS,"Permission object address.",[]],[Co.service,"Payee",401,[],Ao.TYPE_ADDRESS,"Payee address, that all order withdrawals will be collected to this address.",[]],[Co.service,"Has Buying Guard",402,[],Ao.TYPE_BOOL,"Is the guard condition of buying set?",[]],[Co.service,"Buying Guard",403,[],Ao.TYPE_ADDRESS,"Buying guard, that Purchase only if you meet the conditions of the guard.",[]],[Co.service,"Contains Repository",404,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is a certain repository one of the service's consensus repositories?",["address"]],[Co.service,"Has Withdrawing Guard",405,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether a certain guard is set when withdrawing money?",["address"]],[Co.service,"Withdrawing Guard Percent",406,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The percentage of withdrawals allowed by a certain withdrawal guard.",["address"]],[Co.service,"Has Refunding Guard",407,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether a certain guard is set when refunding money?",["address"]],[Co.service,"Refunding Guard Percent",408,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The percentage of refund allowed by a certain refund guard.",["address"]],[Co.service,"Has Sales Item",409,[Ao.TYPE_STRING],Ao.TYPE_BOOL,"Is there a sales item for the service?",["the item name"]],[Co.service,"Sale Item Price",410,[Ao.TYPE_STRING],Ao.TYPE_U64,"What is the price of a certain sale item?",["the item name"]],[Co.service,"Sale Item Inventory",411,[Ao.TYPE_STRING],Ao.TYPE_U64,"How much inventory is there for a certain sales item?",["the item name"]],[Co.service,"Has Machine",412,[],Ao.TYPE_BOOL,"Has the machine(progress generator) that serves the order been set up?",[]],[Co.service,"Machine",413,[],Ao.TYPE_ADDRESS,"Machine address, that generate progresses serving the execution process of order.",[]],[Co.service,"Paused",414,[],Ao.TYPE_BOOL,"Pause the creation of new order?"],[Co.service,"Published",415,[],Ao.TYPE_BOOL,"Is it allowed to create orders?"],[Co.service,"Has Required Info",416,[],Ao.TYPE_BOOL,"Whether the necessary information that needs to be provided by the customer is set?",[]],[Co.service,"Required Info of Service-Pubkey",417,[],Ao.TYPE_STRING,"The public key used to encrypt customer information, and only the service provider can decrypt and view customer information.",[]],[Co.service,"Required Info",418,[],Ao.TYPE_VEC_STRING,"Names of the required information item that needs to be provided by the customer.",[]],[Co.service,"Number of Treasuries",419,[],Ao.TYPE_U64,"The number of treasuries that can be externally withdrawn for purposes such as compensation or incentives.",[]],[Co.service,"Contains Treasury",420,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Does it contain externally withdrawable Treasury for purposes such as compensation or incentives?",["treasury address"]],[Co.service,"Number of Arbitrations",421,[],Ao.TYPE_U64,"The number of arbitrations that allows a refund to be made from the order at any time based on the arbitration result.",[]],[Co.service,"Contains Arbitration",422,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Does it contain an arbitration that allows a refund to be made from the order at any time based on the arbitration result.?",["arbitration address"]],[Co.order,"Amount",500,[],Ao.TYPE_U64,"Order amount.",[]],[Co.order,"Payer",501,[],Ao.TYPE_ADDRESS,"Order payer.",[]],[Co.order,"Service",502,[],Ao.TYPE_ADDRESS,"Service for creating orders.",[]],[Co.order,"Has Progress",503,[],Ao.TYPE_BOOL,"Is there a Progress for executing the order process?",[]],[Co.order,"Progress",504,[],Ao.TYPE_ADDRESS,"Progress address for executing the order process.",[]],[Co.order,"Required Info",505,[],Ao.TYPE_BOOL,"Is Required Info set?",[]],[Co.order,"Discount Used",506,[],Ao.TYPE_BOOL,"Discount coupon used for this order?",[]],[Co.order,"Discount",507,[],Ao.TYPE_ADDRESS,"Discount address that already used.",[]],[Co.order,"Balance",508,[],Ao.TYPE_U64,"The amount currently in the order.",[]],[Co.order,"Number of Agents",511,[],Ao.TYPE_U64,"The number of agents for the order.",[]],[Co.order,"Has Agent",512,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether an address is an order agent?",["agent address"]],[Co.order,"Number of Disputes",513,[],Ao.TYPE_U64,"Number of arbitrations for the order.",[]],[Co.order,"Has Arb",514,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Does the order contain an Arb for arbitration?",["arb address"]],[Co.machine,"Permission",700,[],Ao.TYPE_ADDRESS,"Permission object address.",[]],[Co.machine,"Paused",701,[],Ao.TYPE_BOOL,"Pause the creation of new Progress?",[]],[Co.machine,"Published",702,[],Ao.TYPE_BOOL,"Is it allowed to create Progress?",[]],[Co.machine,"Is Consensus Repository",703,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether an address is a consensus repository?",["adddress"]],[Co.machine,"Has Endpoint",704,[],Ao.TYPE_BOOL,"Is the endpoint set?",[]],[Co.machine,"Endpoint",705,[],Ao.TYPE_STRING,"Endpoint url/ipfs.",[]],[Co.progress,"Machine",800,[],Ao.TYPE_ADDRESS,"The Machine object that created this Progress.",[]],[Co.progress,"Current Node",801,[],Ao.TYPE_STRING,"The name of the currently running node.",[]],[Co.progress,"Has Parent",802,[],Ao.TYPE_BOOL,"Is the parent Progress defined?",[]],[Co.progress,"Parent",803,[],Ao.TYPE_ADDRESS,"The parent Progress, that contains some child Progress.",[]],[Co.progress,"Has Task",804,[],Ao.TYPE_BOOL,"Does it contain clear task(eg. an Order)?",[]],[Co.progress,"Task",805,[],Ao.TYPE_ADDRESS,"Task object address.",[]],[Co.progress,"Has Unique Permission",806,[Ao.TYPE_STRING],Ao.TYPE_BOOL,"Does Progress define a unique operation permission?",["operator name"]],[Co.progress,"Is Unique Permission Operator",807,[Ao.TYPE_STRING,Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is an address an operator with unique permissions?",["operator name","address"]],[Co.progress,"Has Context Repository",808,[],Ao.TYPE_BOOL,"Whether the repository reference for Progress is set?",[]],[Co.progress,"Context Repository",809,[],Ao.TYPE_ADDRESS,"Repository reference for Progress.",[]],[Co.progress,"Last Session Time",810,[],Ao.TYPE_U64,"Time when the previous session was completed.",[]],[Co.progress,"Last Session Node",811,[],Ao.TYPE_STRING,"The name of the last completed node.",[]],[Co.progress,"Current Session-id",812,[],Ao.TYPE_U64,"The session id of ongoing node.",[]],[Co.progress,"Parent Session-id",813,[],Ao.TYPE_U64,"The child process was started in the Session-id phase of the parent process.",[]],[Co.progress,"Parent Next Node",814,[],Ao.TYPE_STRING,"The child process is started at the next node stage of the parent process.",[]],[Co.progress,"Parent Forward",815,[],Ao.TYPE_STRING,"The child process is started in the Forward phase of the next node of the parent process.",[]],[Co.progress,"Parent Node",816,[],Ao.TYPE_STRING,"The node name of the parent process where the child process is located.",[]],[Co.progress,"Forward Accomplished",817,[Ao.TYPE_U64,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_BOOL,"Has the forward been accomplished?",["session-id","next node name","forward name"]],[Co.progress,"Forward Operator",818,[Ao.TYPE_U64,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_ADDRESS,"The forward operator.",["session-id","next node name","forward name"]],[Co.progress,"Forward Message",819,[Ao.TYPE_U64,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_STRING,"The forward message.",["session-id","next node name","forward name"]],[Co.progress,"Forward Order Count",820,[Ao.TYPE_U64,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_U64,"The forward Order count.",["session-id","next node name","forward name"]],[Co.progress,"Forward time",821,[Ao.TYPE_U64,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_U64,"The time when the forward was last triggered.",["session-id","next node name","forward name"]],[Co.progress,"Closest Session Time",822,[Ao.TYPE_STRING],Ao.TYPE_U64,"The time a node that closest time to the current node completes its session.",["node name"]],[Co.progress,"Closest Forward Accomplished",823,[Ao.TYPE_STRING,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_BOOL,"Has the forward been accomplished?",["node name","next node name","forward name"]],[Co.progress,"Closest Forward Operator",824,[Ao.TYPE_STRING,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_ADDRESS,"The operator of the forward that closest time to the current node.",["node name","next node name","forward name"]],[Co.progress,"Closest Forward Message",825,[Ao.TYPE_STRING,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_STRING,"The message of the forward that closest time to the current node.",["node name","next node name","forward name"]],[Co.progress,"Closest Forward Order Count",826,[Ao.TYPE_STRING,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_U64,"The Order count of the forward that closest time to the current node.",["node name","next node name","forward name"]],[Co.progress,"Closest Forward time",827,[Ao.TYPE_STRING,Ao.TYPE_STRING,Ao.TYPE_STRING],Ao.TYPE_U64,"The time when the forward that closest time to the current node was last triggered.",["node name","next node name","forward name"]],[Co.wowok,"Builder",900,[],Ao.TYPE_ADDRESS,"Builder address of Wowok.",[]],[Co.wowok,"Object of Entities",901,[],Ao.TYPE_ADDRESS,"The address of entity information object.",[]],[Co.wowok,"Grantor Count",902,[],Ao.TYPE_U64,"Number of registered grantors.",[]],[Co.wowok,"Has Grantor",903,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether an address has been registered as a grantor?",["address"]],[Co.wowok,"Grantor Name",904,[Ao.TYPE_ADDRESS],Ao.TYPE_STRING,"Name of a grantor.",["address"]],[Co.wowok,"Grantor Registration Time",905,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Registration time of a grantor.",["address"]],[Co.wowok,"Grantor Expired Time",906,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The expiration time of a grantor.",["address"]],[Co.wowok,"Grantee Object for Grantor",907,[Ao.TYPE_ADDRESS],Ao.TYPE_ADDRESS,"Grantee repository address of a grantor.",["address"]],[Co.payment,"Sender",1200,[],Ao.TYPE_ADDRESS,"Payment originator address.",[]],[Co.payment,"Total Amount",1201,[],Ao.TYPE_U128,"Payment amount.",[]],[Co.payment,"Remark",1202,[],Ao.TYPE_STRING,"Payment remark.",["address"]],[Co.payment,"Has Guard for Perpose",1203,[],Ao.TYPE_BOOL,"Whether the payment references a Guard?",[]],[Co.payment,"Has Object for Perpose",1204,[],Ao.TYPE_BOOL,"Whether the payment references an Object?",[]],[Co.payment,"Guard for Perpose",1205,[],Ao.TYPE_ADDRESS,"The Guard referenced by this payment.",[]],[Co.payment,"Object for Perpose",1206,[],Ao.TYPE_ADDRESS,"The Object referenced by this payment.",[]],[Co.payment,"Number of Recipients",1207,[],Ao.TYPE_U64,"Number of recipients to receive payment from.",[]],[Co.payment,"Is a Recipient",1208,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Is a recipient received the payment?",["address"]],[Co.payment,"Amount for a Recipient",1209,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The amount of payment received by an address.",["address"]],[Co.payment,"Time",1210,[],Ao.TYPE_U64,"Payment time",[]],[Co.payment,"Is from Treasury",1211,[],Ao.TYPE_BOOL,"Whether the payment comes from a Treasury?",[]],[Co.payment,"Treasury Address",1212,[],Ao.TYPE_ADDRESS,"The Treasury from which the payment comes.",[]],[Co.payment,"Biz-ID",1213,[],Ao.TYPE_U64,"Bisiness ID number of the payment.",[]],[Co.treasury,"Permission",1400,[],Ao.TYPE_ADDRESS,"Permission object address.",[]],[Co.treasury,"Balance",1401,[],Ao.TYPE_U64,"Treasury balance.",[]],[Co.treasury,"Number of Flow Records",1402,[],Ao.TYPE_U64,"Number of treasury transactions.",[]],[Co.treasury,"Inflow Amount",1403,[],Ao.TYPE_U128,"Treasury inflow amount.",[]],[Co.treasury,"Outflow Amount",1404,[],Ao.TYPE_U128,"Treasury outflow amount.",[]],[Co.treasury,"Has Deposit Guard",1405,[],Ao.TYPE_BOOL,"Whether the deposit Guard set?",[]],[Co.treasury,"Deposit Guard",1406,[],Ao.TYPE_ADDRESS,"Deposit Guard address.",[]],[Co.treasury,"Number of Withdraw Guards",1407,[],Ao.TYPE_U64,"Number of withdraw guards.",[]],[Co.treasury,"Has Withdraw Guard",1408,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Has a Withdraw Guard added?",["guard address"]],[Co.treasury,"Withdrawal Amount with Guard",1409,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"withdrawal amount corresponding the Guard.",["guard address"]],[Co.treasury,"Recent Time with Operation",1410,[Ao.TYPE_U8],Ao.TYPE_U64,"Time of the most recent fund operation.",["operation"]],[Co.treasury,"Recent Signer with Operation",1411,[Ao.TYPE_U8],Ao.TYPE_ADDRESS,"Signer address of the most recent fund operation.",["operation"]],[Co.treasury,"Recent Payment with Operation",1412,[Ao.TYPE_U8],Ao.TYPE_ADDRESS,"Payment address of the most recent fund operation.",["operation"]],[Co.treasury,"Recent Amount with Operation",1413,[Ao.TYPE_U8],Ao.TYPE_U64,"Amount of the most recent fund operation.",["operation"]],[Co.treasury,"Recent Time with Op/Pmt",1414,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Time of the most recent fund operation with payment specified.",["operation","payment address"]],[Co.treasury,"Recent Signer with Op&Pmt",1415,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_ADDRESS,"Signer of the most recent fund operationwith payment specified.",["operation","payment address"]],[Co.treasury,"Recent Amount with Op/Pmt",1416,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Amount of the most recent fund operation with payment specified.",["operation","payment address"]],[Co.treasury,"Recent Time with Op/Sgr",1417,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Time of the most recent fund operation with signer specified.",["operation","signer address"]],[Co.treasury,"Recent Payment with Op/Sgr",1418,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_ADDRESS,"Payment of the most recent fund operation with singner specified.",["operation","signer address"]],[Co.treasury,"Recent Amount with Op/Sgr",1419,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Amount of the most recent fund operation with singer specified.",["operation","signer address"]],[Co.treasury,"Recent Time with Op/Pmt/Sgr",1420,[Ao.TYPE_U8,Ao.TYPE_ADDRESS,Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Time of the most recent fund operation.",["operation","payment address","singer address"]],[Co.treasury,"Recent Amount with Op/Pmt/Sgr",1421,[Ao.TYPE_U8,Ao.TYPE_ADDRESS,Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Amount of the most recent fund operation.",["operation","payment address","singer address"]],[Co.treasury,"Has Operation",1422,[Ao.TYPE_U8],Ao.TYPE_BOOL,"Whether there was a fund operation?",["operation"]],[Co.treasury,"Has Operation with Pmt",1423,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether there was a fund operation with payment specified?",["operation","payment address"]],[Co.treasury,"Has Operation with Sgr",1424,[Ao.TYPE_U8,Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether there was a fund operation with singer specified?",["operation","singer address"]],[Co.treasury,"Has Operation with Pmt/Sgr",1425,[Ao.TYPE_U8,Ao.TYPE_ADDRESS,Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Whether there was a fund operation?",["operation","payment address","singer address"]],[Co.treasury,"Operation at Least Times",1426,[Ao.TYPE_U8,Ao.TYPE_U8],Ao.TYPE_BOOL,"Does it operate at least a certain number of times?",["operation","at least times"]],[Co.treasury,"Operation at Least Times by a Signer",1427,[Ao.TYPE_U8,Ao.TYPE_ADDRESS,Ao.TYPE_U8],Ao.TYPE_BOOL,"Does it operate at least a certain number of times by a signer?",["operation","signer address","at least times"]],[Co.arbitration,"Permission",1500,[],Ao.TYPE_ADDRESS,"Permission object address.",[]],[Co.arbitration,"Paused",1501,[],Ao.TYPE_BOOL,"Is it allowed to create Arb?",[]],[Co.arbitration,"Fee",1502,[],Ao.TYPE_U64,"Cost of arbitration.",[]],[Co.arbitration,"Has Endpoint",1503,[],Ao.TYPE_BOOL,"Is the endpoint set?",[]],[Co.arbitration,"Endpoint",1504,[],Ao.TYPE_STRING,"Endpoint url/ipfs.",[]],[Co.arbitration,"Has Customer Guard",1505,[],Ao.TYPE_BOOL,"Is there Guard set to apply for arbitration?",[]],[Co.arbitration,"Customer Guard",1506,[],Ao.TYPE_ADDRESS,"Guard to apply for arbitration.",[]],[Co.arbitration,"Number of Voting Guard",1507,[],Ao.TYPE_U64,"Number of voting guards.",[]],[Co.arbitration,"Has Voting Guard",1508,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Has the voting Guard added?",["guard address"]],[Co.arbitration,"Voting Weight",1509,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"Voting weight of the voting Guard.",["guard address"]],[Co.arbitration,"Treasury",1510,[],Ao.TYPE_ADDRESS,"The address of the Treasury where fees was collected at the time of withdrawal.",[]],[Co.arb,"Order",1600,[],Ao.TYPE_ADDRESS,"Order under arbitration.",[]],[Co.arb,"Arbitration",1601,[],Ao.TYPE_ADDRESS,"Arbitration object address.",[]],[Co.arb,"Feedback",1602,[],Ao.TYPE_STRING,"Arbitration feedback.",[]],[Co.arb,"Has Compensation",1603,[],Ao.TYPE_BOOL,"Whether there is an arbitration result?",[]],[Co.arb,"Compensation",1604,[],Ao.TYPE_U64,"Compensation should be given to the order payer.",[]],[Co.arb,"Unclaimed Arbitration Costs",1605,[],Ao.TYPE_U64,"Unclaimed arbitration costs.",[]],[Co.arb,"Turnout",1606,[],Ao.TYPE_U64,"The number of addresses have voted.",[]],[Co.arb,"Has voted",1607,[Ao.TYPE_ADDRESS],Ao.TYPE_BOOL,"Has someone voted?",["voter address"]],[Co.arb,"Voting weight",1608,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The weight of a complete vote for the address.",["voter address"]],[Co.arb,"Voting Time",1609,[Ao.TYPE_ADDRESS],Ao.TYPE_U64,"The time of a complete vote for the address.",["voter address"]],[Co.arb,"Voting Option",1610,[Ao.TYPE_ADDRESS,Ao.TYPE_U8],Ao.TYPE_BOOL,"Does an address complete voting for the option?",["voter address","option index"]],[Co.arb,"Number of Options",1611,[],Ao.TYPE_U64,"Number of voting options.",[]],[Co.arb,"Number of Votes",1612,[Ao.TYPE_U8],Ao.TYPE_U64,"The number of votes received for an option.",["option index"]]];class Qo{static MAX_INPUT_LENGTH=10240;txb;object;get_object(){return this.object}static From(e,t){let r=new Qo(e);return r.object=Lo.TXB_OBJECT(e,t),r}constructor(e){this.txb=e,this.object=""}static New(e,t,r){r.IsReady()||Ba(wa.InvalidParam,"launch maker"),to(t)||Ba(wa.IsValidDesription);let s=r.get_input()[0],i=r.get_constant();(0==s.length||s.length>Qo.MAX_INPUT_LENGTH)&&Ba(wa.InvalidParam,"launch input");let n=!0;i?.forEach(((e,t)=>{ec.IsValidIndentifier(t)||(n=!1),e.value&&e.bWitness&&(n=!1),void 0!==e.value||e.bWitness||(n=!1)})),n||Ba(wa.InvalidParam,"launch constants");let a=new Uint8Array(s),o=new Qo(e);return o.object=e.moveCall({target:Lo.Instance().guardFn("new"),arguments:[e.pure.string(t),e.pure.vector("u8",[].slice.call(a.reverse()))]}),i?.forEach(((t,r)=>{if(t.bWitness){const s=new Uint8Array(1);s.set([t.type],0),e.moveCall({target:Lo.Instance().guardFn("constant_add"),arguments:[e.object(o.object),e.pure.u8(r),e.pure.bool(!0),e.pure.vector("u8",[].slice.call(s)),e.pure.bool(!0)]})}else{const s=vo(t.value,t.type);e.moveCall({target:Lo.Instance().guardFn("constant_add"),arguments:[e.object(o.object),e.pure.u8(r),e.pure.bool(!1),e.pure.vector("u8",[].slice.call(s)),e.pure.bool(!0)]})}})),o}launch(){return this.txb.moveCall({target:Lo.Instance().guardFn("create"),arguments:[this.txb.object(this.object)]})}static everyone_guard(e){return e.moveCall({target:Lo.Instance().guardFn("everyone_guard"),arguments:[]})}static QueryAddressIdentifiers(e,t,r){const s=new ms;s.moveCall({target:Lo.Instance().guardFn("query_address_identifiers"),arguments:[s.object(e)]}),Lo.Client().devInspectTransactionBlock({sender:r,transactionBlock:s}).then((e=>{if(e.results&&e.results[0]?.returnValues&&1!==e.results[0]?.returnValues?.length)return void t({err:"not match",txb:s,identifiers:[]});const r=za.getInstance().de("vector<u8>",Uint8Array.from(e.results[0].returnValues[0][0]));t({identifiers:r,txb:s})})).catch((e=>{console.log(e),t({err:e,txb:s,identifiers:[]})}))}static BoolCmd=Ko.filter((e=>e[4]===Ao.TYPE_BOOL));static IsBoolCmd=e=>Qo.BoolCmd.includes((t=>t[2]==e));static CmdFilter=e=>Ko.filter((t=>t[4]===e));static GetCmd=e=>Ko.find((t=>t[2]==e));static GetCmdOption=e=>{const t=Qo.GetCmd(e);return t?{from:"query",name:t[1],value:t[2],group:Bo(t[0])}:t};static GetInputParams=e=>{const t=Qo.GetCmd(e);return t?t[3]:[]};static GetModuleName=e=>{let t=Qo.GetCmd(e);return t?Bo(t[0]):""};static NumberOptions=()=>[...Qo.CmdFilter(Ao.TYPE_U8),...Qo.CmdFilter(Ao.TYPE_U64),...Qo.CmdFilter(Ao.TYPE_U128),...Qo.CmdFilter(Ao.TYPE_U256)].map((e=>({from:"query",name:e[1],value:e[2],group:Bo(e[0])}))).concat(Qo.Crunchings);static Signer={from:"type",name:"Txn Signer",value:Vo.TYPE_SIGNER,group:"Txn Functions"};static Time={from:"type",name:"Txn Time",value:Vo.TYPE_CLOCK,group:"Txn Functions"};static Guard={from:"type",name:"Guard Address",value:Vo.TYPE_GUARD,group:"Txn Functions"};static Logics=()=>So.map((e=>({from:"type",name:e[1],value:e[0],group:"Compare or Logic"})));static Crunchings=[{from:"type",name:"Txn Time",value:Vo.TYPE_CLOCK,group:"Txn Functions"},{from:"type",name:"PositiveNumber Add (+)",value:Po.TYPE_NUMBER_ADD,group:"Number Crunching"},{from:"type",name:"PositiveNumber Subtract (-)",value:Po.TYPE_NUMBER_SUBTRACT,group:"Number Crunching"},{from:"type",name:"PositiveNumber Multiply (*)",value:Po.TYPE_NUMBER_MULTIPLY,group:"Number Crunching"},{from:"type",name:"PositiveNumber Devide (/)",value:Po.TYPE_NUMBER_DEVIDE,group:"Number Crunching"},{from:"type",name:"PositiveNumber Mod (%)",value:Po.TYPE_NUMBER_MOD,group:"Number Crunching"}];static CommonOptions=e=>Qo.CmdFilter(e).map((e=>({from:"query",name:e[1],value:e[2],group:Bo(e[0])})));static AllOptions=()=>[...Ko.map((e=>({from:"query",name:e[1],value:e[2],group:Bo(e[0])}))),...Qo.Crunchings,...Qo.Logics(),Qo.Signer,Qo.Time,Qo.Guard];static StringOptions=()=>[...Qo.CmdFilter(Ao.TYPE_STRING)].map((e=>({from:"query",name:e[1],value:e[2],group:Bo(e[0])})));static BoolOptions=()=>[...Qo.BoolCmd.map((e=>({from:"query",name:e[1],value:e[2],group:Bo(e[0])}))),...Qo.Logics()];static AddressOptions=()=>{const e=Ko.filter((e=>e[4]===Ao.TYPE_ADDRESS)).map((e=>({from:"query",name:e[1],value:e[2],group:Bo(e[0])})));return e.push(Qo.Signer),e.push(Qo.Guard),[...e]};static Options=e=>{if("number"===e)return Qo.NumberOptions();if("any"===e)return Qo.AllOptions();switch(e){case Ao.TYPE_BOOL:return Qo.BoolOptions();case Ao.TYPE_STRING:return Qo.StringOptions()}return Qo.CommonOptions(e)}}const Zo=e=>co(e)&&0!==e;class ec{data=[];type_validator=[];constant=new Map;static _witness_index=1;static _const_index=255;static GetWitnessIndex(){return this._witness_index>=this._const_index&&Ba(wa.Fail,"too many witness"),ec._witness_index++}static getConstIndex(){return this._const_index<=this._witness_index&&Ba(wa.Fail,"too many const"),ec._const_index--}static IsValidIndentifier=e=>!(!co(e)||e<1);constructor(){}add_constant(e,t,r,s=!0){return void 0===r&&(r=void 0===t?ec.GetWitnessIndex():ec.getConstIndex()),this.constant.get(r)||(s&&void 0!==t&&(t=za.getInstance().ser(e,t)),this.constant.set(r,{type:e,value:void 0===t?void 0:t,bWitness:void 0===t})),r}add_param(e,t){switch(e){case Ao.TYPE_ADDRESS:case Ao.TYPE_BOOL:case Ao.TYPE_U8:case Ao.TYPE_U64:case Ao.TYPE_U128:case Ao.TYPE_U256:case Ao.TYPE_VEC_ADDRESS:case Ao.TYPE_VEC_BOOL:case Ao.TYPE_VEC_U128:case Ao.TYPE_VEC_U64:case Ao.TYPE_VEC_VEC_U8:case Ao.TYPE_OPTION_U64:case Ao.TYPE_OPTION_ADDRESS:case Ao.TYPE_OPTION_BOOL:case Ao.TYPE_OPTION_U128:case Ao.TYPE_OPTION_U256:case Ao.TYPE_OPTION_U8:case Ao.TYPE_VEC_U256:this.data.push(za.getInstance().ser(Ao.TYPE_U8,e)),this.data.push(za.getInstance().ser(e,t)),this.type_validator.push(e);break;case Ao.TYPE_STRING:case Ao.TYPE_VEC_U8:t||Ba(wa.InvalidParam,"param: "+e),this.data.push(za.getInstance().ser(Ao.TYPE_U8,e)),"string"==typeof t?this.data.push(za.getInstance().ser(Ao.TYPE_STRING,t)):this.data.push(za.getInstance().ser(Ao.TYPE_VEC_U8,t)),this.type_validator.push(e);break;case Vo.TYPE_SIGNER:case Vo.TYPE_GUARD:this.data.push(za.getInstance().ser(Ao.TYPE_U8,e)),this.type_validator.push(Ao.TYPE_ADDRESS);break;case Vo.TYPE_CLOCK:this.data.push(za.getInstance().ser(Ao.TYPE_U8,e)),this.type_validator.push(Ao.TYPE_U64);break;case Vo.TYPE_CONSTANT:Zo(t)||Ba(wa.IsValidGuardIdentifier,"add_param param:"+e);var r=this.constant.get(t);r||Ba(wa.Fail,"identifier not in constant:"+t),this.type_validator.push(r.type),this.data.push(za.getInstance().ser(Ao.TYPE_U8,e)),this.data.push(za.getInstance().ser(Ao.TYPE_U8,t));break;default:Ba(wa.InvalidParam,"add_param type:"+e)}return this}add_query(e,t,r){let s=Ko.findIndex((r=>r[0]==e&&r[1]==t));-1==s&&Ba(wa.InvalidParam,"query_name:"+t),"number"==typeof r?ec.IsValidIndentifier(r)||Ba(wa.InvalidParam,"object_address_from:"+t):no(r)||Ba(wa.InvalidParam,"object_address_from:"+t);let i=this.type_validator.length-Ko[s][3].length;i<0&&Ba(wa.InvalidParam,"offset:"+t);let n=this.type_validator.slice(i);if(La(n,Ko[s][3])||Ba(wa.Fail,"array_equal:"+t),this.data.push(za.getInstance().ser(Ao.TYPE_U8,Po.TYPE_QUERY)),"string"==typeof r)this.data.push(za.getInstance().ser(Ao.TYPE_U8,Ao.TYPE_ADDRESS)),this.data.push(za.getInstance().ser(Ao.TYPE_ADDRESS,r));else{let e=this.constant.get(r);e||Ba(wa.Fail,"object_address_from not in constant:"+t),e?.type==Ao.TYPE_ADDRESS?(this.data.push(za.getInstance().ser(Ao.TYPE_U8,Vo.TYPE_CONSTANT)),this.data.push(za.getInstance().ser(Ao.TYPE_U8,r))):Ba(wa.Fail,"type bWitness not match:"+t)}return this.data.push(za.getInstance().ser("u16",Ko[s][2])),this.type_validator.splice(i,Ko[s][3].length),this.type_validator.push(Ko[s][4]),this}add_logic(e,t=2){var r=So.find((t=>t[0]===e));r&&(r=r[1]);let s,i=2,n=Ao.TYPE_BOOL;switch(e){case Po.TYPE_LOGIC_AS_U256_GREATER:case Po.TYPE_LOGIC_AS_U256_GREATER_EQUAL:case Po.TYPE_LOGIC_AS_U256_LESSER:case Po.TYPE_LOGIC_AS_U256_LESSER_EQUAL:case Po.TYPE_LOGIC_AS_U256_EQUAL:(!t||t<2)&&Ba(wa.Fail,"logic param invalid:"+r),i=t,this.type_validator.length<i&&Ba(wa.Fail,"type_validator.length:"+r);for(let e=1;e<=i;++e)ec.match_u256(this.type_validator[this.type_validator.length-e])||Ba(wa.Fail,"type_validator check:"+r);break;case Po.TYPE_LOGIC_EQUAL:(!t||t<2)&&Ba(wa.Fail,"logic param invalid:"+r),i=t,this.type_validator.length<i&&Ba(wa.Fail,"type_validator.length:"+r),s=this.type_validator[this.type_validator.length-1];for(let e=2;e<=i;++e)this.type_validator[this.type_validator.length-e]!==s&&Ba(wa.Fail,"type_validator check:"+r);break;case Po.TYPE_LOGIC_HAS_SUBSTRING:(!t||t<2)&&Ba(wa.Fail,"logic param invalid:"+r),i=t,this.type_validator.length<i&&Ba(wa.Fail,"type_validator.length:"+r);for(let e=1;e<=i;++e)this.type_validator[this.type_validator.length-e]!==Ao.TYPE_STRING&&Ba(wa.Fail,"type_validator check:"+r);break;case Po.TYPE_LOGIC_NOT:i=1,this.type_validator.length<i&&Ba(wa.Fail,"type_validator.length:"+r),this.type_validator[this.type_validator.length-1]!=Ao.TYPE_BOOL&&Ba(wa.Fail,"type_validator check:"+r);break;case Po.TYPE_LOGIC_AND:case Po.TYPE_LOGIC_OR:(!t||t<2)&&Ba(wa.Fail,"logic param invalid:"+r),i=t,this.type_validator.length<i&&Ba(wa.Fail,"type_validator.length:"+r);for(let e=1;e<=i;++e)this.type_validator[this.type_validator.length-e]!=Ao.TYPE_BOOL&&Ba(wa.Fail,"type_validator check:"+r);break;case Po.TYPE_NUMBER_ADD:case Po.TYPE_NUMBER_DEVIDE:case Po.TYPE_NUMBER_MULTIPLY:case Po.TYPE_NUMBER_SUBTRACT:case Po.TYPE_NUMBER_MOD:(!t||t<2)&&Ba(wa.Fail,"logic param invalid:"+r),i=t,this.type_validator.length<i&&Ba(wa.Fail,"type_validator.length:"+r);for(let e=1;e<=i;++e)ec.match_u256(this.type_validator[this.type_validator.length-1])||Ba(wa.Fail,"type_validator check:"+r);n=Ao.TYPE_U256;break;default:Ba(wa.InvalidParam,"add_logic type invalid:"+r)}return this.data.push(za.getInstance().ser(Ao.TYPE_U8,e)),ec.is_multi_input_op(e)&&this.data.push(za.getInstance().ser(Ao.TYPE_U8,t)),this.type_validator.splice(this.type_validator.length-i),this.type_validator.push(n),this}hasIdentifier(e){return this.constant.has(e)}build(e=!1){return 1==this.type_validator.length&&this.type_validator[0]==Ao.TYPE_BOOL||Ba(wa.Fail,"type_validator check"),e&&this.add_logic(Po.TYPE_LOGIC_NOT),this.data.push(Ja(Uint8Array,...this.data)),this.data.splice(0,this.data.length-1),this}IsReady(){return 1==this.type_validator.length&&this.type_validator[0]==Ao.TYPE_BOOL&&1==this.data.length}combine(e,t=!0,r=!1){e.IsReady()&&this.IsReady()||Ba(wa.Fail,"both should built yet");let s=new ec;this.constant.forEach(((e,t)=>{s.constant.set(t,{type:e.type,value:e.value,bWitness:e.bWitness})})),e.constant.forEach(((e,t)=>{s.constant.has(t)&&!r&&Ba(wa.Fail,"constant identifier exist"),s.constant.set(t,{type:e.type,value:e.value,bWitness:e.bWitness})}));let i=t?Po.TYPE_LOGIC_AND:Po.TYPE_LOGIC_OR;return s.data.push(Ja(Uint8Array,...this.data,...e.data,za.getInstance().ser(Ao.TYPE_U8,i),za.getInstance().ser(Ao.TYPE_U8,2))),this.data.splice(0,this.data.length-1),s.type_validator=this.type_validator,s}get_constant(){return this.constant}get_input(){return this.data}static input_combine(e,t,r=!0){let s=r?Po.TYPE_LOGIC_AND:Po.TYPE_LOGIC_OR;return Ja(Uint8Array,e,t,za.getInstance().ser(Ao.TYPE_U8,s),za.getInstance().ser(Ao.TYPE_U8,2))}static input_not(e){return Ja(Uint8Array,e,za.getInstance().ser(Ao.TYPE_U8,Po.TYPE_LOGIC_NOT))}static match_u256(e){return e==Ao.TYPE_U8||e==Ao.TYPE_U64||e==Ao.TYPE_U128||e==Ao.TYPE_U256}static is_multi_input_op(e){return e===Po.TYPE_LOGIC_AS_U256_GREATER||e===Po.TYPE_LOGIC_AS_U256_GREATER_EQUAL||e===Po.TYPE_LOGIC_AS_U256_LESSER||e===Po.TYPE_LOGIC_AS_U256_LESSER||e===Po.TYPE_LOGIC_AS_U256_LESSER_EQUAL||e===Po.TYPE_LOGIC_AS_U256_EQUAL||e===Po.TYPE_LOGIC_EQUAL||e===Po.TYPE_LOGIC_HAS_SUBSTRING||e===Po.TYPE_LOGIC_AND||e===Po.TYPE_LOGIC_OR||e===Po.TYPE_NUMBER_ADD||e===Po.TYPE_NUMBER_DEVIDE||e===Po.TYPE_NUMBER_MULTIPLY||e===Po.TYPE_NUMBER_SUBTRACT||e===Po.TYPE_NUMBER_MOD}}var tc,rc,sc,ic,nc,ac,oc;!function(e){e[e.POLICY_MODE_FREE=0]="POLICY_MODE_FREE",e[e.POLICY_MODE_STRICT=1]="POLICY_MODE_STRICT"}(tc||(tc={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.WOWOK_GRANTEE=1]="WOWOK_GRANTEE",e[e.WOWOK_ORACLE=2]="WOWOK_ORACLE"}(rc||(rc={}));class cc{permission;object;txb;get_object(){return this.object}constructor(e,t){this.txb=e,this.permission=t,this.object=""}static From(e,t,r){let s=new cc(e,t);return s.object=Lo.TXB_OBJECT(e,r),s}static New(e,t,r,s=tc.POLICY_MODE_FREE,i){Lo.IsValidObjects([t])||Ba(wa.IsValidObjects,"permission"),to(r)||Ba(wa.IsValidDesription);let n=new cc(e,t);return n.object=i?e.moveCall({target:Lo.Instance().repositoryFn("new_with_passport"),arguments:[i,e.pure.string(r),e.pure.u8(s),Lo.TXB_OBJECT(e,t)]}):e.moveCall({target:Lo.Instance().repositoryFn("new"),arguments:[e.pure.string(r),e.pure.u8(s),Lo.TXB_OBJECT(e,t)]}),n}launch(){return this.txb.moveCall({target:Lo.Instance().repositoryFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}add_data(e){cc.IsValidName(e.key)||Ba(wa.IsValidName,"add_data");let t=!0;e.data.forEach((e=>{no(e.address)||(t=!1),cc.IsValidValue(e.bcsBytes)||(t=!1)})),t||Ba(wa.InvalidParam,"add_data"),void 0!==e?.value_type?e.data.forEach((t=>this.txb.moveCall({target:Lo.Instance().repositoryFn("add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(t.address),this.txb.pure.string(e.key),this.txb.pure.u8(e.value_type),this.txb.pure.vector("u8",[...t.bcsBytes]),Lo.TXB_OBJECT(this.txb,this.permission)]}))):e.data.forEach((t=>this.txb.moveCall({target:Lo.Instance().repositoryFn("add_typed_data"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(t.address),this.txb.pure.string(e.key),this.txb.pure.vector("u8",[...t.bcsBytes]),Lo.TXB_OBJECT(this.txb,this.permission)]})))}add_data2(e){no(e.address)||Ba(wa.IsValidAddress,"add_data2");let t=!0;e.data.forEach((e=>{cc.IsValidName(e.key)||(t=!1),cc.IsValidValue(e.bcsBytes)||(t=!1)})),t||Ba(wa.InvalidParam,"add_data2"),void 0!==e?.value_type?e.data.forEach((t=>this.txb.moveCall({target:Lo.Instance().repositoryFn("add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e.address),this.txb.pure.string(t.key),this.txb.pure.u8(e.value_type),this.txb.pure.vector("u8",[...t.bcsBytes]),Lo.TXB_OBJECT(this.txb,this.permission)]}))):e.data.forEach((t=>this.txb.moveCall({target:Lo.Instance().repositoryFn("add_typed_data"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e.address),this.txb.pure.string(t.key),this.txb.pure.vector("u8",[...t.bcsBytes]),Lo.TXB_OBJECT(this.txb,this.permission)]})))}remove(e,t){cc.IsValidName(t)||Ba(wa.IsValidName),no(e)||Ba(wa.IsValidAddress),this.txb.moveCall({target:Lo.Instance().repositoryFn("remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]})}add_reference(e,t){0!==e.length&&(go(e,no)||Ba(wa.IsValidArray,"add_reference"),t?this.txb.moveCall({target:Lo.Instance().repositoryFn("reference_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("reference_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}))}remove_reference(e,t,r){(0!==e.length||t)&&(go(e,no)||Ba(wa.IsValidArray,"remove_reference"),t?r?this.txb.moveCall({target:Lo.Instance().repositoryFn("reference_removeall_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("reference_removeall"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):r?this.txb.moveCall({target:Lo.Instance().repositoryFn("reference_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("reference_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}))}add_policies(e,t){if(0===e.length)return;let r=!0;e.forEach((e=>{to(e.description)&&cc.IsValidName(e.key)||(r=!1)})),r||Ba(wa.InvalidParam,"policies"),e.forEach((e=>{let r=this.txb.pure.option("u64",e?.permissionIndex?e?.permissionIndex:void 0);t?this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e.key),this.txb.pure.string(e.description),r,this.txb.pure.u8(e.dataType),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e.key),this.txb.pure.string(e.description),r,this.txb.pure.u8(e.dataType),Lo.TXB_OBJECT(this.txb,this.permission)]})}))}remove_policies(e,t,r){0!==e.length&&(go(e,cc.IsValidName)||Ba(wa.InvalidParam,"policy_keys"),r?t?this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_removeall_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}):t?this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_removeall"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)]}))}rename_policy(e,t,r){ro(e)&&ro(t)||Ba(wa.IsValidName,"change_policy"),r?this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_rename_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_rename"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]})}set_description(e,t){to(e)||Ba(wa.IsValidDesription),t?this.txb.moveCall({target:Lo.Instance().repositoryFn("description_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)]})}set_policy_mode(e,t){t?this.txb.moveCall({target:Lo.Instance().repositoryFn("mode_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u8(e),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("mode_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u8(e),Lo.TXB_OBJECT(this.txb,this.permission)]})}set_policy_description(e,t,r){cc.IsValidName(e)||Ba(wa.IsValidName,"policy"),to(t)||Ba(wa.IsValidDesription),r?this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_description_set_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.string(t),Lo.TXB_OBJECT(this.txb,this.permission)]})}set_policy_permission(e,t,r){cc.IsValidName(e)||Ba(wa.IsValidName,"policy");let s=this.txb.pure.option("u64",void 0);void 0!==t&&(Wo.IsValidPermissionIndex(t)||Ba(wa.IsValidPermissionIndex),s=this.txb.pure.option("u64",t)),r?this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_permission_set_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),s,Lo.TXB_OBJECT(this.txb,this.permission)]}):this.txb.moveCall({target:Lo.Instance().repositoryFn("policy_permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),s,Lo.TXB_OBJECT(this.txb,this.permission)]})}change_permission(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects),this.txb.moveCall({target:Lo.Instance().repositoryFn("permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[]}),this.permission=e}static MAX_POLICY_COUNT=120;static MAX_KEY_LENGTH=128;static MAX_VALUE_LENGTH=204800;static MAX_REFERENCE_COUNT=100;static IsValidName=e=>e.length<=cc.MAX_KEY_LENGTH&&0!=e.length;static IsValidValue=e=>e.length<cc.MAX_VALUE_LENGTH;static rpc_de_data(e){const t=e?.map((e=>{const t=new Uint8Array(e?.data?.content?.fields?.value),r=t?.length>0?t[0]:null;var s=t.length>0?t.slice(1):Uint8Array.from([]);return r===Ao.TYPE_STRING?(s=za.getInstance().de(Ao.TYPE_VEC_U8,s),s=(new TextDecoder).decode(Uint8Array.from(s))):r===Ao.TYPE_VEC_STRING?s=(s=za.getInstance().de(Ao.TYPE_VEC_VEC_U8,s)).map((e=>(new TextDecoder).decode(Uint8Array.from(e)))):(s=za.getInstance().de(t[0],s),r===Ao.TYPE_ADDRESS?s="0x"+s:r===Ao.TYPE_VEC_ADDRESS?s=s.map((e=>"0x"+e)):r===Ao.TYPE_BOOL&&(s=s?"True":"False")),{object:e?.data?.content?.fields?.id?.id,id:e?.data?.content?.fields?.name?.fields?.id,name:e?.data?.content?.fields?.name?.fields?.key,data:s,dataType:ja(r)}}));return t}static DataType2ValueType(e){try{const t=BigInt(e);if(Ao.TYPE_U8,t<=Ia);else if(t<=Ca)Ao.TYPE_U64;else if(t<=Pa)Ao.TYPE_U128;else{if(!(t<=Sa))return;Ao.TYPE_U256}}catch(e){console.log(e)}}static ResolveRepositoryData=(e,t)=>{if(e===jo.String)return{type:Ao.TYPE_STRING,data:za.getInstance().ser(Ao.TYPE_VEC_U8,(new TextEncoder).encode(t.toString()))};if(e===jo.PositiveNumber){const e=cc.DataType2ValueType(t);if(!e)return;return{type:e,data:za.getInstance().ser(e,t)}}if(e===jo.Address){if(!no(t))return;return{type:Ao.TYPE_ADDRESS,data:za.getInstance().ser(Ao.TYPE_ADDRESS,t)}}if(e===jo.Address_Vec){for(let e=0;e<t.length;++e)if(!no(t[e]))return;return{type:Ao.TYPE_VEC_ADDRESS,data:za.getInstance().ser(Ao.TYPE_VEC_ADDRESS,t)}}if(e===jo.PositiveNumber_Vec){let e=Ao.TYPE_U8;for(let r=0;r<t.length;++r){const r=cc.DataType2ValueType(t);if(!r)return;r>e&&(e=r)}return e=e===Ao.TYPE_U8?Ao.TYPE_VEC_U8:e===Ao.TYPE_U64?Ao.TYPE_VEC_U64:e===Ao.TYPE_U128?Ao.TYPE_VEC_U128:Ao.TYPE_VEC_U256,{type:e,data:za.getInstance().ser(e,t)}}if(e===jo.String_Vec){const e=t.map((e=>(new TextEncoder).encode(e)));return{type:Ao.TYPE_VEC_STRING,data:za.getInstance().ser(Ao.TYPE_VEC_VEC_U8,e)}}if(e===jo.Bool){if("boolean"!=typeof t)return;return{type:Ao.TYPE_BOOL,data:za.getInstance().ser(Ao.TYPE_BOOL,t)}}}}class dc{guard_list=[];guards;constructor(e){this.guards=e}guardlist=()=>this.guard_list;static DeGuardObject_FromData=(e,t)=>{let r=dc.parse_constant(e),s=dc.parse_bcs(r,t);s&&0!=s.length||Ba(wa.Fail,"GuardObject: data parsed error");let i=[];return s.forEach((e=>{dc.ResolveData(r,i,{...e,child:[]})})),1!=i.length&&Ba(wa.Fail,"GuardObject: parse error"),{object:i.pop(),constant:r}};static DeGuardObject=async(e,t)=>{no(t)||Ba(wa.IsValidAddress,"GuardObject guard");let r=await e.query_raw([t]);0!=r.length&&r[0].data&&r[0].data?.objectId==t||Ba(wa.Fail,"GuardObject query error");let s=r[0].data.content;return s?.type!=e.package("base")+"::guard::Guard"&&Ba(wa.Fail,"GuardObject object invalid"),dc.DeGuardObject_FromData(s.fields.constants,s.fields.input.fields.bytes)};static ResolveData=(e,t,r)=>{switch(r.type){case Po.TYPE_LOGIC_NOT:r.ret_type=Ao.TYPE_BOOL,t.length<1&&Ba(wa.Fail,"ResolveData: TYPE_LOGIC_NOT");let n=t.pop();return n.ret_type&&n.ret_type==Ao.TYPE_BOOL||Ba(wa.Fail,"ResolveData: TYPE_LOGIC_NOT type invalid"),r.child.push(n),void t.push(r);case Po.TYPE_LOGIC_AS_U256_GREATER:case Po.TYPE_LOGIC_AS_U256_GREATER_EQUAL:case Po.TYPE_LOGIC_AS_U256_LESSER:case Po.TYPE_LOGIC_AS_U256_LESSER_EQUAL:case Po.TYPE_LOGIC_AS_U256_EQUAL:case Po.TYPE_NUMBER_ADD:case Po.TYPE_NUMBER_DEVIDE:case Po.TYPE_NUMBER_MOD:case Po.TYPE_NUMBER_MULTIPLY:case Po.TYPE_NUMBER_SUBTRACT:r.type===Po.TYPE_LOGIC_AS_U256_GREATER||r.type===Po.TYPE_LOGIC_AS_U256_GREATER_EQUAL||r.type===Po.TYPE_LOGIC_AS_U256_LESSER||r.type===Po.TYPE_LOGIC_AS_U256_LESSER_EQUAL||r.type===Po.TYPE_LOGIC_AS_U256_EQUAL?r.ret_type=Ao.TYPE_BOOL:r.ret_type=Ao.TYPE_U256,(t.length<r.value||r.value<2)&&Ba(wa.Fail,"ResolveData: "+r.type);for(let e=0;e<r.value;++e)(i=t.pop()).ret_type&&ec.match_u256(i.ret_type)||Ba(wa.Fail,"ResolveData: "+r.type+" INVALID param type"),r.child.push(i);return void t.push(r);case Po.TYPE_LOGIC_EQUAL:r.ret_type=Ao.TYPE_BOOL,(t.length<r.value||r.value<2)&&Ba(wa.Fail,"ResolveData: "+r.type);var s=t.pop();r.child.push(s);for(let e=1;e<r.value;++e)(i=t.pop()).ret_type&&i.ret_type==s.ret_type||Ba(wa.Fail,"ResolveData: "+r.type+" INVALID param type"),r.child.push(i);return void t.push(r);case Po.TYPE_LOGIC_HAS_SUBSTRING:r.ret_type=Ao.TYPE_BOOL,(t.length<r.value||r.value<2)&&Ba(wa.Fail,"ResolveData: "+r.type);for(let e=0;e<r.value;++e)(i=t.pop()).ret_type&&i.ret_type==Ao.TYPE_STRING||Ba(wa.Fail,"ResolveData: "+r.type+" INVALID param type"),r.child.push(i);return void t.push(r);case Po.TYPE_LOGIC_AND:case Po.TYPE_LOGIC_OR:r.ret_type=Ao.TYPE_BOOL,(t.length<r.value||r.value<2)&&Ba(wa.Fail,"ResolveData: "+r.type);for(let e=0;e<r.value;++e){var i;(i=t.pop()).ret_type&&i.ret_type==Ao.TYPE_BOOL||Ba(wa.Fail,"ResolveData: "+r.type+" INVALID param type"),r.child.push(i)}return void t.push(r);case Po.TYPE_QUERY:r?.cmd||Ba(wa.Fail,"OperateParamCount: cmd invalid "+r.type);let a=Qo.GetCmd(r.cmd);return a||Ba(wa.Fail,"OperateParamCount: cmd not supported "+r.type),r.ret_type=a[4],t.length<a[3].length&&Ba(wa.Fail,"OperateParamCount: cmd param lost "+r.type),a[3].forEach((e=>{let s=t.pop();s?.ret_type&&s.ret_type==e||Ba(wa.Fail,"OperateParamCount: cmd param not match "+r.type),r.child.push(s)})),void t.push(r);case Ao.TYPE_ADDRESS:case Ao.TYPE_BOOL:case Ao.TYPE_U128:case Ao.TYPE_U256:case Ao.TYPE_U64:case Ao.TYPE_U8:case Ao.TYPE_VEC_ADDRESS:case Ao.TYPE_VEC_BOOL:case Ao.TYPE_VEC_U128:case Ao.TYPE_VEC_U256:case Ao.TYPE_VEC_U64:case Ao.TYPE_VEC_U8:case Ao.TYPE_VEC_VEC_U8:case Ao.TYPE_OPTION_ADDRESS:case Ao.TYPE_OPTION_BOOL:case Ao.TYPE_OPTION_U128:case Ao.TYPE_OPTION_U256:case Ao.TYPE_OPTION_U64:case Ao.TYPE_OPTION_U8:case Ao.TYPE_STRING:return r.ret_type=r.type,void t.push(r);case Vo.TYPE_CLOCK:return r.ret_type=Ao.TYPE_U64,void t.push(r);case Vo.TYPE_SIGNER:case Vo.TYPE_GUARD:return r.ret_type=Ao.TYPE_ADDRESS,void t.push(r);case Vo.TYPE_CONSTANT:let o=e.find((e=>e.identifier==r?.identifier));return o||Ba(wa.Fail,"OperateParamCount: identifier  invalid "+r.type),r.ret_type=o?.type,void t.push(r)}Ba(wa.Fail,"OperateParamCount: type  invalid "+r.type)};static Parse_Guard_Helper(e,t){const r=Lo.Instance(),s=new dc(e);return t.forEach((e=>{const t=e.data?.content;if(t||Ba(wa.Fail,"Parse_Guard_Helper invalid content"),-1===r.WOWOK_OBJECTS_TYPE().findIndex((e=>e.includes("guard::Guard")&&e==t.type))&&Ba(wa.Fail,"Parse_Guard_Helper invalid type: "+t.type),t.fields.input.type===r.package("base")+"::bcs::BCS"){const r=dc.parse_constant(t.fields.constants),i=dc.parse_bcs(r,Uint8Array.from(t.fields.input.fields.bytes));s.guard_list.push({id:t.fields.id.id,input:[...i],constant:[...r],digest:e.data?.digest??"",version:e.data?.version??""})}else Ba(wa.Fail,"Parse_Guard_Helper invalid package: "+t.fields.input.type)})),s}static Create=async(e,t)=>{if(!go(e,no))return void(t&&t(void 0));let r=Ma(e);if(!t){const t=await Lo.Instance().query_raw(r);return dc.Parse_Guard_Helper(e,t)}Lo.Instance().query_raw(r).then((r=>{t(dc.Parse_Guard_Helper(e,r))})).catch((e=>{console.log(e),t(void 0)}))};future_fills=()=>{const e=[];return this.guard_list.forEach((t=>{t.constant.filter((e=>e.bWitness)).forEach((r=>{const s=t.input.filter((e=>e.identifier===r.identifier&&void 0!==e.cmd)).map((e=>e.cmd));let i=0;t.input.forEach((e=>{e.identifier===r.identifier&&i++})),e.push({guard:t.id,witness:void 0,identifier:r.identifier,type:r.type,cmd:s??[],cited:i})}))})),e};static parse_constant=e=>{let t=[];return e.forEach((e=>{let r=e?.fields??e;const s=Uint8Array.from(r.value),i=s.slice(0,1)[0];if(r.bWitness)t.push({identifier:r.identifier,type:i,bWitness:r.bWitness,value:void 0});else{var n=s.slice(1);switch(i){case Ao.TYPE_ADDRESS:n="0x"+za.getInstance().de(Ao.TYPE_ADDRESS,Uint8Array.from(n)).toString();break;case Ao.TYPE_BOOL:case Ao.TYPE_U8:case Ao.TYPE_U64:case Ao.TYPE_U128:case Ao.TYPE_U256:case Ao.TYPE_VEC_U8:case Ao.TYPE_VEC_U64:case Ao.TYPE_VEC_U128:case Ao.TYPE_VEC_ADDRESS:case Ao.TYPE_VEC_BOOL:case Ao.TYPE_VEC_VEC_U8:case Ao.TYPE_OPTION_ADDRESS:case Ao.TYPE_OPTION_BOOL:case Ao.TYPE_OPTION_U128:case Ao.TYPE_OPTION_U8:case Ao.TYPE_OPTION_U64:case Ao.TYPE_OPTION_U256:case Ao.TYPE_VEC_U256:case Ao.TYPE_STRING:case Ao.TYPE_OPTION_STRING:case Ao.TYPE_OPTION_VEC_U8:case Ao.TYPE_VEC_STRING:Xo.find((e=>e.type==i))||Ba(wa.Fail,"GuardObject de error"),n=za.getInstance().de(i,Uint8Array.from(n));break;default:Ba(wa.Fail,"GuardObject constant type invalid:"+i)}t.push({identifier:r.identifier,type:i,bWitness:r.bWitness,value:n})}})),t};static parse_bcs=(e,t)=>{let r=Uint8Array.from(t),s=[].slice.call(r.reverse()),i=[];for(;s.length>0;){let t,r,n,a=s.shift();switch(a){case Vo.TYPE_SIGNER:case Vo.TYPE_CLOCK:case Vo.TYPE_GUARD:case Po.TYPE_LOGIC_NOT:break;case Po.TYPE_LOGIC_AS_U256_GREATER:case Po.TYPE_LOGIC_AS_U256_GREATER_EQUAL:case Po.TYPE_LOGIC_AS_U256_LESSER:case Po.TYPE_LOGIC_AS_U256_LESSER_EQUAL:case Po.TYPE_LOGIC_AS_U256_EQUAL:case Po.TYPE_LOGIC_EQUAL:case Po.TYPE_LOGIC_HAS_SUBSTRING:case Po.TYPE_NUMBER_ADD:case Po.TYPE_NUMBER_DEVIDE:case Po.TYPE_NUMBER_MOD:case Po.TYPE_NUMBER_MULTIPLY:case Po.TYPE_NUMBER_SUBTRACT:case Po.TYPE_LOGIC_AND:case Po.TYPE_LOGIC_OR:t=s.shift();break;case Vo.TYPE_CONSTANT:n=s.shift();break;case Ao.TYPE_ADDRESS:t="0x"+za.getInstance().de(Ao.TYPE_ADDRESS,Uint8Array.from(s)).toString(),s.splice(0,32);break;case Ao.TYPE_BOOL:case Ao.TYPE_U8:t=za.getInstance().de(a,Uint8Array.from(s)),s.shift();break;case Ao.TYPE_U64:t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,8);break;case Ao.TYPE_U128:t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,16);break;case Ao.TYPE_U256:t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,32);break;case Ao.TYPE_VEC_U8:case Ao.TYPE_VEC_BOOL:case Ao.TYPE_STRING:let i=Ya(Uint8Array.from(s));t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,i.value+i.length);break;case Ao.TYPE_VEC_ADDRESS:i=Ya(Uint8Array.from(s)),t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,32*i.value+i.length);break;case Ao.TYPE_VEC_U128:i=Ya(Uint8Array.from(s)),t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,16*i.value+i.length);break;case Ao.TYPE_VEC_U256:i=Ya(Uint8Array.from(s)),t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,32*i.value+i.length);break;case Ao.TYPE_VEC_U64:i=Ya(Uint8Array.from(s)),t=za.getInstance().de(a,Uint8Array.from(s)),s.splice(0,8*i.value+i.length);break;case Ao.TYPE_VEC_VEC_U8:case Ao.TYPE_VEC_STRING:i=Ya(Uint8Array.from(s)),s.splice(0,i.length);let o=[];for(let e=0;e<i.value;e++){let e=Ya(Uint8Array.from(s));o.push(za.getInstance().de(Ao.TYPE_VEC_U8,Uint8Array.from(s))),s.splice(0,e.length+e.value)}t=o;break;case Po.TYPE_QUERY:let c=s.splice(0,1);if(c[0]==Ao.TYPE_ADDRESS){let e="0x"+za.getInstance().de(Ao.TYPE_ADDRESS,Uint8Array.from(s)).toString();s.splice(0,32),t=e,r=za.getInstance().de("u16",Uint8Array.from(s.splice(0,2)))}else if(c[0]==Vo.TYPE_CONSTANT){let t=s.splice(0,1);e.find((e=>e.identifier==t[0]&&e.type==Ao.TYPE_ADDRESS))||Ba(wa.Fail,"GuardObject: indentifier not in  constant"),n=t[0],r=za.getInstance().de("u16",Uint8Array.from(s.splice(0,2)))}else Ba(wa.Fail,"GuardObject: constant type invalid");break;case Ao.TYPE_OPTION_ADDRESS:let d=ka(s,Ao.TYPE_ADDRESS);t=d.value,d.bNone||s.splice(0,32);break;case Ao.TYPE_OPTION_BOOL:d=ka(s,Ao.TYPE_BOOL),t=d.value,d.bNone||s.splice(0,1);break;case Ao.TYPE_OPTION_U8:d=ka(s,Ao.TYPE_U8),t=d.value,d.bNone||s.splice(0,1);break;case Ao.TYPE_OPTION_U128:d=ka(s,Ao.TYPE_U128),t=d.value,d.bNone||s.splice(0,16);break;case Ao.TYPE_OPTION_U256:d=ka(s,Ao.TYPE_U256),t=d.value,d.bNone||s.splice(0,32);break;case Ao.TYPE_OPTION_U64:d=ka(s,Ao.TYPE_U64),t=d.value,d.bNone||s.splice(0,8);break;case Ao.TYPE_OPTION_STRING:d=Ua(s),t=d.value;break;default:Ba(wa.Fail,"GuardObject: parse_bcs types "+a)}i.push({type:a,value:t,cmd:r,identifier:n})}return i};done=async(e,t)=>{let r=[];if(this.guard_list.forEach((t=>{t.constant.forEach((t=>{if(t.bWitness){const r=e?.find((e=>e.identifier===t.identifier));r?t.value=r.witness:Ba(wa.Fail,"done: invalid witness "+t.identifier)}})),t.input.filter((e=>void 0!==e.cmd)).forEach((e=>{if(void 0!==e.identifier){const s=t.constant.find((t=>t.identifier===e.identifier&&t.type===Ao.TYPE_ADDRESS));s&&no(s.value)||Ba(wa.Fail,"done: invalid identifier "+e.identifier),r.push(s.value)}else r.push(e.value)}))})),t)return 0===r.length?void t(this.done_helper([])):void Lo.Instance().query_raw(Ma(r),{showType:!0}).then((e=>{t(this.done_helper(e))})).catch((e=>{console.log(e),t(void 0)}));{let e=[];return r.length>0&&(e=await Lo.Instance().query_raw(Ma(r),{showType:!0})),this.done_helper(e)}};done_helper(e){let t=[],r=[];return this.guard_list.forEach((s=>{r.push(s.id),s.input.filter((e=>void 0!==e.cmd)).forEach((r=>{let i=r.value;i||void 0===r.identifier||(i=s.constant.find((e=>e.identifier==r.identifier))?.value);let n=e.find((e=>e.data?.objectId==i));n||Ba(wa.Fail,"query object not match");let a=this.object_query(n.data);a||Ba(wa.Fail,"query object fail"),t.push(a)}))})),{query:t,info:this.guard_list}}object_query=(e,t="guard_query")=>{for(let r=0;r<Lo.Instance().WOWOK_OBJECTS_TYPE().length;r++)if(e.type.includes(Lo.Instance().WOWOK_OBJECTS_TYPE()[r]))return{target:Lo.Instance().WOWOK_OBJECTS_PREFIX_TYPE()[r]+t,object:ot({objectId:e.objectId,mutable:!1,initialSharedVersion:e.version}),types:$a(e.type),id:e.objectId}}}class uc{static MAX_GUARD_COUNT=8;passport;txb;get_object(){return this.passport}constructor(e,t,r=!1){(0===t.info.length||t.info.length>uc.MAX_GUARD_COUNT)&&Ba(wa.InvalidParam,"guards"),this.txb=e,this.passport=this.txb.moveCall({target:Lo.Instance().passportFn("new"),arguments:[]}),t.info.forEach((t=>{const r=t.constant.filter((e=>e.bWitness)).map((e=>e.identifier)),s=t.constant.filter((e=>e.bWitness)).map((e=>{const t=za.getInstance().ser(e.type,e.value);let r=new Uint8Array(t.length+1);return r.set([e.type],0),r.set(t,1),[].slice.call(r)})),i=void 0!==t.version&&void 0!==t.digest?e.objectRef({objectId:t.id,version:t.version,digest:t.digest}):e.object(t.id);this.txb.moveCall({target:Lo.Instance().passportFn("guard_add"),arguments:[this.passport,i,this.txb.pure.vector("u8",[].slice.call(r)),this.txb.pure(za.getInstance().ser("vector<vector<u8>>",[...s]))]})}));const s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);t?.query.forEach((e=>{this.txb.moveCall({target:Lo.Instance().passportFn("passport_verify"),arguments:[this.passport,this.txb.object(s)]}),this.txb.moveCall({target:e.target,arguments:[r?this.txb.object(e.object):this.txb.object(e.id),this.passport],typeArguments:e.types})})),this.txb.moveCall({target:Lo.Instance().passportFn("passport_verify"),arguments:[this.passport,this.txb.object(s)]})}destroy(){this.txb.moveCall({target:Lo.Instance().passportFn("destroy"),arguments:[this.passport]})}freeze(){this.txb.moveCall({target:Lo.Instance().passportFn("freezen"),arguments:[this.passport]})}query_result(e,t){this.txb.moveCall({target:Lo.Instance().passportFn("query_result"),arguments:[this.passport]}),Lo.Client().devInspectTransactionBlock({sender:e,transactionBlock:this.txb}).then((e=>{const r=uc.ResolveQueryRes(this.txb,e);r&&t(r)})).catch((e=>{console.log(e)}))}query_result_async=async e=>{this.txb.moveCall({target:Lo.Instance().passportFn("query_result"),arguments:[this.passport]});const t=await Lo.Client().devInspectTransactionBlock({sender:e,transactionBlock:this.txb});return uc.ResolveQueryRes(this.txb,t)};static ResolveQueryRes(e,t){for(let r=0;r<t.results?.length;++r){const s=t.results[r];if(s?.returnValues&&2===s.returnValues.length&&"bool"===s.returnValues[0][1]&&"vector<address>"===s.returnValues[1][1])return{txb:e,result:za.getInstance().de("bool",Uint8Array.from(s.returnValues[0][0])),guards:za.getInstance().de("vector<address>",Uint8Array.from(s.returnValues[1][0])).map((e=>"0x"+e))}}}}!function(e){e[e.ratio=0]="ratio",e[e.minus=1]="minus"}(sc||(sc={})),function(e){e.address="address",e.phone="phone",e.name="name",e.postcode="postcode"}(ic||(ic={}));class hc{pay_token_type;permission;object;txb;get_pay_type(){return this.pay_token_type}get_object(){return this.object}constructor(e,t,r){this.pay_token_type=t,this.txb=e,this.permission=r,this.object=""}static From(e,t,r,s){let i=new hc(e,t,r);return i.object=Lo.TXB_OBJECT(e,s),i}static New(e,t,r,s,i,n){Lo.IsValidObjects([r,i])||Ba(wa.IsValidObjects),po(t)||Ba(wa.IsValidTokenType,"New: pay_token_type"),to(s)||Ba(wa.IsValidDesription);let a=t,o=new hc(e,a,r);return o.object=n?e.moveCall({target:Lo.Instance().serviceFn("new_with_passport"),arguments:[n,e.pure.string(s),e.object(i),Lo.TXB_OBJECT(e,r)],typeArguments:[a]}):e.moveCall({target:Lo.Instance().serviceFn("new"),arguments:[e.pure.string(s),e.object(i),Lo.TXB_OBJECT(e,r)],typeArguments:[a]}),o}launch(){return this.txb.moveCall({target:Lo.Instance().serviceFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)],typeArguments:[this.pay_token_type]})}set_description(e,t){to(e)||Ba(wa.IsValidDesription),t?this.txb.moveCall({target:Lo.Instance().serviceFn("description_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_price(e,t,r=!0,s){uo(t)||Ba(wa.IsValidU64,"set_price price"),hc.IsValidItemName(e)||Ba(wa.IsValidServiceItemName,"set_price item"),s?this.txb.moveCall({target:Lo.Instance().serviceFn("price_set_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("price_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_stock(e,t,r=!0,s){hc.IsValidItemName(e)||Ba(wa.IsValidServiceItemName,"item"),uo(t)||Ba(wa.IsValidU64,"stock"),s?this.txb.moveCall({target:Lo.Instance().serviceFn("stock_set_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("stock_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}add_stock(e,t,r=!0,s){hc.IsValidItemName(e)||Ba(wa.IsValidServiceItemName,"add_stock item"),uo(t)||Ba(wa.IsValidUint,"add_stock stock_add"),s?this.txb.moveCall({target:Lo.Instance().serviceFn("stock_add_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("stock_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}reduce_stock(e,t,r=!0,s){hc.IsValidItemName(e)||Ba(wa.IsValidServiceItemName,"reduce_stock item"),uo(t)||Ba(wa.IsValidUint,"reduce_stock stock_reduce"),s?this.txb.moveCall({target:Lo.Instance().serviceFn("stock_reduce_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("stock_reduce"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.pure.u64(t),this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_sale_endpoint(e,t,r=!0,s){hc.IsValidItemName(e)||Ba(wa.IsValidServiceItemName,"set_sale_endpoint item"),t&&!io(t)&&Ba(wa.IsValidEndpoint,"set_sale_endpoint endpoint");let i=this.txb.pure.option("string",t||void 0);s?this.txb.moveCall({target:Lo.Instance().serviceFn("sale_endpoint_set_with_passport"),arguments:[s,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),i,this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("sale_endpoint_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),i,this.txb.pure.bool(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_payee(e,t){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"set_payee"),t?this.txb.moveCall({target:Lo.Instance().serviceFn("payee_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("payee_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}add_repository(e,t){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"repository_add"),t?this.txb.moveCall({target:Lo.Instance().serviceFn("repository_add_with_passport"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("repository_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}remove_repository(e,t,r){(t||0!==e.length)&&(go(e,no)||Ba(wa.IsValidArray,"repository_address"),r?t?this.txb.moveCall({target:Lo.Instance().serviceFn("repository_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("repository_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t?this.txb.moveCall({target:Lo.Instance().serviceFn("repository_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("repository_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}add_arbitration(e,t,r){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"add_arbitration.arbitraion"),po(t)||Ba(wa.IsValidTokenType,"add_arbitration.arbitraion_token_type"),r?this.txb.moveCall({target:Lo.Instance().serviceFn("arbitration_add_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type,t]}):this.txb.moveCall({target:Lo.Instance().serviceFn("arbitration_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type,t]})}remove_arbitration(e,t,r){(t||0!==e.length)&&(go(e,no)||Ba(wa.IsValidArray,"remove_arbitration.address"),r?t?this.txb.moveCall({target:Lo.Instance().serviceFn("arbitration_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("arbitration_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t?this.txb.moveCall({target:Lo.Instance().serviceFn("arbitration_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("arbitration_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}add_withdraw_guards(e,t){if(0===e.length)return;let r=!0;e.forEach((e=>{Lo.IsValidObjects([e.guard])||(r=!1),bo(e.percent)||(r=!1)})),r||Ba(wa.InvalidParam,"guards"),e.forEach((e=>{t?this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_guard_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.guard),this.txb.pure.u8(e.percent),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_guard_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.guard),this.txb.pure.u8(e.percent),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}))}remove_withdraw_guards(e,t,r){(t||0!==e.length)&&(go(e,no)||Ba(wa.IsValidArray,"guard_address"),r?t?this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_guard_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_guard_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t?this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_guard_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_guard_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}add_refund_guards(e,t){if(0===e.length)return;let r=!0;e.forEach((e=>{Lo.IsValidObjects([e.guard])||(r=!1),bo(e.percent)||(r=!1)})),r||Ba(wa.InvalidParam,"guards"),e.forEach((e=>{t?this.txb.moveCall({target:Lo.Instance().serviceFn("refund_guard_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.guard),this.txb.pure.u8(e.percent),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("refund_guard_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.guard),this.txb.pure.u8(e.percent),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}))}remove_refund_guards(e,t,r){(0!==e.length||t)&&(go(e,no)||Ba(wa.InvalidParam,"guard_address"),r?t?this.txb.moveCall({target:Lo.Instance().serviceFn("refund_guard_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("refund_guard_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t?this.txb.moveCall({target:Lo.Instance().serviceFn("refund_guard_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("refund_guard_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}is_valid_sale(e){let t=!0,r=[];return e.forEach((e=>{hc.IsValidItemName(e.item)||(t=!1),uo(e.price)||(t=!1),uo(e.stock)||(t=!1),r.includes(e.item)&&(t=!1),r.push(e.item)})),t}add_sales(e,t=!1,r){if(0===e.length)return;this.is_valid_sale(e)||Ba(wa.InvalidParam,"add_sales");let s=[],i=[],n=[],a=[];e.forEach((e=>{e.endpoint&&!io(e.endpoint)&&Ba(wa.IsValidEndpoint,"add_sales"),s.push(e.item),i.push(e.price),n.push(e.stock),a.push(e.endpoint??"")})),r?this.txb.moveCall({target:Lo.Instance().serviceFn("sales_add_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",s),this.txb.pure.vector("string",a),this.txb.pure.vector("u64",i),this.txb.pure.vector("u64",n),this.txb.pure.bool(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("sales_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",s),this.txb.pure.vector("string",a),this.txb.pure.vector("u64",i),this.txb.pure.vector("u64",n),this.txb.pure.bool(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}remove_sales(e,t){0!==e.length&&(go(e,hc.IsValidItemName)||Ba(wa.IsValidArray,"remove_sales"),t?this.txb.moveCall({target:Lo.Instance().serviceFn("sales_remove_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("sales_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",Ma(e)),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}discount_transfer(e,t){(!e||e.length>hc.MAX_DISCOUNT_RECEIVER_COUNT)&&Ba(wa.InvalidParam,"discount_dispatch");let r=!0;e.forEach((e=>{no(e.receiver)||(r=!1),(!uo(e.count)||e.count>hc.MAX_DISCOUNT_COUNT_ONCE)&&(r=!1),so(e.discount.name)||(r=!1),e.discount.type!=sc.ratio||bo(e.discount.off)||(r=!1),uo(e.discount.duration_minutes)||(r=!1),e.discount?.time_start&&!uo(e.discount.time_start)&&(r=!1),e.discount?.price_greater&&!uo(e.discount.price_greater)&&(r=!1)})),r||Ba(wa.InvalidParam,"discount_dispatch");const s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);e.forEach((e=>{let r=this.txb.pure.option("u64",e.discount?.price_greater?e.discount?.price_greater:void 0),i=this.txb.pure.option("u64",e.discount?.time_start?e.discount?.time_start:void 0);t?this.txb.moveCall({target:Lo.Instance().serviceFn("dicscount_create_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e.discount.name),this.txb.pure.u8(e.discount.type),this.txb.pure.u64(e.discount.off),r,i,this.txb.pure.u64(e.discount.duration_minutes),this.txb.pure.u64(e.count),Lo.TXB_OBJECT(this.txb,this.permission),this.txb.pure.address(e.receiver),this.txb.object(s)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("dicscount_create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e.discount.name),this.txb.pure.u8(e.discount.type),this.txb.pure.u64(e.discount.off),r,i,this.txb.pure.u64(e.discount.duration_minutes),this.txb.pure.u64(e.count),Lo.TXB_OBJECT(this.txb,this.permission),this.txb.pure.address(e.receiver),this.txb.object(s)],typeArguments:[this.pay_token_type]})}))}withdraw(e,t,r){Lo.IsValidObjects([e,t.treasury,t.withdraw_guard,r])||Ba(wa.IsValidObjects),t?.for_guard&&!Lo.IsValidObjects([t.for_guard])&&Ba(wa.IsValidObjects,"withdraw.param.for_guard"),t?.for_object&&!no(t.for_object)&&Ba(wa.IsValidAddress,"withdraw.param.for_object"),uo(t.index)||Ba(wa.IsValidU64,"withdraw.param.index"),to(t.remark)||Ba(wa.IsValidDesription,"withdraw.param.remark");const s=this.txb.pure.option("address",t.for_object?t.for_object:void 0),i=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return t.for_guard?this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_forGuard_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.object(t.withdraw_guard),this.txb.object(t.treasury),s,this.txb.object(t.for_guard),this.txb.pure.u64(t.index),this.txb.pure.string(t.remark),this.txb.object(i),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("withdraw_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.object(t.withdraw_guard),this.txb.object(t.treasury),s,this.txb.pure.u64(t.index),this.txb.pure.string(t.remark),this.txb.object(i),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_buy_guard(e,t){t?e?this.txb.moveCall({target:Lo.Instance().serviceFn("buy_guard_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("buy_guard_none_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):e?this.txb.moveCall({target:Lo.Instance().serviceFn("buy_guard_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("buy_guard_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_machine(e,t){t?e?this.txb.moveCall({target:Lo.Instance().serviceFn("machine_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("machine_none_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):e?this.txb.moveCall({target:Lo.Instance().serviceFn("machine_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("machine_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_endpoint(e,t){e&&!io(e)&&Ba(wa.IsValidEndpoint);let r=this.txb.pure.option("string",e||void 0);t?this.txb.moveCall({target:Lo.Instance().serviceFn("endpoint_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),r,Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("endpoint_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),r,Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}publish(e){e?this.txb.moveCall({target:Lo.Instance().serviceFn("publish_with_passport"),arguments:[e,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("publish"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}clone(e,t,r){let s;return s=r?this.txb.moveCall({target:Lo.Instance().serviceFn("clone_withpassport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type,e||this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("clone"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type,e||this.pay_token_type]}),t?this.txb.moveCall({target:Lo.Instance().serviceFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,s)],typeArguments:[e||this.pay_token_type]}):s}set_customer_required(e,t,r){t.length>0&&!e&&Ba(wa.InvalidParam,"set_customer_required"),e.length>hc.MAX_PUBKEY_SIZE&&Ba(wa.InvalidParam,"set_customer_required.pubkey"),t.length>hc.MAX_REQUIRES_COUNT&&Ba(wa.InvalidParam,"set_customer_required.customer_required"),go(t,ro)||Ba(wa.IsValidArray,"set_customer_required.customer_required");let s=Ma(t);r?this.txb.moveCall({target:Lo.Instance().serviceFn("required_set_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",s),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("required_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",s),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}remove_customer_required(e){e?this.txb.moveCall({target:Lo.Instance().serviceFn("required_none_with_passport"),arguments:[e,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("required_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}change_required_pubkey(e,t){e||Ba(wa.InvalidParam,"pubkey"),t?this.txb.moveCall({target:Lo.Instance().serviceFn("required_pubkey_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("required_pubkey_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}pause(e,t){t?this.txb.moveCall({target:Lo.Instance().serviceFn("pause_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("pause"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}refund_withArb(e,t,r){Lo.IsValidObjects([e,t])||Ba(wa.IsValidObjects,"refund_withArb.order or arb"),po(r)||Ba(wa.IsValidTokenType,"refund_withArb.arb_type");const s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);this.txb.moveCall({target:Lo.Instance().serviceFn("refund_with_arb"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.object(t),this.txb.object(s)],typeArguments:[this.pay_token_type,r]})}refund(e,t,r){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"refund.order"),t&&!Lo.IsValidObjects([t])&&Ba(wa.IsValidObjects,"refund.refund_guard"),r&&!t&&Ba(wa.InvalidParam,"refund.passport need refund_guard");const s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);r&&t?this.txb.moveCall({target:Lo.Instance().serviceFn("refund_with_passport"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.object(t),r,this.txb.object(s)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("refund"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[this.pay_token_type]})}update_order_required_info(e,t){t.customer_pubkey&&0!==t.customer_info_crypt.length&&(Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"update_order_required_info.order"),this.txb.moveCall({target:Lo.Instance().serviceFn("order_required_info_update"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),this.txb.pure.string(t.customer_pubkey),this.txb.pure.string(t.customer_info_crypt)],typeArguments:[this.pay_token_type]}))}buy(e,t,r,s,i,n){e||Ba(wa.InvalidParam,"buy_items");let a=!0,o=[];e.forEach((e=>{hc.IsValidItemName(e.item)||(a=!1),uo(e.max_price)||(a=!1),uo(e.count)||(a=!1),o.includes(e.item)&&(a=!1),o.push(e.item)})),a||Ba(wa.InvalidParam,"buy_items invalid");let c,d=[],u=[],h=[];e.forEach((e=>{d.push(e.item),u.push(BigInt(e.max_price)),h.push(BigInt(e.count))}));const l=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return c=n?r?this.txb.moveCall({target:Lo.Instance().serviceFn("dicount_buy_with_passport"),arguments:[n,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",d),this.txb.pure.vector("u64",u),this.txb.pure.vector("u64",h),Lo.TXB_OBJECT(this.txb,t),Lo.TXB_OBJECT(this.txb,r),this.txb.object(l)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("buy_with_passport"),arguments:[n,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",d),this.txb.pure.vector("u64",u),this.txb.pure.vector("u64",h),Lo.TXB_OBJECT(this.txb,t)],typeArguments:[this.pay_token_type]}):r?this.txb.moveCall({target:Lo.Instance().serviceFn("disoucnt_buy"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",d),this.txb.pure.vector("u64",u),this.txb.pure.vector("u64",h),Lo.TXB_OBJECT(this.txb,t),Lo.TXB_OBJECT(this.txb,r),this.txb.object(l)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("buy"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("string",d),this.txb.pure.vector("u64",u),this.txb.pure.vector("u64",h),Lo.TXB_OBJECT(this.txb,t)],typeArguments:[this.pay_token_type]}),i&&this.update_order_required_info(c,i),s?this.txb.moveCall({target:Lo.Instance().serviceFn("order_create_with_machine"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,c),Lo.TXB_OBJECT(this.txb,s)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("order_create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,c)],typeArguments:[this.pay_token_type]})}order_bind_machine(e,t){Lo.IsValidObjects([e,t])||Ba(wa.IsValidObjects,"order & machine"),this.txb.moveCall({target:Lo.Instance().serviceFn("order_create_with_machine"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e),Lo.TXB_OBJECT(this.txb,t)],typeArguments:[this.pay_token_type]})}add_treasury(e,t,r){Lo.IsValidObjects([t])||Ba(wa.IsValidObjects,"add_treasury.treasury"),po(e)||Ba(wa.IsValidTokenType,"add_treasury.treasury_token_type"),r?this.txb.moveCall({target:Lo.Instance().serviceFn("treasury_add_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type,e]}):this.txb.moveCall({target:Lo.Instance().serviceFn("treasury_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type,e]})}remove_treasury(e,t,r){(t||0!==e.length)&&(r?t?this.txb.moveCall({target:Lo.Instance().serviceFn("treasury_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("treasury_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t?this.txb.moveCall({target:Lo.Instance().serviceFn("treasury_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().serviceFn("treasury_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}change_permission(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects),this.txb.moveCall({target:Lo.Instance().serviceFn("permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[this.pay_token_type]}),this.permission=e}set_order_agent(e,t,r){hc.SetOrderAgent(this.txb,this.pay_token_type,e,t,r)}change_order_payer(e,t){hc.ChangeOrderPayer(this.txb,this.pay_token_type,e,t)}static MAX_DISCOUNT_COUNT_ONCE=200;static MAX_DISCOUNT_RECEIVER_COUNT=20;static MAX_GUARD_COUNT=16;static MAX_REPOSITORY_COUNT=32;static MAX_ITEM_NAME_LENGTH=256;static MAX_TREASURY_COUNT=8;static MAX_ORDER_AGENT_COUNT=8;static MAX_ORDER_ARBS_COUNT=8;static MAX_ARBITRATION_COUNT=8;static MAX_REQUIRES_COUNT=16;static MAX_PUBKEY_SIZE=3e3;static IsValidItemName(e){return!!e&&(new TextEncoder).encode(e).length<=hc.MAX_ITEM_NAME_LENGTH}static parseObjectType=e=>Fa(e,"service::Service<");static parseOrderObjectType=e=>Fa(e,"order::Order<");static endpoint=(e,t,r)=>t||(e?e+"/sales/"+encodeURI(r):void 0);static DiscountObjects=(e,t)=>{Lo.Client().getOwnedObjects({owner:e,filter:{MoveModule:{module:"order",package:Lo.Instance().package("wowok")}},options:{showContent:!0,showType:!0}}).then((r=>{t(e,r.data.map((e=>e.data)))})).catch((e=>{console.log(e)}))};static SetOrderAgent=(e,t,r,s,i)=>{po(t)||Ba(wa.IsValidTokenType,"SetOrderAgent.order_token_type"),Lo.IsValidObjects([r])||Ba(wa.IsValidObjects,"SetOrderAgent.order"),go(s,no)||Ba(wa.IsValidArray,"SetOrderAgent.agent"),Ma(s).length>hc.MAX_ORDER_AGENT_COUNT&&Ba(wa.Fail,"SetOrderAgent.agent count"),i?e.moveCall({target:Lo.Instance().orderFn("agent_set_with_progress"),arguments:[e.object(r),e.pure.vector("address",Ma(s)),e.object(i)],typeArguments:[t]}):e.moveCall({target:Lo.Instance().orderFn("agent_set"),arguments:[e.object(r),e.pure.vector("address",Ma(s))],typeArguments:[t]})};static ChangeOrderPayer=(e,t,r,s)=>{po(t)||Ba(wa.IsValidTokenType,"ChangeOrderPayer.order_token_type"),Lo.IsValidObjects([r])||Ba(wa.IsValidObjects,"ChangeOrderPayer.order"),no(s)||Ba(wa.IsValidAddress,"ChangeOrderPayer.new_addr"),e.moveCall({target:Lo.Instance().orderFn("payer_change"),arguments:[e.object(r),e.pure.address(s)],typeArguments:[t]})}}class lc{object;txb;get_object(){return this.object}constructor(e){this.txb=e,this.object=""}static From(e){let t=new lc(e);return t.object=Lo.TXB_OBJECT(e,Lo.Instance().objectEntity()),t}mark(e,t,r){"string"!=typeof t||no(t)||Ba(wa.IsValidAddress,r),this.txb.moveCall({target:Lo.Instance().entityFn(r),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.get_object()),"string"==typeof t?this.txb.pure.address(t):t]})}update(e){e?.name&&!ro(e.name)&&Ba(wa.IsValidName,"update"),e?.description&&!to(e.description)&&Ba(wa.IsValidDesription,"update"),e?.avatar&&!Oo(e.avatar)&&Ba(wa.isValidHttpUrl,"update:avatar"),e?.twitter&&!ro(e.twitter)&&Ba(wa.IsValidName,"update:twitter"),e?.homepage&&!Oo(e.homepage)&&Ba(wa.isValidHttpUrl,"update:homepage"),e?.discord&&!ro(e.discord)&&Ba(wa.IsValidName,"update:discord");const t=za.getInstance().bcs.ser("PersonalInfo",{name:e.name?(new TextEncoder).encode(e.name):"",description:e?.description?(new TextEncoder).encode(e.description):"",avatar:e?.avatar??"",twitter:e?.twitter??"",discord:e?.discord??"",homepage:e?.homepage??""}).toBytes();this.txb.moveCall({target:Lo.Instance().entityFn("avatar_update"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("u8",[].slice.call(t))]})}create_resource(){return this.txb.moveCall({target:Lo.Instance().entityFn("resource_create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}create_resource2(){return this.txb.moveCall({target:Lo.Instance().entityFn("resource_create2"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}destroy_resource(e){return this.txb.moveCall({target:Lo.Instance().entityFn("resource_destroy"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.get_object())]})}use_resource(e){return this.txb.moveCall({target:Lo.Instance().entityFn("resource_use"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.get_object())]})}transfer_resource(e,t){return no(t)||Ba(wa.IsValidAddress,"transfer_resource"),this.txb.moveCall({target:Lo.Instance().entityFn("resource_transfer"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.get_object()),this.txb.pure.address(t)]})}query_ent(e){no(e)||Ba(wa.InvalidParam,"query_ent"),this.txb.moveCall({target:Lo.Instance().entityFn("QueryEnt"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e)]})}}class pc{object;txb;get_object(){return this.object}constructor(e){this.txb=e,this.object=""}static From(e){let t=new pc(e);return t.object=Lo.TXB_OBJECT(e,Lo.Instance().objectWowok()),t}register_grantor(e,t){ro(e)||Ba(wa.IsValidName,"register_grantor"),Lo.IsValidObjects([t])||Ba(wa.IsValidObjects,"register_grantor");const r=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);this.txb.moveCall({target:Lo.Instance().wowokFn("grantor_register"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),this.txb.object(r),Lo.TXB_OBJECT(this.txb,t)]})}grantor_time_expand_1year(e){no(e)||Ba(wa.IsValidAddress,"grantor_time_expand_1year"),this.txb.moveCall({target:Lo.Instance().wowokFn("grantor_time_expand_1year"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.address(e)]})}grantor_rename(e){ro(e)||Ba(wa.IsValidName,"grantor_rename"),this.txb.moveCall({target:Lo.Instance().wowokFn("grantor_time_expand_1year"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e)]})}mint(e,t){no(t)||Ba(wa.IsValidAddress,"mint"),uo(e)||Ba(wa.IsValidU64,"mint"),this.txb.moveCall({target:Lo.Instance().baseWowokFn("mint"),arguments:[Lo.TXB_OBJECT(this.txb,Lo.Instance().objectTreasuryCap()),this.txb.pure.u64(e),this.txb.pure.address(t)]})}oracle(e,t){return to(e)||Ba(wa.IsValidDesription,"oracle.description"),Lo.IsValidObjects([t])||Ba(wa.IsValidObjects,"oracle.permission"),this.txb.moveCall({target:Lo.Instance().wowokFn("oracle_repository"),arguments:[Lo.TXB_OBJECT(this.txb,Lo.Instance().objectOracle()),this.txb.pure.string(e),this.txb.object(t)]})}}!function(e){e.Like="like",e.Dislike="dislike",e.Launch="launch",e.Order="order",e.Payment="payment"}(nc||(nc={}));class _c{static MAX_ADDRESS_COUNT_FOR_TAG=1e3;static MAX_TAG_COUNT_FOR_ADDRESS=64;object;txb;get_object(){return this.object}constructor(e){this.txb=e,this.object=""}static From(e,t){let r=new _c(e);return r.object=Lo.TXB_OBJECT(e,t),r}launch(){return this.object||Ba(wa.Fail,"launch object Invalid"),this.txb.moveCall({target:Lo.Instance().resourceFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)]})}resolve_add(e,t){return t.find((e=>e===nc.Like))&&lc.From(this.txb).mark(this,e,nc.Like),t.find((e=>e===nc.Dislike))&&lc.From(this.txb).mark(this,e,nc.Dislike),t.filter((e=>e!==nc.Like&&e!==nc.Dislike&&ro(e)))}add(e,t,r){"string"!=typeof e||no(e)||Ba(wa.IsValidAddress,"Resource: add.address");var s=this.resolve_add(e,t);(r||0!==s.length)&&(r&&!ro(r)&&Ba(wa.IsValidName,"Resource: add.name"),s.length>_c.MAX_TAG_COUNT_FOR_ADDRESS&&(s=s.slice(0,_c.MAX_TAG_COUNT_FOR_ADDRESS)),this.txb.moveCall({target:Lo.Instance().resourceFn("add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),"string"==typeof e?this.txb.pure.address(e):e,this.txb.pure.option("string",r),this.txb.pure.vector("string",s)]}))}remove(e,t){"string"!=typeof e||no(e)||Ba(wa.IsValidAddress,"Resource: remove.address"),this.txb.moveCall({target:Lo.Instance().resourceFn("remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),"string"==typeof e?this.txb.pure.address(e):e,this.txb.pure.vector("string",t)]})}removeall(e){"string"!=typeof e||no(e)||Ba(wa.IsValidAddress,"Resource: removeall.address"),this.txb.moveCall({target:Lo.Instance().resourceFn("removeall"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),"string"==typeof e?this.txb.pure.address(e):e]})}static TagData(e,t=!0){const r=[];return e.forEach((e=>{e.tags.forEach((t=>{const s=r.find((e=>e.tag===t));s?s.address.find((t=>t===e.address))||s.address.push(e.address):r.push({tag:t,address:[e.address]})}))})),t&&Object.keys(nc).forEach((e=>{r.find((t=>t.tag===nc[e]))||r.push({tag:nc[e],address:[]})})),r}static Tags(e){const t=[];return e.address.forEach((r=>{const s=t.find((e=>e.address===r));s?s.tags.find((t=>t===e.tag))||s.tags.push(e.tag):t.push({address:r,tags:[e.tag]})})),t}}!function(e){e[e.PERMISSION=0]="PERMISSION",e[e.GUARD_ONLY_AND_IMMUTABLE=1]="GUARD_ONLY_AND_IMMUTABLE",e[e.BOTH_PERMISSION_AND_GUARD=2]="BOTH_PERMISSION_AND_GUARD"}(ac||(ac={})),function(e){e[e.WITHDRAW=1]="WITHDRAW",e[e.DEPOSIT=2]="DEPOSIT",e[e.RECEIVE=4]="RECEIVE"}(oc||(oc={}));class mc{token_type;permission;object;txb;get_token_type(){return this.token_type}get_object(){return this.object}static From(e,t,r,s){let i=new mc(e,t,r);return i.object=Lo.TXB_OBJECT(e,s),i}constructor(e,t,r){this.token_type=t,this.permission=r,this.txb=e,this.object=""}static New(e,t,r,s,i){Lo.IsValidObjects([r])||Ba(wa.IsValidObjects,"Treasury.New permission, bounty"),to(s)||Ba(wa.IsValidDesription,"Treasury.New.description"),_o(t)||Ba(wa.IsValidArgType,t);let n=new mc(e,t,r);return n.object=i?e.moveCall({target:Lo.Instance().treasuryFn("new_with_passport"),arguments:[i,e.pure.string(s),Lo.TXB_OBJECT(e,r)],typeArguments:[t]}):e.moveCall({target:Lo.Instance().treasuryFn("new"),arguments:[e.pure.string(s),Lo.TXB_OBJECT(e,r)],typeArguments:[t]}),n}launch(){return this.txb.moveCall({target:Lo.Instance().treasuryFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)],typeArguments:[this.token_type]})}set_deposit_guard(e,t){e&&!no(e)&&Ba(wa.IsValidAddress,"set_deposit_guard.guard"),t?e?this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_guard_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_guard_none_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):e?this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_guard_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_guard_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}deposit(e,t){Lo.IsValidObjects([e.coin])||Ba(wa.IsValidObjects,"deposit.param.coin"),to(e.remark)||Ba(wa.IsValidDesription,"deposit.param.remark"),e?.for_object&&!no(e.for_object)&&Ba(wa.IsValidAddress,"deposit.param.for_object"),e?.for_guard&&!no(e.for_guard)&&Ba(wa.IsValidAddress,"deposit.param.for_guard"),void 0===e.index||uo(e.index)||Ba(wa.InvalidParam,"deposit.param.index");const r=this.txb.pure.option("address",e.for_object?e.for_object:void 0),s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return t?e.for_guard?this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_forGuard_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.coin),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(e.for_guard),this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.coin),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):e.for_guard?this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit_forGuard"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.coin),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(e.for_guard),this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("deposit"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,e.coin),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}receive(e,t,r){Lo.IsValidObjects([e,t])||Ba(wa.IsValidArray,"receive.payment&received");const s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return r?this.txb.moveCall({target:Lo.Instance().treasuryFn("receive_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(t),this.txb.object(e),this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("receive"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(t),this.txb.object(e),this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}withdraw(e,t){if(0===e.items.length)return;go(e.items,(e=>uo(e.amount)&&no(e.address)))||Ba(wa.IsValidArray,"withdraw.param.items"),to(e.remark)||Ba(wa.IsValidDesription,"withdraw.param.remark"),uo(e.index)||Ba(wa.IsValidU64,"withdraw.param.index"),e?.for_guard&&!no(e.for_guard)&&Ba(wa.IsValidAddress,"withdraw.param.for_guard"),e?.for_object&&!no(e.for_object)&&Ba(wa.IsValidAddress,"withdraw.param.for_object"),e?.withdraw_guard&&!no(e.withdraw_guard)&&Ba(wa.IsValidAddress,"withdraw.param.withdraw_guard"),e?.withdraw_guard&&!t&&Ba(wa.IsValidAddress,"withdraw.param.withdraw_guard");const r=this.txb.pure.option("address",e.for_object?e.for_object:void 0),s=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return e.withdraw_guard&&t?e.for_guard?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_useGuard_forGuard"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e.items.map((e=>e.address))),this.txb.pure.vector("u64",e.items.map((e=>e.amount))),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(e.for_guard),this.txb.object(s),this.txb.object(e.withdraw_guard)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_useGuard"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e.items.map((e=>e.address))),this.txb.pure.vector("u64",e.items.map((e=>e.amount))),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(s),this.txb.object(e.withdraw_guard)],typeArguments:[this.token_type]}):t?e.for_guard?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_forGuard_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e.items.map((e=>e.address))),this.txb.pure.vector("u64",e.items.map((e=>e.amount))),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(e.for_guard),this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e.items.map((e=>e.address))),this.txb.pure.vector("u64",e.items.map((e=>e.amount))),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):e.for_guard?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_forGuard"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e.items.map((e=>e.address))),this.txb.pure.vector("u64",e.items.map((e=>e.amount))),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(e.for_guard),this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e.items.map((e=>e.address))),this.txb.pure.vector("u64",e.items.map((e=>e.amount))),this.txb.pure.u64(e.index),this.txb.pure.string(e.remark),r,this.txb.object(s),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}set_description(e,t){to(e)||Ba(wa.IsValidDesription,"set_description.description"),t?this.txb.moveCall({target:Lo.Instance().treasuryFn("description_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}set_withdraw_mode(e,t){t?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_mode_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u8(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_mode_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u8(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}add_withdraw_guard(e,t,r){no(e)||Ba(wa.IsValidAddress,"add_withdraw_guard.guard"),uo(t)||Ba(wa.IsValidU64,"add_withdraw_guard.amount"),r?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_guard_add_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),this.txb.pure.u64(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_guard_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),this.txb.pure.u64(t),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]})}remove_withdraw_guard(e,t,r){(0!==e.length||t)&&(go(e,no)||Ba(wa.IsValidArray,"add_withdraw_guard.guard"),r?t?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_guard_remove_all_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_guard_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):t?this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_guard_remove_all"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}):this.txb.moveCall({target:Lo.Instance().treasuryFn("withdraw_guard_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.token_type]}))}change_permission(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"change_permission.new_permission"),this.txb.moveCall({target:Lo.Instance().treasuryFn("permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[this.token_type]}),this.permission=e}static parseObjectType=e=>Fa(e,"treasury::Treasury<");static MAX_WITHDRAW_GUARD_COUNT=16}const bc=200;function gc(e,t,r){t||Ba(wa.InvalidParam,"Payment.New.pay_token_type"),r.receiver.length>bc&&Ba(wa.InvalidParam,"Payment.New.param.receiver"),go(r.receiver,(e=>no(e.address)&&Lo.IsValidObjects([e.coin])))||Ba(wa.IsValidArray,"Payment.New.param.receiver"),r?.for_object&&!no(r.for_object)&&Ba(wa.IsValidAddress,"Payment.New.param.for_object"),r?.for_guard&&!no(r.for_guard)&&Ba(wa.IsValidAddress,"Payment.New.param.for_guard"),r?.business_remark&&!to(r?.business_remark)&&Ba(wa.IsValidDesription,"Payment.New.param.business_remark");let s=e.pure.option("address",r.for_object?r.for_object:void 0);const i=e.sharedObjectRef(Lo.CLOCK_OBJECT);return r.for_guard?e.moveCall({target:Lo.Instance().paymentFn("create_withGuard"),arguments:[e.pure.vector("address",r.receiver.map((e=>e.address))),e.makeMoveVec({elements:r.receiver.map((e=>e.coin))}),s,e.object(r.for_guard),e.pure.u64(r.business_index),e.pure.string(r.business_remark),e.object(i)],typeArguments:[t]}):e.moveCall({target:Lo.Instance().paymentFn("create"),arguments:[e.pure.vector("address",r.receiver.map((e=>e.address))),e.makeMoveVec({elements:r.receiver.map((e=>e.coin))}),s,e.pure.u64(r.business_index),e.pure.string(r.business_remark),e.object(i)],typeArguments:[t]})}class yc{pay_token_type;permission;object;txb;get_pay_type(){return this.pay_token_type}get_object(){return this.object}constructor(e,t,r){this.pay_token_type=t,this.txb=e,this.permission=r,this.object=""}static From(e,t,r,s){let i=new yc(e,t,r);return i.object=Lo.TXB_OBJECT(e,s),i}static New(e,t,r,s,i,n,a){Lo.IsValidObjects([r,n])||Ba(wa.IsValidObjects),po(t)||Ba(wa.IsValidTokenType,"New.token_type"),to(s)||Ba(wa.IsValidDesription),uo(i)||Ba(wa.IsValidU64,"New.fee");let o=t,c=new yc(e,o,r);return c.object=a?e.moveCall({target:Lo.Instance().arbitrationFn("new_with_passport"),arguments:[a,e.pure.string(s),e.pure.u64(i),e.object(n),Lo.TXB_OBJECT(e,r)],typeArguments:[o]}):e.moveCall({target:Lo.Instance().arbitrationFn("new"),arguments:[e.pure.string(s),e.pure.u64(i),e.object(n),Lo.TXB_OBJECT(e,r)],typeArguments:[o]}),c}launch(){return this.txb.moveCall({target:Lo.Instance().arbitrationFn("create"),arguments:[Lo.TXB_OBJECT(this.txb,this.object)],typeArguments:[this.pay_token_type]})}set_description(e,t){to(e)||Ba(wa.IsValidDesription,"set_description.description"),t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("description_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("description_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_fee(e,t){uo(e)||Ba(wa.IsValidU64,"set_fee.fee"),t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("fee_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u64(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("fee_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.u64(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_endpoint(e,t){e&&!io(e)&&Ba(wa.IsValidEndpoint,"set_endpoint.endpoint"),t?e?this.txb.moveCall({target:Lo.Instance().arbitrationFn("endpoint_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("endpoint_none_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):e?this.txb.moveCall({target:Lo.Instance().arbitrationFn("endpoint_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.string(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("endpoint_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}add_voting_guard(e,t){0!==e.length&&(go(e,(e=>Lo.IsValidObjects([e.guard])&&uo(e.voting_weight)))||Ba(wa.IsValidArray,"add_voting_guard.guard"),t?e.forEach((e=>{this.txb.moveCall({target:Lo.Instance().arbitrationFn("voting_guard_add_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.guard),this.txb.pure.u64(e.voting_weight),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})})):e.forEach((e=>{this.txb.moveCall({target:Lo.Instance().arbitrationFn("voting_guard_add"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.guard),this.txb.pure.u64(e.voting_weight),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})})))}remove_voting_guard(e,t,r){(t||0!==e.length)&&(go(e,no)||Ba(wa.IsValidArray,"remove_voting_guard.guard"),r?t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("voting_guard_removeall_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("voting_guard_remove_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("voting_guard_removeall"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("voting_guard_remove"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.vector("address",e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}))}set_guard(e,t){e&&!no(e)&&Ba(wa.IsValidAddress,"set_guard.apply_guard"),t?e?this.txb.moveCall({target:Lo.Instance().arbitrationFn("usage_guard_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("usage_guard_none_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):e?this.txb.moveCall({target:Lo.Instance().arbitrationFn("usage_guard_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("usage_guard_none"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}pause(e,t){t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("pause_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("pause"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.pure.bool(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}vote(e,t){e.voting_guard&&!Lo.IsValidObjects([e.voting_guard])&&Ba(wa.IsValidObjects,"vote.param.voting_guard"),go(e.agrees,(e=>uo(e)&&e<yc.MAX_PROPOSITION_COUNT))||Ba(wa.IsValidArray,"vote.param.agrees"),Lo.IsValidObjects([e.arb])||Ba(wa.IsValidObjects,"vote.param.arb");const r=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);t?e.voting_guard?this.txb.moveCall({target:Lo.Instance().arbitrationFn("vote_with_passport"),arguments:[t,this.txb.object(e.voting_guard),Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.arb),this.txb.pure.vector("u8",e.agrees),this.txb.object(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("vote2_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.arb),this.txb.pure.vector("u8",e.agrees),this.txb.object(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("vote"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.arb),this.txb.pure.vector("u8",e.agrees),this.txb.object(r),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}arbitration(e,t){to(e.feedback)||Ba(wa.IsValidDesription,"arbitration.param.feedback"),Lo.IsValidObjects([e.arb])||Ba(wa.IsValidObjects,"arbitration.param.arb"),e.indemnity&&!uo(e.indemnity)&&Ba(wa.IsValidU64,"arbitration.param.indemnity");let r=this.txb.pure.option("u64",e.indemnity?e.indemnity:void 0);t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("arbitration_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.arb),this.txb.pure.string(e.feedback),r,Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("arbitration"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.arb),this.txb.pure.string(e.feedback),r,Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}withdraw_fee(e,t,r){Lo.IsValidObjects([e,t.treasury])||Ba(wa.IsValidObjects,"withdraw_fee.arb or treasury"),t?.for_guard&&!Lo.IsValidObjects([t.for_guard])&&Ba(wa.IsValidObjects,"withdraw_fee.param.for_guard"),t?.for_object&&!no(t.for_object)&&Ba(wa.IsValidAddress,"withdraw_fee.param.for_object"),to(t.remark)||Ba(wa.IsValidDesription,"withdraw_fee.param.remark"),uo(t.index)||Ba(wa.IsValidU64,"withdraw_fee.param.index");const s=this.txb.pure.option("address",t.for_object?t.for_object:void 0),i=this.txb.sharedObjectRef(Lo.CLOCK_OBJECT);return r?t.for_guard?this.txb.moveCall({target:Lo.Instance().arbitrationFn("withdraw_forGuard_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),this.txb.object(t.treasury),s,this.txb.object(t.for_guard),this.txb.pure.u64(t.index),this.txb.pure.string(t.remark),this.txb.object(i),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("withdraw_with_passport"),arguments:[r,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),this.txb.object(t.treasury),s,this.txb.pure.u64(t.index),this.txb.pure.string(t.remark),this.txb.object(i),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):t.for_guard?this.txb.moveCall({target:Lo.Instance().arbitrationFn("withdraw_forGuard"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),this.txb.object(t.treasury),s,this.txb.object(t.for_guard),this.txb.pure.u64(t.index),this.txb.pure.string(t.remark),this.txb.object(i),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("withdraw"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),this.txb.object(t.treasury),s,this.txb.pure.u64(t.index),this.txb.pure.string(t.remark),this.txb.object(i),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}set_withdrawTreasury(e,t){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects,"set_withdrawTreasury.treasury"),t?this.txb.moveCall({target:Lo.Instance().arbitrationFn("withdraw_treasury_set_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("withdraw_treasury_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e),Lo.TXB_OBJECT(this.txb,this.permission)],typeArguments:[this.pay_token_type]})}dispute(e,t){return Lo.IsValidObjects([e.order])||Ba(wa.IsValidObjects,"dispute.param.order"),po(e.order_token_type)||Ba(wa.IsValidTokenType,"dispute.param.order_token_type"),to(e.description)||Ba(wa.IsValidDesription,"dispute.param.description"),go(e.votable_proposition,ro)||Ba(wa.IsValidArray,"dispute.param.votable_proposition"),t?e.fee?this.txb.moveCall({target:Lo.Instance().arbitrationFn("dispute_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.order),this.txb.pure.string(e.description),this.txb.pure.vector("string",Ma(e.votable_proposition)),this.txb.object(e.fee)],typeArguments:[this.pay_token_type,e.order_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("free_dispute_with_passport"),arguments:[t,Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.order),this.txb.pure.string(e.description),this.txb.pure.vector("string",Ma(e.votable_proposition))],typeArguments:[this.pay_token_type,e.order_token_type]}):e.fee?this.txb.moveCall({target:Lo.Instance().arbitrationFn("dispute"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.order),this.txb.pure.string(e.description),this.txb.pure.vector("string",Ma(e.votable_proposition)),this.txb.object(e.fee)],typeArguments:[this.pay_token_type,e.order_token_type]}):this.txb.moveCall({target:Lo.Instance().arbitrationFn("free_dispute"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),this.txb.object(e.order),this.txb.pure.string(e.description),this.txb.pure.vector("string",Ma(e.votable_proposition))],typeArguments:[this.pay_token_type,e.order_token_type]})}change_permission(e){Lo.IsValidObjects([e])||Ba(wa.IsValidObjects),this.txb.moveCall({target:Lo.Instance().arbitrationFn("permission_set"),arguments:[Lo.TXB_OBJECT(this.txb,this.object),Lo.TXB_OBJECT(this.txb,this.permission),Lo.TXB_OBJECT(this.txb,e)],typeArguments:[this.pay_token_type]}),this.permission=e}static parseObjectType=e=>Fa(e,"arbitration::Arbitration<");static parseArbObjectType=e=>Fa(e,"arb::Arb<");static queryArbVoted=()=>{};static MAX_PROPOSITION_COUNT=16;static MAX_VOTING_GUARD_COUNT=16}class fc extends Error{}async function Tc({host:e,path:t,body:r,headers:s,method:i}){const n=new URL(t,e).toString(),a=await fetch(n,{method:i,body:r?JSON.stringify(r):void 0,headers:{"Content-Type":"application/json",...s||{}}});if(429===a.status)throw new fc("Too many requests from this client have been sent to the faucet. Please retry later");try{const e=await a.json();if(e.error)throw new Error(`Faucet returns error: ${e.error}`);return e}catch(e){throw new Error(`Encountered error when parsing response from faucet, error: ${e}, status ${a.status}, response ${a}`)}}async function Ec(e){return Tc({host:e.host,path:"/gas",body:{FixedAmountRequest:{recipient:e.recipient}},headers:e.headers,method:"POST"})}async function vc(e){return Tc({host:e.host,path:"/v1/gas",body:{FixedAmountRequest:{recipient:e.recipient}},headers:e.headers,method:"POST"})}function xc(e){switch(e){case"testnet":return"https://faucet.testnet.sui.io";case"devnet":return"https://faucet.devnet.sui.io";case"localnet":return"http://127.0.0.1:9123";default:throw new Error(`Unknown network: ${e}`)}}})(),s})()));